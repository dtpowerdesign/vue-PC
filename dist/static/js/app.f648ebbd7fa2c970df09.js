webpackJsonp([2],{"+cME":function(t,e){},"+pp0":function(t,e){},"/R6c":function(t,e){},"/XC8":function(t,e){},"/fQW":function(t,e){},0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"08fc":function(t,e){},"0jn1":function(t,e){},"1SDw":function(t,e,a){"use strict";e.a={checkName:function(t){t=t.substr(0,1);return r=" 赵钱孙李周吴郑王冯陈褚卫蒋沈韩杨朱秦尤许何吕施张孔曹严华金魏陶姜戚谢邹喻柏水窦章云苏潘葛奚范彭郎鲁韦昌马苗凤花方俞任袁柳酆鲍史唐费廉岑薛雷贺倪汤 滕殷罗毕郝邬安常乐于时傅皮卞齐康伍余元卜顾孟平黄和穆萧尹姚邵堪汪祁毛禹狄米贝明臧计伏成戴谈宋茅庞熊纪舒屈项祝董粱杜阮蓝闵席季麻强贾路娄危江童颜郭 梅盛林刁钟徐邱骆高夏蔡田樊胡凌霍虞万支柯咎管卢莫经房裘缪干解应宗宣丁贲邓郁单杭洪包诸左石崔吉钮龚程嵇邢滑裴陆荣翁荀羊於惠甄魏加封芮羿储靳汲邴糜松 井段富巫乌焦巴弓牧隗山谷车侯宓蓬全郗班仰秋仲伊宫宁仇栾暴甘钭厉戎祖武符刘姜詹束龙叶幸司韶郜黎蓟薄印宿白怀蒲台从鄂索咸籍赖卓蔺屠蒙池乔阴郁胥能苍双 闻莘党翟谭贡劳逄姬申扶堵冉宰郦雍郤璩桑桂濮牛寿通边扈燕冀郏浦尚农温别庄晏柴瞿阎充慕连茹习宦艾鱼容向古易慎戈廖庚终暨居衡步都耿满弘匡国文寇广禄阙东 殴殳沃利蔚越夔隆师巩厍聂晁勾敖融冷訾辛阚那简饶空曾毋沙乜养鞠须丰巢关蒯相查后江红游竺权逯盖益桓公万俟司马上官欧阳夏侯诸葛闻人东方赫连皇甫尉迟公羊 澹台公冶宗政濮阳淳于仲孙太叔申屠公孙乐正轩辕令狐钟离闾丘长孙慕容鲜于宇文司徒司空亓官司寇仉督子车颛孙端木巫马公西漆雕乐正壤驷公良拓拔夹谷宰父谷粱 晋楚闫法汝鄢涂钦段干百里东郭南门呼延妫海羊舌微生岳帅缑亢况後有琴梁丘左丘东门西门商牟佘佴伯赏南宫墨哈谯笪年爱阳佟第五言福".search(t),-1!==r}}},"29FU":function(t,e){},"3fvX":function(t,e){},"4Aqk":function(t,e,a){"use strict";var s={data:function(){return{msg:"南瑞美思"}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:a("QU04"),alt:""}}),this._v(" "),e("span",[this._v(this._s(this.msg))]),this._v(" "),e("el-tooltip",{attrs:{content:"点我进行导航",placement:"bottom",effect:"light"}},[e("i",{staticClass:"icon iconfont icon-iconfontquestion",staticStyle:{color:"white","font-size":"1.5rem",curser:"pointer"},attrs:{onclick:"introJs().setOption('showProgress', true).start();"}})])],1)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("FgOQ")},"data-v-126580ac",null);e.a=o.exports},"4Md/":function(t,e){},"6BNB":function(t,e){},"6ZRK":function(t,e){},"6gAE":function(t,e){},"6h1V":function(t,e){},"6tTZ":function(t,e,a){"use strict";(function(t){e.a={data:function(){return{data:[],dialogVisibleChatGroup:!1,dialogVisibleChat:!1,toUserId:"",toName:"",message:"",ChatMsg:[],limit:3}},computed:{getData:function(){return this.data.reverse()}},mounted:function(){var e=this;this.$one.$on("skipChat",function(t){e.dialogVisibleChat=!0,e.dialogVisibleChatGroup=!1,e.toUserId=t.account,e.toName=t.name,e.limit=3,e.getChatMsg()}),this.initData(),this.$one.$on("refresh",function(a){console.log(a),a.targetId===e.toUserId&&(e.ChatMsg.push({fromUserId:a.senderUserId,fromUserName:a.content.extra.name,msgTime:{date:(new Date).getDate(),day:new Date(a.receivedTime).getDay(),month:new Date(a.receivedTime).getMonth(),hours:new Date(a.receivedTime).getHours(),minutes:new Date(a.receivedTime).getMinutes(),seconds:new Date(a.receivedTime).getSeconds(),year:new Date(a.receivedTime).getYear()},message:{content:a.content.content}}),e.$nextTick(function(){t(".chatContent")&&t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)})),"normal"===JSON.parse(a.content.extra).type&&(e.data=e.data.filter(function(t){return t.otherUserId!==a.targetId}),e.data.push({otherName:JSON.parse(a.content.extra).otherName,otherUserId:a.targetId,fromUserId:a.senderUserId,fromUserName:JSON.parse(a.content.extra).name,msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:a.content.content},msgToType:"normal"})),"group"===JSON.parse(a.content.extra).type&&(e.data=e.data.filter(function(t){return t.otherUserId!==a.targetId}),e.data.push({otherName:JSON.parse(a.content.extra).otherName,otherUserId:a.targetId,fromUserId:a.senderUserId,fromUserName:JSON.parse(a.content.extra).name,msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:a.content.content},msgToType:"group"}))})},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/sync",{userId:this.$cookie.get("user")}).then(function(e){200===e.data.code||t.$message({type:"warning",message:"群消息同步失败"})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getCurrentLinkMan",{userId:this.$cookie.get("user")}).then(function(e){console.log(e.data),t.data=e.data}).catch(function(t){console.log(t)})},open:function(t){"group"===t.msgToType?(this.dialogVisibleChat=!1,this.dialogVisibleChatGroup=!0,this.toUserId=t.otherUserId,this.toName=t.otherName,this.limit=3,this.getChatMsgGroup()):(this.dialogVisibleChat=!0,this.dialogVisibleChatGroup=!1,this.toUserId=t.otherUserId,this.toName=t.otherName,this.limit=3,this.getChatMsg())},getChatMsg:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getLimitChatMsgOfNormal",{userId1:this.toUserId,userId2:this.$cookie.get("user"),count:this.limit,start:0}).then(function(e){console.log(e.data),t.ChatMsg=e.data})},getChatMsgGroup:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getChatMsgOfGroup",{groupId:this.toUserId,count:this.limit,start:0}).then(function(e){console.log(e.data),t.ChatMsg=e.data})},send:function(){var e=this;""===this.message?this.$message({type:"info",message:"该条消息为空哦"}):this.$http.post(this.$domain.domain1+"electric-design/private_publish",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),toUserId:this.toUserId,toName:this.toName,objectName:"RC:TxtMsg",message:{content:this.message,extra:{name:this.$cookie.get("name"),type:"normal",otherName:this.$cookie.get("name")}}}).then(function(a){200===a.data.code?(e.ChatMsg.push({fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message}}),e.data=e.data.filter(function(t){return t.otherUserId!==e.toUserId}),e.data.push({otherName:e.toName,otherUserId:e.toUserId,fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message},msgToType:"normal",belongToUser:e.$cookie.get("user")}),e.$nextTick(function(){t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}),e.message=""):e.$message({type:"warning",message:"发送失败"+a.data.code})})},sendGroup:function(){var e=this;""===this.message?this.$message({type:"info",message:"该条消息为空哦"}):this.$http.post(this.$domain.domain1+"electric-design/group_publish",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),toGroupId:this.toUserId,toName:this.toName,objectName:"RC:TxtMsg",message:{content:this.message,extra:{name:this.$cookie.get("name"),type:"group",otherName:this.toName}}}).then(function(a){200===a.data.code?(e.ChatMsg.push({fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message}}),e.data=e.data.filter(function(t){return t.otherUserId!==e.toUserId}),e.data.push({otherName:e.toName,otherUserId:e.toUserId,fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message},msgToType:"group",belongToUser:e.$cookie.get("user")}),e.$nextTick(function(){t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}),e.message=""):e.$message({type:"warning",message:"发送失败"+a.data.code})})},chatDelete:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/delTableRecod",{table:"currentChat",keyNames:["belongToUser","otherUserId"],keyValues:[this.$cookie.get("user"),t.otherUserId]}).then(function(t){t.data.result?(e.$message({type:"success",message:"聊天记录删除成功"}),e.data=e.data.filter(function(t){return t.otherUserId!==e.toUserId})):(e.$message({type:"warning",message:"失败原因:"+t.data.reason}),console.log(t.data))}).catch(function(t){console.log(t)})}}}}).call(e,a("4kSj"))},"774+":function(t,e){},"7BvD":function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comleftNav"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/",router:"","background-color":"#4d83e7","text-color":"#fff","active-background-color":"#409EFF","default-openeds":["company","CM","statistics"]}},[e("el-submenu",{attrs:{index:"CM"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-guanli"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("项目管理")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/com/PM-new","data-step":"1","data-intro":"我要发布新任务","data-position":"right"}},[this._v("发布新任务")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/CM-sumary/2","data-step":"4","data-intro":"参与项目浏览","data-position":"bottom"}},[this._v("项目汇总")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/CM-combo/2"}},[this._v("联合体")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"company"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-gerenziliao"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("企业资料")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/com/company-comAchi"}},[this._v("企业业绩")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/uploadAchieve"}},[this._v("上传业绩")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/company-register","data-step":"2","data-intro":"完善个人信息","data-position":"right"}},[this._v("企业信息")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"statistics"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-tongji"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("统计信息")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/com/Cstatistics-time"}},[this._v("时间统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/Cstatistics-discuss"}},[this._v("洽谈统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/com/Cstatistics-credit"}},[this._v("提资统计")])],1)],2)],1)],1)},staticRenderFns:[]};var n=a("VU/8")({data:function(){return{}}},s,!1,function(t){a("774+")},"data-v-59dd70f0",null);e.a=n.exports},"7KdW":function(t,e){},"7Nf5":function(t,e,a){"use strict";e.a={pre:function(t){return-1===t.search("'")&&-1===t.search('"')&&-1===t.search("%")}}},"7V0N":function(t,e){},"7Ycg":function(t,e){},"7u3w":function(t,e){},"7wb3":function(t,e){},"85hw":function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("p1rd"),i=a("NYxO"),r={store:o.a,data:function(){return{search:"",jsonAll:{}}},computed:Object(i.c)(["table"]),methods:n()({mySearch:function(){var t=this;this.$parent.loadingContent=!0,this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.$store.state.json={};for(var a in e.data)t.$store.state.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={value:t.search};t.$http.post(t.$domain.domain1+"electric-design/searchProjectsByValue",a).then(function(e){console.log(e.data),t.$store.state.table=[],0!==e.data&&e.data.forEach(function(e,a){if("投标中"===e.state){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.$store.state.table.push(s)}}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}},Object(i.b)(["add"]))},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"搜索你感兴趣的项目"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.mySearch()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:function(e){t.mySearch()}},slot:"suffix"})])],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("mxGx")},"data-v-3ba2f6aa",null);e.a=c.exports},"8pVB":function(t,e){},Age4:function(t,e){},AnFf:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"leftNav"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/",router:"","background-color":"#4d83e7","text-color":"#fff","active-background-color":"#409EFF","default-openeds":["person","PM","statistics"]}},[e("el-submenu",{attrs:{index:"PM"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-guanli"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("项目管理")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/per/PM-new","data-step":"1","data-intro":"我要发布新任务","data-position":"right"}},[this._v("发布新任务")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/PM-sumary/2","data-step":"4","data-intro":"参与项目浏览","data-position":"bottom"}},[this._v("项目汇总")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/PM-combo/2"}},[this._v("联合体")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"person"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-gerenziliao"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("个人资料")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/per/person-perAchi"}},[this._v("个人业绩")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/uploadAchieve"}},[this._v("上传业绩")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/person-register","data-step":"2","data-intro":"完善个人信息","data-position":"right"}},[this._v("注册信息")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"statistics"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-tongji"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("统计信息")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/per/statistics-time"}},[this._v("时间统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/statistics-discuss"}},[this._v("洽谈统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per/statistics-credit"}},[this._v("提资统计")])],1)],2)],1)],1)},staticRenderFns:[]};var n=a("VU/8")({data:function(){return{}}},s,!1,function(t){a("EhJw")},"data-v-0f8cb892",null);e.a=n.exports},Az5d:function(t,e){},AzFm:function(t,e){},BCaT:function(t,e){},BE4C:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("p1rd"),i=a("NYxO"),r={store:o.a,data:function(){return{max:"",classes:[],type:[],stage:[],voltage:[],domain:[],tags:[],jsonAll:{}}},computed:Object(i.c)(["table","json"]),mounted:function(){this.initData()},methods:n()({initData:function(){var t=this;this.$parent.loadingClassify=!0,this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.classes=e.data.categorys,t.type=e.data.types,t.stage=e.data.designProcess,t.voltage=e.data.sizeAndCapacitys,t.domain=e.data.majors,t.$parent.loadingClassify=!1}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5}},Object(i.b)(["add"]),{add1:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag1.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add2:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag2.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add3:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag3.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add4:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag4.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add5:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag5.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})}}),watch:{tags:function(){var t=this;this.$parent.loadingContent=!0,this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.$store.state.json={};for(var a in e.data)t.$store.state.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["投标中"]},category:{searchMethod:"values",values:t.tag1},type:{searchMethod:"values",values:t.tag2},designProcess:{searchMethod:"values",values:t.tag3},sizeAndCapacity:{searchMethod:"values",values:t.tag4},major:{searchMethod:"values",values:t.tag5}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectsByMultiConditions",a).then(function(e){t.$store.state.table=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.$store.state.table.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"classify"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类别:")]),t._l(t.classes,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add1(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类型:")]),t._l(t.type,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add2(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("设计阶段:")]),t._l(t.stage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add3(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("规模容量:")]),t._l(t.voltage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add4(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("涉及专业:")]),t._l(t.domain,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add5(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"clearfix"})])},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("pjZg")},"data-v-4b7206e8",null);e.a=c.exports},C5aH:function(t,e){},CG8q:function(t,e,a){"use strict";(function(t){var s=a("7BvD"),n=a("4Aqk"),o=a("SUIp"),i=a("LrlY");e.a={components:{comleftNav:s.a,logo:n.a,Info:o.a,Drag:i.a},data:function(){return{}},mounted:function(){t("#puser").css("color","#409EFF"),this.initData()},methods:{initData:function(){this.$refs.Info.initData()}}}}).call(e,a("4kSj"))},DdWF:function(t,e,a){"use strict";var s={data:function(){return{msg:""}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom"},[e("div",{staticClass:"div1"},[e("img",{attrs:{src:a("QU04"),alt:""}}),e("span",[this._v(this._s(this.msg))])]),this._v(" "),this._m(0),this._v(" "),e("div",{staticStyle:{clear:"both"}}),this._v(" "),this._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"ul1"},[e("li",[e("span",{staticClass:"ul1-title"},[this._v("关于平台")]),this._v(" "),e("ul",{staticClass:"ul2"},[e("li",[this._v("关于我们")]),this._v(" "),e("li",[this._v("平台需知")]),this._v(" "),e("li",[this._v("安全声明")]),this._v(" "),e("li",[this._v("其他")])])]),this._v(" "),e("li",[e("span",{staticClass:"ul1-title"},[this._v("个人门户")]),this._v(" "),e("ul",{staticClass:"ul2"},[e("li",[this._v("注册个人账号")]),this._v(" "),e("li",[this._v("平台门户")])])]),this._v(" "),e("li",[e("span",{staticClass:"ul1-title"},[this._v("企业门户")]),this._v(" "),e("ul",{staticClass:"ul2"},[e("li",[this._v("注册企业账号")]),this._v(" "),e("li",[this._v("发布指南")])])]),this._v(" "),e("li",[e("span",{staticClass:"ul1-title"},[this._v("二维码")]),this._v(" "),e("img",{staticStyle:{width:"80%","margin-top":"1rem"},attrs:{src:a("abrA"),alt:""}})]),this._v(" "),e("li",{staticStyle:{clear:"both",width:"0",height:"0"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"copy"},[e("p",[this._v("版权所有©")])])}]};var o=a("VU/8")(s,n,!1,function(t){a("lTKy")},"data-v-ca132f32",null);e.a=o.exports},DtEu:function(t,e){},EhJw:function(t,e){},FgOQ:function(t,e){},H3aN:function(t,e){},Hmjf:function(t,e){},J3Mt:function(t,e){},JJfk:function(t,e){},JLr2:function(t,e){},JN2k:function(t,e){},JOtb:function(t,e,a){"use strict";var s={store:a("p1rd").a,data:function(){return{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[]}},mounted:function(){this.tags=this.$store.state.tags,this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5},methods:{close:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tag1.splice(this.tags.indexOf(t),1),this.tag2.splice(this.tags.indexOf(t),1),this.tag3.splice(this.tags.indexOf(t),1),this.tag4.splice(this.tags.indexOf(t),1),this.tag5.splice(this.tags.indexOf(t),1)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag"},[a("span",{staticStyle:{float:"left","font-size":"1.5rem","line-height":"2rem",color:"#409EFF","margin-left":"2rem"}},[t._v("已选:")]),t._v(" "),t._l(t.tags,function(e){return a("el-tag",{key:e.name,staticStyle:{color:"#fff"},attrs:{closable:"",type:e.type,color:"#909399"},on:{close:function(a){t.close(e)}}},[t._v("\n   "+t._s(e)+"\n ")])})],2)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("M/wO")},"data-v-014d41b8",null);e.a=o.exports},Jbsu:function(t,e){},JjXB:function(t,e){},JxYb:function(t,e){},Kskd:function(t,e){},LQtW:function(t,e){},LnGT:function(t,e,a){"use strict";var s={store:a("XnMs").a,data:function(){return{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[]}},mounted:function(){this.tags=this.$store.state.tags,this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5},methods:{close:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tag1.splice(this.tags.indexOf(t),1),this.tag2.splice(this.tags.indexOf(t),1),this.tag3.splice(this.tags.indexOf(t),1),this.tag4.splice(this.tags.indexOf(t),1),this.tag5.splice(this.tags.indexOf(t),1)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag"},[a("span",{staticStyle:{float:"left","font-size":"1.5rem","line-height":"2rem",color:"#409EFF","margin-left":"2rem"}},[t._v("已选:")]),t._v(" "),t._l(t.tags,function(e){return a("el-tag",{key:e.name,staticStyle:{color:"#fff"},attrs:{closable:"",type:e.type,color:"#909399"},on:{close:function(a){t.close(e)}}},[t._v("\n   "+t._s(e)+"\n ")])})],2)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("jRak")},"data-v-76ec3a50",null);e.a=o.exports},LrlY:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"dragDiv"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"返回",placement:"right"}},[a("i",{staticClass:"icon iconfont icon-fanhui",staticStyle:{color:"#E6A23C","font-size":"4rem"},on:{click:function(e){e.stopPropagation(),t.$router.go(-1)}}})]),t._v(" "),a("br"),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"及时聊天",placement:"right"}},[a("i",{staticClass:"icon iconfont icon-conversation_icon",staticStyle:{color:"#E6A23C","font-size":"4rem"},on:{click:function(e){e.stopPropagation(),t.$router.push("/chat/contact")}}})]),t._v(" "),a("br"),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"设置",placement:"right"}},[a("i",{staticClass:"icon iconfont icon-iconfonticonfontjixieqimo",staticStyle:{color:"#E6A23C","font-size":"4rem"},on:{click:function(e){e.stopPropagation(),t.$router.push("/changeTable/project")}}})])],1)},staticRenderFns:[]};var n=a("VU/8")({data:function(){return{}},methods:{}},s,!1,function(t){a("O3fA")},"data-v-eafb7f26",null);e.a=n.exports},"M/wO":function(t,e){},M93x:function(t,e,a){"use strict";var s={name:"app",data:function(){return{navi:""}},mounted:function(){var t=this;this.$nextTick(function(){t.$startInit(t.$cookie.get("user"),{token:t.$cookie.get("token")})}),this.$one.$on("hasApply",function(e){"/chat/apply"!==t.$route.path&&t.$notify.info({title:"申请消息",dangerouslyUseHTMLString:!0,message:'<p style="color:#409EFF;cursor:pointer">'+e.content.content+"</p>",onClick:function(){t.$router.push("/chat/apply")},duration:0,position:"top-right"})}),this.$one.$on("has",function(e){console.log("111"),"/chat/contact"!==t.$route.path&&("normal"===JSON.parse(e.content.extra).type&&t.$notify.info({title:"聊天消息",message:"来自"+JSON.parse(e.content.extra).otherName+"的私聊信息",onClick:function(){t.$router.push("/chat/contact")},duration:0,position:"bottom-right"}),"group"===JSON.parse(e.content.extra).type&&t.$notify.info({title:"聊天消息",message:"来自"+JSON.parse(e.content.extra).otherName+"的群信息",onClick:function(){t.$router.push("/chat/contact")},duration:0,position:"bottom-right"}))})},computed:{token:function(){return this.$cookie.get("token")},appKey:function(){return this.$appKey.appKey}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("div",{staticStyle:{height:"0",overflow:"hidden"}},[e("div",{attrs:{id:"appKey"}},[this._v(this._s(this.appKey))]),this._v(" "),e("div",{attrs:{id:"token"}},[this._v(this._s(this.token))]),this._v(" "),e("div",{attrs:{id:"navi"}},[this._v(this._s(this.navi))])])],1)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(t){a("hReB")},null,null);e.a=o.exports},MLwk:function(t,e,a){"use strict";(function(t){e.a={data:function(){return{name:this.$cookie.get("user")?this.$cookie.get("user"):"您还未登陆哦",projectList:[]}},mounted:function(){this.initData()},methods:{show:function(){t(".Info>div>.nav").fadeToggle(1e3)},initData:function(){var t=this,e={conditions:{aboutUsers:{searchMethod:"values",values:[this.$cookie.get("user")]}}};this.$http.post(this.$domain.domain1+"electric-design/getProjectAboutUser",e).then(function(e){console.log(e.data),t.projectList=[],e.data.forEach(function(e,a){t.projectList.push({name:e.name,code:e.code,state:e.state})})}).catch(function(t){console.log(t)})}}}}).call(e,a("4kSj"))},MRrd:function(t,e,a){"use strict";(function(t){e.a={data:function(){return{data:[],dialogVisibleChat:!1,toUserId:"",toName:"",message:"",ChatMsg:[],limit:3}},mounted:function(){var e=this;this.initData(),this.$one.$on("refresh",function(a){console.log(a),a.targetId===e.toUserId&&(e.ChatMsg.push({fromUserId:a.senderUserId,fromUserName:a.content.extra.name,msgTime:{date:(new Date).getDate(),day:new Date(a.receivedTime).getDay(),month:new Date(a.receivedTime).getMonth(),hours:new Date(a.receivedTime).getHours(),minutes:new Date(a.receivedTime).getMinutes(),seconds:new Date(a.receivedTime).getSeconds(),year:new Date(a.receivedTime).getYear()},message:{content:a.content.content}}),e.$nextTick(function(){t(".chatContent")&&t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}))})},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/sync",{userId:this.$cookie.get("user")}).then(function(e){200===e.data.code||t.$message({type:"warning",message:"群消息同步失败"})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getAllGroupAboutUser",{userId:this.$cookie.get("user")}).then(function(e){console.log(e.data),t.data=e.data}).catch(function(t){console.log(t)})},getChatMsg:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getChatMsgOfGroup",{groupId:this.toUserId,count:this.limit,start:0}).then(function(e){console.log(e.data),t.ChatMsg=e.data})},open:function(t,e){this.dialogVisibleChat=!0,this.toUserId=t,this.toName=e,this.limit=3,this.getChatMsg()},send:function(){var e=this;""===this.message?this.$message({type:"info",message:"该条消息为空哦"}):this.$http.post(this.$domain.domain1+"electric-design/group_publish",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),toGroupId:this.toUserId,toName:this.toName,objectName:"RC:TxtMsg",message:{content:this.message,extra:{name:this.$cookie.get("name"),type:"group",otherName:this.toName}}}).then(function(a){200===a.data.code?(e.ChatMsg.push({fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message}}),e.$nextTick(function(){t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}),e.message=""):e.$message({type:"warning",message:"发送失败"+a.data.code})})},myQuit:function(t,e){var a=this;this.$confirm("此操作将永久退出该群, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.$domain.domain1+"electric-design/quit",{userIds:[a.$cookie.get("user")],groupId:t}).then(function(t){200===t.data.code?(a.$message({type:"success",message:"成功退出群"+e}),a.initData()):a.$message({type:"warning",message:"退出群"+e+"失败,原因:"+t.data.code})}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消"})})},myDismiss:function(t,e){var a=this;this.$confirm("此操作将永久解散该群, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.$domain.domain1+"electric-design/dismiss",{userIds:[a.$cookie.get("user")],groupId:t}).then(function(t){200===t.data.code?(a.$message({type:"success",message:"成功解散群"+e}),a.initData()):a.$message({type:"warning",message:"解散群"+e+"失败,原因:"+t.data.code})}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}}}).call(e,a("4kSj"))},MiD0:function(t,e,a){"use strict";(function(t){var s=a("AnFf"),n=a("4Aqk"),o=a("SUIp"),i=a("LrlY");e.a={components:{leftNav:s.a,logo:n.a,Info:o.a,Drag:i.a},data:function(){return{}},mounted:function(){t("#puser").css("color","#409EFF"),this.initData()},methods:{initData:function(){this.$refs.Info.initData()}}}}).call(e,a("4kSj"))},"NA/C":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=a("j1ja"),s=(a.n(e),a("7+uW")),n=a("M93x"),o=a("YaEn"),i=a("zL8q"),r=a.n(i),l=a("mtWM"),c=a.n(l),u=a("1nuA"),d=a.n(u),m=a("tvR6"),p=(a.n(m),a("Stau")),h=a("O2bp"),f=a("K/Lq"),v=a.n(f),g=a("1SDw"),_=a("7Nf5"),y=a("Wi4Z"),b=a("q9tn");s.default.use(v.a),s.default.prototype.$domain=p.a,s.default.prototype.$appKey=h.a,s.default.prototype.$preSQL=_.a,s.default.prototype.cookie=v.a,s.default.prototype.$check=g.a,s.default.prototype.$formDate=y.a,s.default.config.productionTip=!1,s.default.use(r.a),s.default.prototype.$http=c.a,s.default.prototype.$qs=d.a,s.default.directive("drag",{bind:function(t,e){var a=t;a.style.cursor="move",a.onmousedown=function(t){var e=t.clientX-a.offsetLeft,s=t.clientY-a.offsetTop;document.onmousemove=function(t){var n=t.clientX-e,o=t.clientY-s;a.style.left=n+"px",a.style.top=o+"px"},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}});var w=new s.default({store:b.a,data:{people:[]}});s.default.prototype.$one=w;var $=new s.default({el:"#app",router:o.a,template:"<App/>",components:{App:n.a}});s.default.prototype.$self=$;var C=window.RongIMLib,k=C.RongIMClient;s.default.prototype.$RongIMLib=C,s.default.prototype.$RongIMClient=k.setOnReceiveMessageListener,s.default.prototype.$startInit=function(e,a,s){var n="";!function(e,a,s){var n=e.appKey,o=e.token,i=e.navi||"",r=(s=t||{}).RongIMLib||C,l=r.RongIMClient,c=s.protobuf||null,u={};""!==i&&(u.navi=i);var d=e.api||"";""!==d&&(u.api=d);null!=c&&(u.protobuf=c);r.RongIMClient.init(n,null,u);var m=l.getInstance();l.setConnectionStatusListener({onChanged:function(t){switch(console.log(t),t){case r.ConnectionStatus.CONNECTED:case 0:console.log("连接成功"),a.getInstance&&a.getInstance(m);break;case r.ConnectionStatus.CONNECTING:case 1:console.log("连接中");break;case r.ConnectionStatus.DISCONNECTED:case 2:console.log("当前用户主动断开链接");break;case r.ConnectionStatus.NETWORK_UNAVAILABLE:case 3:console.log("网络不可用"),l.reconnect(p,h);break;case r.ConnectionStatus.CONNECTION_CLOSED:case 4:console.log("未知原因，连接关闭"),l.reconnect(p,h);break;case r.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:case 6:console.log("用户账户在其他设备登录，本机会被踢掉线");break;case r.ConnectionStatus.DOMAIN_INCORRECT:case 12:console.log("当前运行域名错误，请检查安全域名配置")}}}),l.setOnReceiveMessageListener({onReceived:function(t){console.log("新消息: "+t.targetId),console.log(t),"系统消息"===t.content.extra?(w.$emit("refreshApply",t),w.$emit("hasApply",t)):(w.$emit("refresh",t),w.$emit("has",t)),a.receiveNewMessage&&a.receiveNewMessage(t)}}),l.connect(o,{onSuccess:function(t){a.getCurrentUser&&a.getCurrentUser({userId:t}),console.log("链接成功，用户id："+t)},onTokenIncorrect:function(){console.log("token无效")},onError:function(t){console.log(t)}});var p={onSuccess:function(t){console.log("Reconnect successfully."+t)},onTokenIncorrect:function(){console.log("token无效")},onError:function(t){console.log(t)}},h={auto:!0,url:"cdn.ronghub.com/RongIMLib-2.2.6.min.js",rate:[100,1e3,3e3,6e3,1e4]};l.reconnect(p,h)}({appKey:this.$appKey.appKey,token:a.token,navi:a.navi||""},{getInstance:function(t){C.RongIMEmoji.init();var e,a,s,n,o;a=["name","age","gender"],s=e="PersonMessage",n="s:"+e,o=new C.Message(!0,!0),k.registerMessageType(s,n,o,a)},getCurrentUser:function(t){console.log(t.userId),n=t.userId,console.log("链接成功；userid="+t.userId)},receiveNewMessage:function(t){for(var e=t.content.mentionedInfo||{},a=e.userIdList||[],s=0;s<a.length;s++)a[s]===n&&alert("有人 @ 了你！");console.log("show1",t)}})},Array.prototype.in_array=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1}}.call(e,a("f1Eh")(t))},NJkM:function(t,e,a){"use strict";(function(t){e.a={data:function(){return{loading:!0,weekday:[],monthday:[],yearday:[],test:[1,2,3,4,5,6,7,8,9,10,11,12],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate(),week:Math.ceil(((new Date).getDate()+6-(new Date).getDay())/7)}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){this.initWeek(),this.initMonth(),this.initYear()},initWeek:function(){var t=this;this.weekday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsAndDatesByweek",{sourceUserAccount:this.cookie.get("user"),year:this.year,month:this.month,week:this.week}).then(function(e){e.data.forEach(function(e,a){var s={};s.dayOfMonth=e.dayOfMonth;for(var n=0;n<=5;n++)e.hours[n].events&&(s.time1=e.hours[n].events[0].name);for(var o=6;o<=11;o++)e.hours[o].events&&(s.time2=e.hours[o].events[0].name);for(var i=12;i<=17;i++)e.hours[i].events&&(s.time3=e.hours[i].events[0].name);for(var r=18;r<=23;r++)e.hours[r].events&&(s.time4=e.hours[r].events[0].name);t.weekday.push(s),t.loading=!1})}).catch(function(t){console.log(t)})},initMonth:function(){var t=this;this.monthday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsAndDatesByMonth",{sourceUserAccount:this.cookie.get("user"),year:this.year,month:this.month}).then(function(e){for(var a=1;a<e.data[0].dayOfWeek;a++){var s={};s.dayCode="",s.content=[],t.monthday.push(s)}e.data.forEach(function(e,a){var s={};s.dayCode=e.dayCode,s.content=[];for(var n=0;n<=23;n++)e.hours[n].events&&e.hours[n].events.forEach(function(t){s.content.push(t.name)});t.monthday.push(s)})}).catch(function(t){console.log(t)})},initYear:function(){var t=this;this.yearday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsByUserAccountAndYear",{sourceUserAccount:this.cookie.get("user"),year:this.year}).then(function(e){e.data.forEach(function(e,a){var s={};s.mon=e.monthCode,s.days=e.days,s.days.forEach(function(t,e){t.events&&t.events.forEach(function(e,a){e.eventCode<=10&&e.eventCode>=5&&(t.eventCode=1),e.eventCode<=13&&e.eventCode>=11&&(t.eventCode=2),e.eventCode<=4&&e.eventCode>=1&&(t.eventCode=3)})}),t.yearday.push(s)})}).catch(function(t){console.log(t)})},maxDate:function(t,e){if(t%400==0||t%4==0&&t%100!=0)switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return 29;default:return 30}else switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return 28;default:return 30}},funn:function(e){t(e.target).addClass("active").parent().siblings().find(".div1").removeClass("active"),this.day=e.target.innerText},lastWeek:function(){this.subWeek(),this.initWeek()},nextWeek:function(){this.addWeek(),this.initWeek()},lastMonth:function(){this.subMonth(),this.initMonth()},nextMonth:function(){this.addMonth(),this.initMonth()},lastYear:function(){this.subYear(),this.initYear()},nextYear:function(){this.addYear(),this.initYear()},subWeek:function(){1===this.week?(this.subMonth(),this.week=Math.ceil((this.maxDate(this.year,this.month)+6-new Date(this.year,this.month,this.maxDate(this.year,this.month)).getDay())/7)):this.week--},addWeek:function(){this.week===Math.ceil((this.maxDate(this.year,this.month)+6-new Date(this.year,this.month,this.maxDate(this.year,this.month)).getDay())/7)?(this.addMonth(),this.week=1):this.week++},subMonth:function(){1===this.month?(this.month=12,this.year--):this.month--},addMonth:function(){12===this.month?(this.month=1,this.year++):this.month++},subYear:function(){this.year--},addYear:function(){this.year++}}}}).call(e,a("4kSj"))},O2bp:function(t,e,a){"use strict";e.a={appKey:"pvxdm17jpibfr"}},O3fA:function(t,e){},OUlR:function(t,e,a){"use strict";(function(t){e.a={data:function(){return{data:[],dialogVisibleChat:!1,toUserId:"",toName:"",message:"",ChatMsg:[],limit:3}},mounted:function(){var e=this;this.initData(),this.$one.$on("refresh",function(a){console.log(a),a.targetId===e.toUserId&&(e.ChatMsg.push({fromUserId:a.senderUserId,fromUserName:a.content.extra.name,msgTime:{date:(new Date).getDate(),day:new Date(a.receivedTime).getDay(),month:new Date(a.receivedTime).getMonth(),hours:new Date(a.receivedTime).getHours(),minutes:new Date(a.receivedTime).getMinutes(),seconds:new Date(a.receivedTime).getSeconds(),year:new Date(a.receivedTime).getYear()},message:{content:a.content.content}}),e.$nextTick(function(){t(".chatContent")&&t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}))})},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getFriendList",{userId:this.$cookie.get("user")}).then(function(e){console.log(e.data),t.data=e.data}).catch(function(t){console.log(t)})},getChatMsg:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getLimitChatMsgOfNormal",{userId1:this.toUserId,userId2:this.$cookie.get("user"),count:this.limit,start:0}).then(function(e){console.log(e.data),t.ChatMsg=e.data})},open:function(t,e){this.dialogVisibleChat=!0,this.toUserId=t,this.toName=e,this.limit=3,this.getChatMsg()},send:function(){var e=this;""===this.message?this.$message({type:"info",message:"该条消息为空哦"}):this.$http.post(this.$domain.domain1+"electric-design/private_publish",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),toUserId:this.toUserId,toName:this.toName,objectName:"RC:TxtMsg",message:{content:this.message,extra:{name:this.$cookie.get("name"),type:"normal",otherName:this.$cookie.get("user")}}}).then(function(a){200===a.data.code?(e.ChatMsg.push({fromUserId:e.$cookie.get("user"),fromUserName:e.$cookie.get("name"),msgTime:{date:(new Date).getDate(),day:(new Date).getDay(),month:(new Date).getMonth(),hours:(new Date).getHours(),minutes:(new Date).getMinutes(),seconds:(new Date).getSeconds(),year:(new Date).getYear()},message:{content:e.message}}),e.$nextTick(function(){t(".chatContent").animate({scrollTop:t(".chatContent")[0].scrollHeight},1e3)}),e.message=""):e.$message({type:"warning",message:"发送失败"+a.data.code})})},myDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该好友, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.$domain.domain1+"electric-design/delFriend",{fromUserId:a.$cookie.get("user"),toUserId:t}).then(function(t){t.data.result?(a.$message({type:"success",message:"成功删除好友"+e}),a.initData()):a.$message({type:"warning",message:"成功好友"+e+"失败,原因:"+t.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}}}).call(e,a("4kSj"))},QSwy:function(t,e){},QU04:function(t,e,a){t.exports=a.p+"static/img/logo-buleBGC.e764500.png"},Qers:function(t,e){},RLNZ:function(t,e){},"Rmu+":function(t,e,a){"use strict";(function(t){var s=a("SUIp"),n=a("Ym5n"),o=a("85hw"),i=a("BE4C"),r=a("JOtb"),l=a("jfsH"),c=a("DdWF"),u=a("LrlY");e.a={components:{Info:s.a,top:n.a,search:o.a,classify:i.a,tag:r.a,mycontent:l.a,bottom:c.a,Drag:u.a},data:function(){return{loadingClassify:!0,loadingContent:!0}},mounted:function(){t("#archive").css("color","#409EFF")}}}).call(e,a("4kSj"))},SC2w:function(t,e){},STWk:function(t,e){},SUIp:function(t,e,a){"use strict";var s=a("MLwk"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Info"},[a("div",{staticStyle:{"margin-left":"2rem"}},[a("i",{staticClass:"icon iconfont icon-liebiao",on:{click:function(e){t.show()}}}),t._v(" "),a("span",{staticClass:"nav",staticStyle:{width:"40rem"}},[a("span",{attrs:{onclick:"window.location.href='http://39.106.34.156:8080/zs/home/'"}},[t._v("平台首页")]),t._v(" "),a("span",{attrs:{"data-step":"3","data-intro":"去投标","data-position":"bottom",id:"archive"},on:{click:function(e){t.$router.push("/archive")}}},[t._v("项目信息")]),t._v(" "),a("span",{attrs:{"data-step":"6","data-intro":"服务商","data-position":"bottom",id:"facilitator"},on:{click:function(e){t.$router.push("/facilitator")}}},[t._v("服务商展示")]),t._v(" "),"puser"===t.$cookie.get("role")?a("span",{attrs:{id:"puser"},on:{click:function(e){t.$router.push("/per/person-perAchi")}}},[t._v("个人门户")]):t._e(),t._v(" "),"cuser"===t.$cookie.get("role")?a("span",{attrs:{id:"cuser"},on:{click:function(e){t.$router.push("/com/company-comAchi")}}},[t._v("企业门户")]):t._e(),t._v(" "),a("span",{attrs:{onclick:"window.location.href='http://39.106.34.156:8080/zs/preview/'"}},[t._v("平台指南")])])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"/",router:"",mode:"horizontal","menu-trigger":"click","text-color":"black"}},[a("el-submenu",{attrs:{index:"person"}},[a("template",{slot:"title"},[a("i",{staticClass:"icon iconfont icon-xiangmu",attrs:{"data-step":"5","data-intro":"参与项目详情","data-position":"bottom"}}),a("span",[t._v("我的项目")])]),t._v(" "),a("el-menu-item-group",t._l(t.projectList,function(e,s){return a("el-menu-item",{key:s,attrs:{index:"/per-project/"+e.code+"/pandect"}},[t._v(t._s(e.name)+"/"+t._s(e.state))])}))],2)],1),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"/",router:"",mode:"horizontal","menu-trigger":"click","text-color":"black"}},[a("el-submenu",{attrs:{index:"person"}},[a("template",{slot:"title"},[a("i",{staticClass:"icon iconfont icon-gerenziliao"}),a("span",[t._v(t._s(t.name))])]),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/changeTable/project"}},[t._v("设置显示项")]),t._v(" "),a("el-menu-item",{attrs:{index:"/chat/contact"}},[t._v("及时聊天")]),t._v(" "),a("el-menu-item",{attrs:{index:"/login"},on:{click:function(e){t.$cookie.set("user","",-1),t.$cookie.set("token","",-1),t.$cookie.set("role","",-1),t.$cookie.set("name","",-1),t.$cookie.set("pass","",-1),t.$router.push("/login")}}},[t._v("退出登录")])],1)],2)],1)],1)])},staticRenderFns:[]};var o=function(t){a("p9iW")},i=a("VU/8")(s.a,n,!1,o,"data-v-2a9ae266",null);e.a=i.exports},Stau:function(t,e,a){"use strict";e.a={domain1:"http://39.106.34.156:8080/"}},SxxD:function(t,e){},Tw9F:function(t,e){},Ug1y:function(t,e){},Uika:function(t,e){},Uzfs:function(t,e){},V1g1:function(t,e){},Vheb:function(t,e){},Wi4Z:function(t,e,a){"use strict";e.a={formatDate:function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,n=e.getDate();return isNaN(a)?"1970-00-00":a+"-"+this.formatTen(s)+"-"+this.formatTen(n)},formatTen:function(t){return t>9?t+"":"0"+t},formatFromObjDate:function(t){return[].concat(this.formatTen(t.time.year+1900),this.formatTen(t.time.month+1),this.formatTen(t.time.seconds)).join("/")},formatFromObjHour:function(t){return[].concat(this.formatTen(t.time.hours),this.formatTen(t.time.minutes),this.formatTen(t.time.seconds)).join(":")}}},X5Oa:function(t,e){},XnMs:function(t,e,a){"use strict";var s=a("j1ja"),n=(a.n(s),a("7+uW")),o=a("NYxO"),i=a("mtWM"),r=a.n(i),l=a("Stau");n.default.use(o.a);var c={init:function(t){t.data=[]},add:function(t,e){var a={};a.sourceAccount=e.sourceAccount,a.code=e.code,e.mainImgPath?a.mainImgPath=l.a.domain1.substring(0,l.a.domain1.length-1)+e.mainImgPath:a.mainImgPath="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1517035882434&di=0676cefad1139b4081b7b6d960261b14&imgtype=0&src=http%3A%2F%2Fres10.xzlres.com%2FTravel%2F6352ce6f-c897-4b0a-bcfa-0fd3d6f17f27_450x298_1.jpg",a.name=e.name,e.endTime?a.endTime=[].concat(e.endTime.year+1900,e.endTime.month+1,e.endTime.date).join("/"):a.endTime="未填写",r.a.post(l.a.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:e.sourceAccount,key:"account"}).then(function(t){n.default.set(a,"company",t.data.name)}).catch(function(t){console.log(t)}),t.data.push(a)}};e.a=new o.a.Store({state:{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[],data:[],length:1,jsonPuser:{},jsonCuser:{},tablePuser:[],tableCuser:[]},mutations:c})},YGCV:function(t,e){},YaEn:function(t,e,a){"use strict";var s=a("7+uW"),n=a("zO6J"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"leftNav"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/",router:"","background-color":"#4d83e7","text-color":"#fff","active-background-color":"#409EFF","default-openeds":["recent","friend","group"]}},[e("el-submenu",{attrs:{index:"recent"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-zuijinlaifang"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("最近消息")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/chat/apply"}},[this._v("申请消息")]),this._v(" "),e("el-menu-item",{attrs:{index:"/chat/contact"}},[this._v("最近联系人")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"friend"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-gerenziliao"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("好友管理")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/chat/add"}},[this._v("添加好友")]),this._v(" "),e("el-menu-item",{attrs:{index:"/chat/friendList"}},[this._v("好友列表")])],1)],2),this._v(" "),e("el-submenu",{attrs:{index:"group"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-msnui-users"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v("群组管理")])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/chat/createGroup"}},[this._v("创建群")]),this._v(" "),e("el-menu-item",{attrs:{index:"/chat/addGroup"}},[this._v("添加群")]),this._v(" "),e("el-menu-item",{attrs:{index:"/chat/groupList"}},[this._v("群列表")])],1)],2)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({data:function(){return{}}},o,!1,function(t){a("+cME")},"data-v-627b85d4",null).exports,r=a("4Aqk"),l=a("SUIp"),c={components:{leftChat:i,logo:r.a,Info:l.a},data:function(){return{}},mounted:function(){this.initData()},methods:{initData:function(){this.$refs.Info.initData()}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chat"},[e("el-row",[e("el-col",{attrs:{span:3,id:"left"}},[e("logo"),this._v(" "),e("leftChat")],1),this._v(" "),e("el-col",{attrs:{span:21,offset:3,id:"right"}},[e("Info",{ref:"Info",staticStyle:{"background-color":"white"}}),this._v(" "),e("router-view")],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(t){a("zap7")},"data-v-98ea4492",null).exports,m={data:function(){var t,e=this;return{data:(t=[],e.$http.post(e.$domain.domain1+"electric-design/getAllkeysAndExplainOfTable",{table:e.$parent.type}).then(function(e){console.log(e.data);for(var a in e.data)t.push({key:a,label:e.data[a]})}),t),value1:["aboutUsers"]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:this.$cookie.get("user"),table:this.$parent.type,otherName:this.$parent.otherName}).then(function(e){console.log(e.data),t.value1=[];for(var a in e.data)t.value1.push(a);console.log(t.value1)}).catch(function(t){console.log(t)})},handleChange:function(){console.log(this.value1)},confirm:function(){var t=this,e={};e[this.$parent.otherName]=this.value1,this.$http.post(this.$domain.domain1+"electric-design/updateTableRecod",{table:"tableheade",keyNames:["belongToUser"],keyValues:[this.$cookie.get("user")],newJsonData:e}).then(function(e){e.data.result?t.$message({type:"success",message:"表头修改成功"}):t.$message({type:"warning",message:"表头修改失败原因:"+e.data.reason}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"changeTable"},[a("el-transfer",{attrs:{data:t.data,titles:["不显示的表头","显示的表头"],"button-texts":["不显示","显示"]},on:{change:t.handleChange},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"3rem"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:function(e){t.confirm()}}},[t._v("确认")]),t._v(" "),-1!==t.$route.path.search("changeTable")?a("el-button",{staticStyle:{width:"100%","margin-left":"0","margin-top":"1rem"},attrs:{type:"success"},on:{click:function(e){t.$router.go(-1)}}},[t._v("返回上一级")]):t._e()],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,p,!1,function(t){a("C5aH")},"data-v-7d938e26",null).exports,f={components:{Index:h},data:function(){return{type:"projects",otherName:"project"}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Index")],1)},staticRenderFns:[]};var g=a("VU/8")(f,v,!1,function(t){a("QSwy")},"data-v-314aa1f0",null).exports,_={components:{Index:h},data:function(){return{type:"projects",otherName:"achievement"}}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Index")],1)},staticRenderFns:[]};var b=a("VU/8")(_,y,!1,function(t){a("6ZRK")},"data-v-160bbec8",null).exports,w={components:{Index:h},data:function(){return{type:"pusers",otherName:"puserHeade"}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Index")],1)},staticRenderFns:[]};var C=a("VU/8")(w,$,!1,function(t){a("hP9N")},"data-v-10d5663a",null).exports,k={components:{Index:h},data:function(){return{type:"cusers",otherName:"cuserHeade"}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Index")],1)},staticRenderFns:[]};var S=a("VU/8")(k,x,!1,function(t){a("RLNZ")},"data-v-3158f72c",null).exports,j={components:{Info:l.a,project:g,achievement:b,puser:C,cuser:S},data:function(){return{value:"cuser"}},mounted:function(){this.value=this.$route.params.value},methods:{}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"changeTable",staticClass:"changeTable"},[e("el-tabs",{staticStyle:{width:"100%","box-sizing":"border-box",border:"1px solid #409EFF","background-color":"#f5f7fa"},attrs:{value:this.value,"tab-position":"left",type:"border-card"}},[e("el-tab-pane",{attrs:{label:"项目表",name:"project"}},[e("project")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"业绩表",name:"achievement"}},[e("achievement")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"个人用户表",name:"puser"}},[e("puser")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"企业用户表",name:"cuser"}},[e("cuser")],1)],1)],1)},staticRenderFns:[]};var D=a("VU/8")(j,T,!1,function(t){a("8pVB")},"data-v-639fbf58",null).exports,A=a("MiD0"),P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[e("el-row",[e("el-col",{attrs:{span:3,id:"left"}},[e("logo"),this._v(" "),e("leftNav")],1),this._v(" "),e("el-col",{attrs:{span:21,offset:3,id:"right"}},[e("Info",{ref:"Info",staticStyle:{"background-color":"white"}}),this._v(" "),e("router-view")],1)],1)],1)},staticRenderFns:[]};var F=function(t){a("fv3F")},z=a("VU/8")(A.a,P,!1,F,"data-v-2bdea9c1",null).exports,U=a("CG8q"),N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comindex"},[e("el-row",[e("el-col",{attrs:{span:3,id:"left"}},[e("logo"),this._v(" "),e("comleftNav")],1),this._v(" "),e("el-col",{attrs:{span:21,offset:3,id:"right"}},[e("Info",{ref:"Info",staticStyle:{"background-color":"white"}}),this._v(" "),e("router-view")],1)],1),this._v(" "),e("Drag")],1)},staticRenderFns:[]};var I=function(t){a("SC2w")},M=a("VU/8")(U.a,N,!1,I,"data-v-0fdb0db9",null).exports,E=a("ljcC"),R={store:E.a,data:function(){return{name:"",bidder:""}},computed:{Id:function(){return this.$route.params.code}},mounted:function(){this.initData(),this.initPre()},watch:{Id:function(){this.initData()}},methods:{initPre:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"biders",keys:["belongToProjectCode"],values:[this.$route.params.code]}).then(function(e){console.log(e.data),e.data.forEach(function(e,a){"selected"===e.bidState&&(t.bidder=e.sourceUserId)})}).catch(function(t){console.log(t)})},initData:function(){var t=this;this.$store.state.id=this.Id,this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.Id}).then(function(e){t.name=e.data.name}).catch(function(t){console.log(t)})}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"proLeftNav"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"",router:"","background-color":"#4d83e7","text-color":"#fff","active-background-color":"#409EFF","default-openeds":["per-project"]}},[e("el-submenu",{attrs:{index:"per-project"}},[e("template",{slot:"title"},[e("i",{staticClass:"icon iconfont icon-liebiao"}),this._v(" "),e("span",{staticClass:"fontBig"},[this._v(this._s(this.name))])]),this._v(" "),e("el-menu-item-group",[e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/pandect"}},[this._v("总览")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/detail"}},[this._v("详细信息")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/file"}},[this._v("项目文件")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/time"}},[this._v("时间统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/event"}},[this._v("事件统计")]),this._v(" "),e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/member"}},[this._v("成员信息")]),this._v(" "),this.bidder===this.$cookie.get("user")?e("el-menu-item",{attrs:{index:"/per-project/"+this.Id+"/permiss"}},[this._v("权限分配")]):this._e()],1)],2)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(R,V,!1,function(t){a("zrXt")},"data-v-072a6e0b",null).exports,L=a("LrlY"),O={components:{proLeftNav:q,logo:r.a,Info:l.a,Drag:L.a},data:function(){return{}},mounted:function(){this.initData()},methods:{initData:function(){this.$refs.Info.initData()}}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[e("el-row",[e("el-col",{attrs:{span:3,id:"left"}},[e("logo"),this._v(" "),e("proLeftNav")],1),this._v(" "),e("el-col",{attrs:{span:21,offset:3,id:"right"}},[e("Info",{ref:"Info",staticStyle:{"background-color":"white"}}),this._v(" "),e("router-view")],1)],1),this._v(" "),e("Drag")],1)},staticRenderFns:[]};var J=a("VU/8")(O,B,!1,function(t){a("7V0N")},"data-v-ed201e3a",null).exports,K={data:function(){var t=this;return{msg:"",checked:!0,Form:{user:"",comapny:"",pass:"",name:"",checkPass:"",check:"",returnCheck:"123456"},rules:{user:[{validator:function(e,a,s){return a?/0?(13|14|15|17|18|19)[0-9]{9}|\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(a)?void(t.$preSQL.pre(a)?s():s(new Error("非法字符串"))):s(new Error("账号只能为手机号或者邮箱")):s(new Error("账号不能为空"))},trigger:"blur"}],name:[{validator:function(e,a,s){return a?/^[\u4E00-\u9FA5\uf900-\ufa2d·s]{2,20}$/.test(a)?void(t.$preSQL.pre(a)?s():s(new Error("非法字符串"))):s(new Error("您输入的姓名不合法")):s(new Error("名字不能为空"))},trigger:"blur"}],pass:[{validator:function(e,a,s){""===a?s(new Error("请输入密码")):(""!==t.Form.checkPass&&t.$refs.perregister.validateField("checkPass"),t.$preSQL.pre(a)?s():s(new Error("非法字符串")))},trigger:"blur"}],checkPass:[{validator:function(e,a,s){""===a?s(new Error("请再次输入密码")):a!==t.Form.pass?s(new Error("两次输入密码不一致!")):t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}],check:[{validator:function(e,a,s){""===a?s(new Error("验证码不能为空")):a!==t.Form.returnCheck?s(new Error("请输入与收到短信同样的的验证码")):t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}]}}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)}),this.$cookie.get("user")&&(this.$message({type:"success",message:"检测到您的账号"+this.$cookie.get("user")+",自动为您登陆"}),"puser"===this.$cookie.get("role")?this.$router.push("/per/person-perAchi"):this.$router.push("/com/company-comAchi"),this.$nextTick(function(){t.$startInit(t.$cookie.get("user"),{token:t.$cookie.get("token")})}))},check:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/sendCheckMsgByJson",{testNumber:this.Form.user}).then(function(e){console.log(e.data),e.data.result?t.$message({type:"success",message:"验证码发送成功"}):t.$message({type:"warning",message:"验证码发送失败,原因"+e.data.reason}),t.Form.returnCheck=e.data.checkMsg}).catch(function(t){console.log(t)})},submitForm:function(t){var e=this;this.checked?this.$refs.perregister.validate(function(t){if(!t)return e.$message({message:"请确保所填信息符合要求",type:"warning"}),!1;e.$http.post(e.$domain.domain1+"electric-design/PRegister",{account:e.Form.user,password:e.Form.pass,name:e.Form.name,checkMsg:e.Form.check,company:e.Form.company}).then(function(t){t.data.result&&"false"!==t.data.result?(e.$message({message:"恭喜您,注册成功",type:"success"}),e.$confirm("请选择","提示",{confirmButtonText:"发项目",cancelButtonText:"接项目",type:"info"}).then(function(){e.cookie.set("user",e.Form.user,30),e.cookie.set("pass",e.Form.pass,30),e.cookie.set("role",t.data.role,30),e.cookie.set("name",t.data.name,30),e.cookie.set("token",t.data.token,30),e.$startInit(e.$cookie.get("user"),{token:e.$cookie.get("token")}),e.$router.push("/per/PM-new")}).catch(function(){e.cookie.set("user",e.Form.user,30),e.cookie.set("pass",e.Form.pass,30),e.cookie.set("role",t.data.role,30),e.cookie.set("name",t.data.name,30),e.cookie.set("token",t.data.token,30),e.$startInit(e.$cookie.get("user"),{token:e.$cookie.get("token")}),e.$router.push("/archive")})):e.$message({message:"注册失败,原因"+t.data.reason,type:"warning"})}).catch(function(t){console.log(t)})}):this.$message({message:"您还未同意条款哦",type:"warning"})},resetForm:function(t){this.$refs.perregister.resetFields()}},watch:{checked:function(){console.log(this.checked)}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"perregister"},[s("div",{staticClass:"top"},[s("div",{staticClass:"top-left"},[s("img",{attrs:{src:a("QU04"),alt:""}}),s("span",{attrs:{onclick:"window.location.href='http://39.106.34.156:8080/zs/home/'"}},[t._v(t._s(t.msg))]),s("span",[t._v("|")]),s("span",{staticStyle:{color:"yellow"},on:{click:function(e){t.$router.push("/perregister")}}},[t._v("个人注册")]),s("span",{on:{click:function(e){t.$router.push("/comregister")}}},[t._v("企业注册")]),s("span",{on:{click:function(e){t.$router.push("/login")}}},[t._v("登录")])]),t._v(" "),t._m(0)]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8,offset:2}},[s("el-form",{ref:"perregister",attrs:{model:t.Form,"status-icon":"","label-position":"left",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"账号",prop:"user"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写手机号或者邮箱"},model:{value:t.Form.user,callback:function(e){t.$set(t.Form,"user",e)},expression:"Form.user"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写中文姓名"},model:{value:t.Form.name,callback:function(e){t.$set(t.Form,"name",e)},expression:"Form.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:t.Form.pass,callback:function(e){t.$set(t.Form,"pass",e)},expression:"Form.pass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:t.Form.checkPass,callback:function(e){t.$set(t.Form,"checkPass",e)},expression:"Form.checkPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"验证码",prop:"check"}},[s("el-col",{attrs:{span:16}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写收到的验证码"},model:{value:t.Form.check,callback:function(e){t.$set(t.Form,"check",e)},expression:"Form.check"}})],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check()}}},[t._v("免费获取")])],1)],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("Form")}}},[t._v("注册")]),t._v(" "),s("el-button",{on:{click:function(e){t.resetForm("Form")}}},[t._v("重置")])],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("el-checkbox",{attrs:{checked:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[s("a",{attrs:{href:t.$domain.domain1+"/electric-design/public/templets/platprotocl.html",target:"_blank"}},[t._v("我已阅读并同意相关服务条款和隐私政策")])])],1)],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-right"},[e("span",[this._v("设计服务")]),e("span",[this._v("设计师")]),e("span",[this._v("客户端下载")]),e("span",[this._v("App")])])}]};var Y=a("VU/8")(K,W,!1,function(t){a("Age4")},"data-v-d58e9332",null).exports,H={data:function(){var t=this;return{msg:"",checked:!0,Form:{user:"",comapny:"",pass:"",name:"",website:"",checkPass:"",age:"",check:"",returnCheck:"123456"},rules:{user:[{validator:function(e,a,s){return a?/0?(13|14|15|17|18|19)[0-9]{9}|\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(a)?void(t.$preSQL.pre(a)?s():s(new Error("非法字符串"))):s(new Error("账号只能为手机号或者邮箱")):s(new Error("账号不能为空"))},trigger:"blur"}],company:[{validator:function(e,a,s){if(!a)return s(new Error("企业名称不能为空"));t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}],name:[{validator:function(e,a,s){return a?/^[\u4E00-\u9FA5\uf900-\ufa2d·s]{2,20}$/.test(a)?void(t.$preSQL.pre(a)?s():s(new Error("非法字符串"))):s(new Error("您输入的联系人不合法")):s(new Error("联系人不能为空"))},trigger:"blur"}],pass:[{validator:function(e,a,s){""===a?s(new Error("请输入密码")):(""!==t.Form.checkPass&&t.$refs.comregister.validateField("checkPass"),t.$preSQL.pre(a)?s():s(new Error("非法字符串")))},trigger:"blur"}],checkPass:[{validator:function(e,a,s){""===a?s(new Error("请再次输入密码")):a!==t.Form.pass?s(new Error("两次输入密码不一致!")):t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}],check:[{validator:function(e,a,s){""===a?s(new Error("验证码不能为空")):a!==t.Form.returnCheck?s(new Error("请输入与收到短信同样的的验证码")):t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}]}}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)}),this.$cookie.get("user")&&(this.$message({type:"success",message:"检测到您的账号"+this.$cookie.get("user")+",自动为您登陆"}),"puser"===this.$cookie.get("role")?this.$router.push("/per/person-perAchi"):this.$router.push("/com/company-comAchi"),this.$nextTick(function(){t.$startInit(t.$cookie.get("user"),{token:t.$cookie.get("token")})}))},check:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/sendCheckMsgByJson",{testNumber:this.Form.user}).then(function(e){console.log(e.data),e.data.result?t.$message({type:"success",message:"验证码发送成功"}):t.$message({type:"warning",message:"验证码发送失败,原因"+e.data.reason}),t.Form.returnCheck=e.data.checkMsg}).catch(function(t){console.log(t)})},submitForm:function(t){var e=this;this.checked?this.$refs.comregister.validate(function(t){if(!t)return e.$message({message:"请确保所填信息符合要求",type:"warning"}),!1;e.$http.post(e.$domain.domain1+"electric-design/CRegister",{account:e.Form.user,password:e.Form.pass,contacter:e.Form.name,name:e.Form.company,checkMsg:e.Form.check,website:e.Form.website}).then(function(t){console.log(t.data),t.data.result&&"false"!==t.data.result?(e.$message({message:"恭喜您,注册成功",type:"success"}),e.$confirm("请选择","提示",{confirmButtonText:"发项目",cancelButtonText:"接项目",type:"success"}).then(function(){e.cookie.set("user",e.Form.user,30),e.cookie.set("pass",e.Form.pass,30),e.cookie.set("role",t.data.role,30),e.cookie.set("name",t.data.name,30),e.cookie.set("token",t.data.token,30),e.$startInit(e.$cookie.get("user"),{token:e.$cookie.get("token")}),e.$router.push("/com/CM-new")}).catch(function(){e.cookie.set("user",e.Form.user,30),e.cookie.set("pass",e.Form.pass,30),e.cookie.set("role",t.data.role,30),e.cookie.set("name",t.data.name,30),e.cookie.set("token",t.data.token,30),e.$startInit(e.$cookie.get("user"),{token:e.$cookie.get("token")}),e.$router.push("/archive")})):e.$message({message:"注册失败,原因"+t.data.reason,type:"warning"})}).catch(function(t){console.log(t)})}):this.$message({message:"您还未同意条款哦",type:"warning"})},resetForm:function(t){this.$refs.comregister.resetFields()}},watch:{checked:function(){console.log(this.checked)}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comregister"},[s("div",{staticClass:"top"},[s("div",{staticClass:"top-left"},[s("img",{attrs:{src:a("QU04"),alt:""}}),s("span",{attrs:{onclick:"window.location.href='http://39.106.34.156:8080/zs/home/'"}},[t._v(t._s(t.msg))]),s("span",[t._v("|")]),s("span",{on:{click:function(e){t.$router.push("/perregister")}}},[t._v("个人注册")]),s("span",{staticStyle:{color:"yellow"},on:{click:function(e){t.$router.push("/comregister")}}},[t._v("企业注册")]),s("span",{on:{click:function(e){t.$router.push("/login")}}},[t._v("登录")])]),t._v(" "),t._m(0)]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8,offset:2}},[s("el-form",{ref:"comregister",attrs:{model:t.Form,"status-icon":"","label-position":"left",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"账号",prop:"user"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写手机号或者邮箱"},model:{value:t.Form.user,callback:function(e){t.$set(t.Form,"user",e)},expression:"Form.user"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"联系人",prop:"name"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写联系人姓名(只能是中文)"},model:{value:t.Form.name,callback:function(e){t.$set(t.Form,"name",e)},expression:"Form.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"企业名称",prop:"company"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写企业名称"},model:{value:t.Form.company,callback:function(e){t.$set(t.Form,"company",e)},expression:"Form.company"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"网站(可选)"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写公司的网站"},model:{value:t.Form.website,callback:function(e){t.$set(t.Form,"website",e)},expression:"Form.website"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请填写密码"},model:{value:t.Form.pass,callback:function(e){t.$set(t.Form,"pass",e)},expression:"Form.pass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:t.Form.checkPass,callback:function(e){t.$set(t.Form,"checkPass",e)},expression:"Form.checkPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"验证码",prop:"check"}},[s("el-col",{attrs:{span:16}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请填写所收到的验证码"},model:{value:t.Form.check,callback:function(e){t.$set(t.Form,"check",e)},expression:"Form.check"}})],1),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check()}}},[t._v("免费获取")])],1)],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("Form")}}},[t._v("注册")]),t._v(" "),s("el-button",{on:{click:function(e){t.resetForm("Form")}}},[t._v("重置")])],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("el-checkbox",{attrs:{checked:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[s("a",{attrs:{href:t.$domain.domain1+"/electric-design/public/templets/platprotocl.html",target:"_blank"}},[t._v("我已阅读并同意相关服务条款和隐私政策")])])],1)],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-right"},[e("span",[this._v("设计服务")]),e("span",[this._v("设计师")]),e("span",[this._v("客户端下载")]),e("span",[this._v("App")])])}]};var Q=a("VU/8")(H,G,!1,function(t){a("7KdW")},"data-v-46e194da",null).exports,Z=a("oJWT"),X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"top"},[s("div",{staticClass:"top-left"},[s("img",{attrs:{src:a("QU04"),alt:""}}),s("span",{attrs:{onclick:"window.location.href='http://39.106.34.156:8080/zs/home/'"}},[t._v(t._s(t.msg))]),s("span",[t._v("|")]),s("span",{on:{click:function(e){t.$router.push("/perregister")}}},[t._v("个人注册")]),s("span",{on:{click:function(e){t.$router.push("/comregister")}}},[t._v("企业注册")]),s("span",{staticStyle:{color:"yellow"},on:{click:function(e){t.$router.push("/login")}}},[t._v("登录")])]),t._v(" "),t._m(0)]),t._v(" "),s("el-form",{ref:"login",attrs:{model:t.Form,"status-icon":"",rules:t.rules,"label-width":"100px",id:"login"}},[s("el-form-item",{staticStyle:{"margin-left":"-100px"},attrs:{label:"",prop:"user"}},[s("el-input",{attrs:{placeholder:"输入email/手机号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.next()}},model:{value:t.Form.user,callback:function(e){t.$set(t.Form,"user",e)},expression:"Form.user"}},[s("i",{staticClass:"icon iconfont icon-zhanghao",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"},attrs:{label:"",prop:"pass"}},[s("el-input",{attrs:{type:"password",placeholder:"输入密码",id:"pass"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.login()}},model:{value:t.Form.pass,callback:function(e){t.$set(t.Form,"pass",e)},expression:"Form.pass"}},[s("i",{staticClass:"icon iconfont icon-suo",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[s("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住我(30天内自动登录)")]),t._v(" "),s("span",{staticStyle:{cursor:"pointer",color:"gray"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("忘记密码？")])],1)]),t._v(" "),s("el-form-item",{staticStyle:{"margin-left":"-100px"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){t.login()}}},[t._v("登录")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"找回密码",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-form",{ref:"change",attrs:{model:t.Form,"status-icon":"",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"账号",prop:"user"}},[s("el-input",{attrs:{placeholder:"输入email/手机号"},model:{value:t.Form.user,callback:function(e){t.$set(t.Form,"user",e)},expression:"Form.user"}}),t._v(" "),s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.check}},[t._v("发送短信/邮件")])],1),t._v(" "),s("el-form-item",{attrs:{label:"新的密码",prop:"pass"}},[s("el-input",{attrs:{placeholder:"输入新的密码"},model:{value:t.Form.pass,callback:function(e){t.$set(t.Form,"pass",e)},expression:"Form.pass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"验证码"}},[s("el-input",{attrs:{placeholder:"输入验证码",type:"text","auto-complete":"off"},model:{value:t.Form.MSG,callback:function(e){t.$set(t.Form,"MSG",e)},expression:"Form.MSG"}})],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.change}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-right"},[e("span",[this._v("设计服务")]),e("span",[this._v("设计师")]),e("span",[this._v("客户端下载")]),e("span",[this._v("App")])])}]};var tt=function(t){a("JN2k")},et=a("VU/8")(Z.a,X,!1,tt,"data-v-675353b2",null).exports,at={data:function(){return{disabled:!1,radio:"2",form:{company:"某某公司",name:"项目",sizeAndCapacitys:"",categorys:"",unit:"",type:[],voltagelevel1:"",voltagelevel2:100,voltagelevel3:"",place:"",major:[],startTime:"",endTime:"",lowPrice:"暂无",highPrice:"暂无",instruction:"",requirement:"",stateUnits:[{state:"未填",endTime:"未填",requireResult:"未填"},{state:"未填",endTime:"未填",requireResult:"未填"},{state:"未填",endTime:"未填",requireResult:"未填"}]},unit:["MW","Kva","KV","M^2"],major:["计算机","电力","岩土","绘测"],designState:["前期","项目建议书","可行性研究报告","招投标","初步设计","施工图设计","竣工图编制"],sizeAndCapacitys:["MW","KW","kVA"],categorys:["火电","水电","风电","光伏","核电","储能"],type:["发电厂","输电","变电","供配电","建筑"],voltagelevel:["KV","V"],voltagetype:["直流","交流"],character:["单位","公司"]}},mounted:function(){this.initData()},methods:{addStateUnits:function(){this.form.stateUnits.push({state:"未填",endTime:"未填",requireResult:"未填"})},myDelete:function(t){this.form.stateUnits=this.form.stateUnits.filter(function(e){return e.state!==t.state})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){console.log(e.data),t.categorys=e.data.categorys,t.type=e.data.types,t.designState=e.data.designProcess,t.unit=e.data.sizeAndCapacitys,t.major=e.data.majors}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})})},confirm:function(){var t=this,e=[];this.form.stateUnits.forEach(function(a,s){e.push({state:a.state,endTime:t.$formDate.formatDate(a.endTime),requireResult:a.requireResult})});var a={sourceAccount:this.cookie.get("user"),tenderCompany:this.form.company,name:this.form.name,state:"合同终止",sizeCapacityNumber:this.form.sizeAndCapacitys,sizeAndCapacity:this.form.unit,bidType:this.form.character,type:this.form.type,category:this.form.categorys,voltagelevel:this.form.voltagelevel1+"/"+this.form.voltagelevel2+"/"+this.form.voltagelevel3,major:this.form.major,address:this.form.place,amountOfInvestment:this.form.lowPrice+"-"+this.form.highPrice,lowestPrice:this.form.lowPrice,highestPrice:this.form.highPrice,instruction:this.form.instruction,requirement:this.form.requirement,startTime:this.$formDate.formatDate(this.form.startTime),endTime:this.$formDate.formatDate(this.form.endTime),isJointState:"true",processRequirements:e,isOnlineAchivment:"no"};this.$http.post(this.$domain.domain1+"electric-design/addProject1",a).then(function(e){e.data.result?(t.$message({message:"添加业绩成功",type:"success"}),t.$router.push("/per-project/"+e.data.code+"/pandect")):t.$message({message:"添加业绩失败,原因"+e.data.reason,type:"warning"})}).catch(function(t){console.log(t)})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploadAchieve"},[t._m(0),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"招标公司"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{offset:5,span:2}},[t._v("类别")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.categorys,callback:function(e){t.$set(t.form,"categorys",e)},expression:"form.categorys"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择类型",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("涉及专业")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择涉及专业",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-col",{attrs:{span:9}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目描述"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目要求"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目要求"},model:{value:t.form.requirement,callback:function(e){t.$set(t.form,"requirement",e)},expression:"form.requirement"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.confirm()}}},[t._v("提交业绩")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("添加业绩"),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])])}]};var nt=a("VU/8")(at,st,!1,function(t){a("H3aN")},"data-v-20e2e5b4",null).exports,ot={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"Registration"},[e("span",{staticClass:"title"},[this._v("注册须知")]),this._v(" "),e("ul",[e("li",[this._v("一、\t注册信息真实有效")]),this._v(" "),e("li",[this._v("二、\t资料买卖双方自行互相校核（营业执照、注册证书……）")]),this._v(" "),e("li",[this._v("三、\t项目、业绩信息真实有效")]),this._v(" "),e("li",[this._v("四、\t非平台行为，平台无记录、跟踪义务")]),this._v(" "),e("li",[this._v("五、\t平台上的第三方服务责任主体是第三方和与第三方签订合同的当事人，与平台无关（设计工程保险服务；任务发布、接收信用金担保服务；第三方咨询服务……）")]),this._v(" "),e("li",[this._v("六、\t平台仅协助核查网上可查证的注册资料")]),this._v(" "),e("li",[this._v("七、\t平台对提供的基础服务工具收费")]),this._v(" "),e("li",[this._v("八、\t平台上的用户行为应不违反国家相关法律、法规")])])]),this._v(" "),e("div",{staticClass:"publishProtocol"},[e("span",{staticClass:"title"},[this._v("发布项目协议")]),this._v(" "),e("p",{staticClass:"title2"},[this._v("招标项目的发布应严格遵守《建设工程质量管理条例》、《建设工程勘察设计管理条例》、《建设项目环境保护管理条例》等相关法律法规规定；涉及《中国招投标法》规定的项目招标要实质性满足遵从该法规，平台不作为招投标代理机构及平台；招标项目的项目方应遵守招标项目发布规则。本平台始终本着公开、公平、公正、诚实、守信的原则，致力于打造电力行业工程设计、建设技术交流服务平台。请您在发布招标项目前仔细阅读发布规则：")]),this._v(" "),e("ul",[e("li",[this._v("一、招标项目自由选择项目招标报价、限价招标或定价招标的方式，自由选择发布任务有效期，自由选择招标时间，自由定招标条件，自定发布任务要求，自主确定中标用户和托管项目酬金。")]),this._v(" "),e("li",[this._v("二、项目发布流程及保障\n         "),e("ul",[e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("1、项目信息发布后系统根据信息完整度，自动为您推送项目分析师或精准匹配专业设计院/设计员并在线根据项目情况投标及投标报价，您也可以通过平台自行搜索获取设计机构/设计员相关信息并邀请。任务委托方可登录本平台进入个人/企业中心查看投标资料、报价等详细情况，并可与其进行项目沟通，双方沟通确定后形成托管设计费，选择中标方，并进行合同付款、及付款条件等具体内容最终确定，后设计师/设计团队平台账号显示合同已生效，即双方根据合同规定开始设计及付款工作。如双方合作中对设计质量有疑问，可聘请平台上的第三方咨询专家答疑，或聘请平台上的第三方做为设计监理全程跟踪项目进展及设计师设计质量，设计不满意不付款直到满意为止。平台建议，在设计交易资料交接及要求提出、合同谈判等均在平台上进行，减少因双方私下交易但无法达成一致造成的经济损失。")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("2、为避免设计质量造成的损失，平台引进第三方提供重大设计质量保障险服务，建议交易双方购买，并建议任务发布方在平台上委托第三方进行设计监理；对于双方交易出现任何质量问题及违约行为，由双方在项目合同中约束主体承担，本平台不担任何责任！ ")])])]),this._v(" "),e("li",[this._v("三、任务发布方必须保证任务真实有效且不违反国家相关法律规定，如不满足上述条件本平台有权拒绝通过审核，不予发布任务。")]),this._v(" "),e("li",[this._v("四、任务发布方在发布设计审核校对、施工图方案对比及设计优化等项目任务时，应将原图纸中涉及原设计版权、隐私权等内容做好处理后，再进行发布，保证任务发出后不会引起设计纠纷，若产生纠纷由任务发布方处理，本平台无权限帮助处理。 ")]),this._v(" "),e("li",[this._v("五、任务发布方在发布任务成功后请在规定时间内进行选择接标方，如有特殊情况请联系本网站人工客服或致电XXXX进行处理。规定时间内未进行选择或联系客服将视作无效标，进行自动流标处理。此情况将被视为任务发布方一次违约")]),this._v(" "),e("li",[this._v("六、任务发布方在发布招标任务时，应保证任务描述及资料齐全保证接标方工作能够顺利进行，如果由于任务发布方原因，造成资料不全投标方无法顺利完成工作，后果由任务发布方负责，已支付酬金一概不予退还，合同方其他损失按双方约定合同执行，平台仅根据双方指令完成流程，提供双方在线交易记录，双方是否按合同执行由合同主体自行检查、监督，平台对此不承担任何责任。对投标方设计过程中需要与其他专业配合的，任务发布方应提供必要的沟通方式，对于由任务发布方未及时提供方便而延误项目完成时间，酬金不予退还。")]),this._v(" "),e("li",[this._v("七、对于需要第三方设计校审服务的任务，建议您应在预定完工时间基础上增加一定的时间，给予设计校审与设计投标方在设计质量上的沟通留出充足的时间")]),this._v(" "),e("li",[this._v("八、付款方式由合同双方自行确定，预付款除外的阶段性付款，由投标方需先上传阶段最终设计完成稿到平台后，任务发布方再确认付款；对于需要第三方设计校审服务/设计监理服务的，项目方根据设计校审的意见及接标方修改程度再确认付款。如果投标方以交接最终设计成果或要求不合理增加合同额要挟任务发布方，任务发布方可通过平台申诉，平台将扣除接标方项目保证金赔付给项目方并记录接标方一次违约行为。")]),this._v(" "),e("li",[this._v("九、任务发布方与接标方，应严格按照每个项目的合同描述的内容执行。如果任务发布方提出超出合同范围的要求，接标方有权拒绝，项目发布方也不得以此为理由取消其中标资格或终止合作。")]),this._v(" "),e("li",[this._v("十、当任务需要延期时，需要任务发布方与接标方在平台上提供双方认可的延期证明文件（证明文件形式由双方自行在平台选择并上传），或合同其他内容需修改时，由双方平台确认并上传双方认可形式文件。")]),this._v(" "),e("li",[this._v("十一、平台仅提供平台服务费发票，任务发布方及任务接收方的合同发票由任务接标方自行提供。平台发票问题，请联系本网站人工客服或致电xxxx进行咨询")]),this._v(" "),e("li",[this._v("十二、本平台相关声明版权及其修改权、更新权和最终解释权均属本平台所有。")])])]),this._v(" "),e("div",{staticClass:"missionProtocol"},[e("span",{staticClass:"title"},[this._v("任务投标协议")]),this._v(" "),e("ul",[e("li",[this._v("一、为了维护平台正常交易秩序，推动服务交易的繁荣，保障交易顺利进行，根据《平台服务协议》制定本规则。接标时，请您认真阅读本协议，审阅并接受或不接受本协议。")]),this._v(" "),e("li",[this._v("二、 若您已经进行接标，即表示您已充分阅读、理解并同意遵守本协议且您自愿接受本协议的条款约束。本网站有权根据国家政策和网站发展方向及运营情况变更本协议并在本网站上予以公告。经修订的条款一经在本网站的公布后，立即自动生效。如您不同意相关变更，可经协商后停止交易行为。本协议内容包括协议正文及所有本平台已经发布的各类规则。所有规则为本协议不可分割的一部分，与本协议正文具有同等法律效力。一旦您继续进行接标行为，则表示您已接受并自愿遵守经修订后的条款")]),this._v(" "),e("li",[this._v("三、用户应当遵守国家法律、法规、行政规章的规定。对任何涉嫌违反法律、法规、行政规章的行为，本规则已有规定的，适用本规则；本规则尚无规定的，平台有权酌情处理。但平台对违规用户的处理不免除其应当承担的法律责任。")]),this._v(" "),e("li",[this._v("四、接标方应保证上传的阶段性成果获最终成果为整理后的最终版本，此前未以任何形式发表，不属于公开稿件、接标稿件或任何用于创作接标稿件的素材均不得侵犯第三方的专利权、著作权、商标权或其他任何专有权利。")]),this._v(" "),e("li",[this._v("五、接标方应当保证投标时提供的所有信息真实、可靠。不得夸大或者伪造自身经历和业绩，以影响项目方判断或者骗取任务发布方信任。")]),this._v(" "),e("li",[this._v("六、接标方在参与竞标时，应在确定中标并合同签署完成后再开始进行工作，否则若该任务出现纠纷时，平台将无权帮助协商处理。")]),this._v(" "),e("li",[this._v("七、接标方在中标后需充值项目酬金的20％到账户余额内以作为该任务的设计保证金，也可通过第三方授信服务做为设计保证金，该设计保证金/授信将在任务未完成前做冻结处理，任务完成后自行解冻。")]),this._v(" "),e("li",[this._v("八、平台对任务发布方与接标方皆没有发/接标限制，请根据自己的需求与能力自行发/接标，如接标方没有量力而行接受太多招标任务导致无法按时完成或出现纠纷，平台有权视情况扣除设计保证金。")]),this._v(" "),e("li",[this._v("九、准备参与投标的接标方根据招标任务描述及相关图纸资料，判断是否为自己擅长类型，是否满足自己时间安排，能否在指定时间内保质保量完成任务，从而提出自己的报价，或判断任务定价是否满足自己的要求；如果在各方面都适合自己，则参与投标并完善投标资料")]),this._v(" "),e("li",[this._v("十、接标方不得捏造、散布不实言论、诋毁、污蔑其他投标方，进行不正当竞争。")]),this._v(" "),e("li",[this._v(" 十一、无效接标的判定标准：\n         "),e("ul",[e("li",[this._v("1、\t对于需要提交实质成果并上传的需求，无效投标判定标准：\n             "),e("ul",[e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("A、\t投标方无投标信用抵押")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("B、\t投标方上传的投标资料为广告、低俗信息等违规内容")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("C、\t接标方上传的投标资料与需求无任何关联")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("D、\t投标方并没有提交实际真实业绩、资质的")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("E、\t投标方上传的设计稿件无法满足需求的基本要素")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("F、\t投标方上传的设计稿件涉及一稿多用、侵权等情况")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("G、\t经本平台判定没有投标需求")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("H、\t其他属于无效投标的情况")])])]),this._v(" "),e("li",[this._v("2、 对于无法上传实质成果资料上传的需求，无效投标判定标准如下\n             "),e("ul",[e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("A、\t投标方无投标信用抵押")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("B、\t投标方并没有提交实际真实业绩、资质的")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("C、\t经本平台判定没有投标需求")]),this._v(" "),e("li",{staticStyle:{"text-indent":"2rem"}},[this._v("D、\t其他属于无效投标的情况")]),this._v(" "),e("p",{staticClass:"title2"},[this._v(" 投标方上传的稿件应满足任务发布方需求要求。对于无效的资料，平台有权未经投标方同意进行屏蔽。同时对投标方进行相应的处罚。")])])])])]),this._v(" "),e("li",[this._v("十二、无效稿件处罚标准:当投标方出现违规行为时，扣除全部的任务信用金用以赔付并记录一次违约行为。")]),this._v(" "),e("li",[this._v("十三、平台服务费:交易结束后，平台将以任务合同额为基数，从中扣除任务发布方、中标方各4%-5%，扣除作为平台服务费")]),this._v(" "),e("li",[this._v("十四、对于需要交接可编辑版文件交易，中标方应在最后一次完成工作之后主动将件交付给任务发布方后，得到约定尾款。")]),this._v(" "),e("li",[this._v("十五、中标方完成并上传成果文件在任务发布方验收并支付酬金后，该成果即转让给任务发布方所有。")]),this._v(" "),e("li",[this._v("十六、任务发布方若需要线下签署相关协议，中标方有义务配合发标方完成协议的签署，若中标方拒绝签署，任务发布方有权要求取消接标方中标资格并退还酬金。")]),this._v(" "),e("li",[this._v("十七、如果任务发布方因中标方上传的成果资料侵犯了其他任何第三方的权利而遭到损失，有权利向中标方追偿")]),this._v(" "),e("li",[this._v("十八、当任务需要延期时，需要任务发布方与接标方在平台上提供双方认可的延期证明文件（证明文件形式由双方自行在平台选择并上传），或合同其他内容需修改时，由双方平台确认并上传双方认可形式文件。")]),this._v(" "),e("li",[this._v("十九、本网站相关声明版权及其修改权、更新权和最终解释权均属本平台所有")])])])])}]};var it=a("VU/8")({data:function(){return{}}},ot,!1,function(t){a("SxxD")},"data-v-32966101",null).exports,rt=a("Rmu+"),lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"archive"},[e("Info"),this._v(" "),e("search",{attrs:{"data-step":"1","data-intro":"在此输入相关信息进行搜索","data-position":"right"}}),this._v(" "),e("classify",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingClassify,expression:"loadingClassify"}],attrs:{"data-step":"2","data-intro":"根据条件分类筛选","data-position":"top"}}),this._v(" "),e("tag",{attrs:{"data-step":"3","data-intro":"更改条件","data-position":"top"}}),this._v(" "),e("mycontent",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingContent,expression:"loadingContent"}],attrs:{"data-step":"4","data-intro":"显示结果","data-position":"bottom"}}),this._v(" "),e("bottom"),this._v(" "),e("Drag")],1)},staticRenderFns:[]};var ct=function(t){a("Ug1y")},ut=a("VU/8")(rt.a,lt,!1,ct,"data-v-5b1ac54c",null).exports,dt=a("vYlG"),mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"facilitator"},[e("Info"),this._v(" "),e("search",{attrs:{"data-step":"1","data-intro":"在此输入相关信息进行搜索","data-position":"right"}}),this._v(" "),e("classify",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingClassify,expression:"loadingClassify"}],attrs:{"data-step":"2","data-intro":"根据条件分类筛选","data-position":"top"}}),this._v(" "),e("tag",{attrs:{"data-step":"3","data-intro":"更改条件","data-position":"top"}}),this._v(" "),e("mycontent",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingContent,expression:"loadingContent"}],attrs:{"data-step":"4","data-intro":"显示结果","data-position":"bottom"}}),this._v(" "),e("bottom"),this._v(" "),e("Drag")],1)},staticRenderFns:[]};var pt=function(t){a("AzFm")},ht=a("VU/8")(dt.a,mt,!1,pt,"data-v-484eb727",null).exports,ft=a("zAji"),vt=a.n(ft),gt={data:function(){return{errGif:vt.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:t.back}},[t._v("返回")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:t.errGif,alt:"Girl has dropped her ice cream."}})])],1),t._v(" "),a("el-dialog",{attrs:{title:"随便看",visible:t.dialogVisible,size:"large"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{staticClass:"pan-img",attrs:{src:t.ewizardClap}})])],1)},staticRenderFns:[]};var yt=a("VU/8")(gt,_t,!1,function(t){a("Z803")},"data-v-00b62578",null).exports,bt=(a("j1ja"),a("NYxO"));s.default.use(bt.a);var wt=new bt.a.Store({state:{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[],tag6:[],table:[],length:1,json:{}},mutations:{init:function(t){t.table=[]},add:function(t,e){}}}),$t={store:wt,data:function(){return{downloadLoading:!1,tableData:[],multipleSelection:["1","2"],currentPage:1,pagesize:5}},created:function(){},computed:Object(bt.c)(["table","length","json"]),methods:{handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleSelectionChange:function(t){this.multipleSelection=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"业绩统计管理表excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},myDelete:function(t){this.$store.state.table=this.table.filter(function(e){return e.code!==t.code})},manage:function(t){this.$router.push("/per-project/"+t.code)}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-table"},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%",height:"4rem","margin-left":"auto","margin-right":"auto",background:"#F9F9F9"}},[a("span",{staticStyle:{"font-size":"1.3rem",color:"#4d83e7","margin-left":"1rem"}},[t._v("业绩统计管理表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/achievement")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(e){t.$router.push("/per/uploadAchieve")}}},[t._v("添加已有业绩")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{type:"info"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.table.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"icon iconfont icon-iconfonticonfontjixieqimo",on:{click:function(a){t.manage(e.row)}}}),a("i",{staticClass:"icon iconfont icon-cha",on:{click:function(a){t.myDelete(e.row)}}})]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[3,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.table.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var kt=a("VU/8")($t,Ct,!1,function(t){a("aZA+")},"data-v-ff3e4cf6",null).exports,xt=a("Dd8w"),St=a.n(xt),jt={store:wt,data:function(){return{max:"3",classes:[],type:[],stage:[],voltage:[],domain:[],tags:[],jsonAll:{}}},computed:Object(bt.c)(["table","json"]),created:function(){var t=this;this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.classes=e.data.categorys,t.type=e.data.types,t.stage=e.data.designProcess,t.voltage=e.data.sizeAndCapacitys,t.domain=e.data.majors,t.$parent.loadingClassify=!1}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5,this.tag6=this.$store.state.tag6},methods:St()({},Object(bt.b)(["add"]),{add1:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag1.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add2:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag2.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add3:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag3.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add4:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag4.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add5:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag5.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add6:function(t){this.tags.length<3?"是"===t.target.innerText?(this.tags.push("yes"),this.tag6.push("yes")):(this.tags.push("no"),this.tag6.push("no")):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})}}),watch:{tags:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"achievement"}).then(function(e){t.$store.state.json={};for(var a in e.data)t.$store.state.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["洽谈中","投标中","投标洽谈","合同执行中","合同终止"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]},category:{searchMethod:"values",values:t.tag1},type:{searchMethod:"values",values:t.tag2},designProcess:{searchMethod:"values",values:t.tag3},sizeAndCapacity:{searchMethod:"values",values:t.tag4},major:{searchMethod:"values",values:t.tag5},isOnlineAchivment:{searchMethod:"values",values:t.tag6}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.$store.state.table=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.$store.state.table.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-classify"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类别:")]),t._l(t.classes,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add1(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类型:")]),t._l(t.type,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add2(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("设计阶段:")]),t._l(t.stage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add3(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("规模容量:")]),t._l(t.voltage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add4(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("线上项目:")]),a("span",{staticClass:"font2",on:{click:function(e){t.add6(e)}}},[t._v("是")]),a("span",{staticClass:"font2",on:{click:function(e){t.add6(e)}}},[t._v("否")])]),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("涉及专业:")]),t._l(t.domain,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add5(e)}}},[t._v(t._s(e))])]})],2)])},staticRenderFns:[]};var Dt={store:wt,data:function(){return{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[],tag6:[]}},mounted:function(){this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5,this.tag6=this.$store.state.tag6},methods:{close:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tag1.splice(this.tags.indexOf(t),1),this.tag2.splice(this.tags.indexOf(t),1),this.tag3.splice(this.tags.indexOf(t),1),this.tag4.splice(this.tags.indexOf(t),1),this.tag5.splice(this.tags.indexOf(t),1),this.tag6.splice(this.tags.indexOf(t),1)}}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-tag"},[a("span",{staticStyle:{"font-size":"1.5rem","line-height":"2rem",color:"#409EFF","margin-left":"1.3rem"}},[t._v("已选:")]),t._v(" "),t._l(t.tags,function(e,s){return a("el-tag",{key:s,staticStyle:{color:"#fff"},attrs:{type:"danger",closable:"",color:"#909399"},on:{close:function(a){t.close(e)}}},[t._v("\n   "+t._s(e)+"\n ")])})],2)},staticRenderFns:[]};var Pt={components:{myTable:kt,myClassify:a("VU/8")(jt,Tt,!1,function(t){a("29FU")},"data-v-42dc7895",null).exports,myTag:a("VU/8")(Dt,At,!1,function(t){a("3fvX")},"data-v-53c45586",null).exports},data:function(){return{loadingClassify:!0,loadingContent:!0}}},Ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"person-register"},[this._m(0),this._v(" "),e("div",{staticClass:"xxx"},[e("myClassify",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingClassify,expression:"loadingClassify"}]}),this._v(" "),e("myTag")],1),this._v(" "),e("myTable",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingContent,expression:"loadingContent"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("个人业绩")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var zt=a("VU/8")(Pt,Ft,!1,function(t){a("tc70")},"data-v-4800a9dd",null).exports,Ut={store:wt,data:function(){return{downloadLoading:!1,tableData:[],multipleSelection:["1","2"],currentPage:1,pagesize:5}},created:function(){},computed:Object(bt.c)(["table","length","json"]),methods:{handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleSelectionChange:function(t){this.multipleSelection=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"业绩统计管理表excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},myDelete:function(t){this.$store.state.table=this.table.filter(function(e){return e.code!==t.code})},manage:function(t){this.$router.push("/per-project/"+t.code)}}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-table"},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%",height:"4rem","margin-left":"auto","margin-right":"auto",background:"#F9F9F9"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7","margin-left":"1rem"}},[t._v("业绩统计管理表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/achievement")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(e){t.$router.push("/com/uploadAchieve")}}},[t._v("添加已有业绩")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{type:"info"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.table.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"icon iconfont icon-iconfonticonfontjixieqimo",on:{click:function(a){t.manage(e.row)}}}),a("i",{staticClass:"icon iconfont icon-cha",on:{click:function(a){t.myDelete(e.row)}}})]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[3,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.table.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var It=a("VU/8")(Ut,Nt,!1,function(t){a("/fQW")},"data-v-fc32de92",null).exports,Mt={store:wt,data:function(){return{max:"3",classes:[],type:[],stage:[],voltage:[],domain:[],tags:[],jsonAll:{}}},computed:Object(bt.c)(["table","json"]),created:function(){var t=this;this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.classes=e.data.categorys,t.type=e.data.types,t.stage=e.data.designProcess,t.voltage=e.data.sizeAndCapacitys,t.domain=e.data.majors,t.$parent.loadingClassify=!1}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5,this.tag6=this.$store.state.tag6},methods:St()({},Object(bt.b)(["add"]),{add1:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag1.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add2:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag2.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add3:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag3.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add4:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag4.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add5:function(t){this.tags.length<3?(this.tags.push(t.target.innerText),this.tag5.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add6:function(t){this.tags.length<3?"是"===t.target.innerText?(this.tags.push("yes"),this.tag6.push("yes")):(this.tags.push("no"),this.tag6.push("no")):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})}}),watch:{tags:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"achievement"}).then(function(e){t.$store.state.json={};for(var a in e.data)t.$store.state.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["洽谈中","投标中","投标洽谈","合同执行中","合同终止"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]},category:{searchMethod:"values",values:t.tag1},type:{searchMethod:"values",values:t.tag2},designProcess:{searchMethod:"values",values:t.tag3},sizeAndCapacity:{searchMethod:"values",values:t.tag4},major:{searchMethod:"values",values:t.tag5},isOnlineAchivment:{searchMethod:"values",values:t.tag6}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.$store.state.table=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.$store.state.table.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-classify"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类别:")]),t._l(t.classes,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add1(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("类型:")]),t._l(t.type,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add2(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("设计阶段:")]),t._l(t.stage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add3(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("规模容量:")]),t._l(t.voltage,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add4(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("线上项目:")]),a("span",{staticClass:"font2",on:{click:function(e){t.add6(e)}}},[t._v("是")]),a("span",{staticClass:"font2",on:{click:function(e){t.add6(e)}}},[t._v("否")])]),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("涉及专业:")]),t._l(t.domain,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add5(e)}}},[t._v(t._s(e))])]})],2)])},staticRenderFns:[]};var Rt={store:wt,data:function(){return{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[],tag6:[]}},mounted:function(){this.tags=this.$store.state.tags,this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5,this.tag6=this.$store.state.tag6},methods:{close:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tag1.splice(this.tags.indexOf(t),1),this.tag2.splice(this.tags.indexOf(t),1),this.tag3.splice(this.tags.indexOf(t),1),this.tag4.splice(this.tags.indexOf(t),1),this.tag5.splice(this.tags.indexOf(t),1),this.tag6.splice(this.tags.indexOf(t),1)}}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-tag"},[a("span",{staticStyle:{"font-size":"1.5rem","line-height":"2rem",color:"#409EFF","margin-left":"1.7rem"}},[t._v("已选:")]),t._v(" "),t._l(t.tags,function(e,s){return a("el-tag",{key:s,staticStyle:{color:"#fff"},attrs:{closable:"",type:"info",color:"#909399"},on:{close:function(a){t.close(e)}}},[t._v("\n   "+t._s(e)+"\n ")])})],2)},staticRenderFns:[]};var qt={components:{myTable:It,myClassify:a("VU/8")(Mt,Et,!1,function(t){a("STWk")},"data-v-fb10a2c2",null).exports,myTag:a("VU/8")(Rt,Vt,!1,function(t){a("urIH")},"data-v-38d72958",null).exports},data:function(){return{loadingClassify:!0,loadingContent:!0}}},Lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"company-register"},[this._m(0),this._v(" "),e("div",{staticClass:"xxx"},[e("myClassify",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingClassify,expression:"loadingClassify"}]}),this._v(" "),e("myTag")],1),this._v(" "),e("myTable",{directives:[{name:"loading",rawName:"v-loading",value:this.loadingContent,expression:"loadingContent"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem","margin-left":"1.7rem"}},[this._v("企业业绩")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var Ot=a("VU/8")(qt,Lt,!1,function(t){a("sQ+l")},"data-v-3fc69760",null).exports,Bt=a("BO1k"),Jt=a.n(Bt),Kt={data:function(){return{radio:"1",complete:100,status:"success",Ages:[],workType:["全职","兼职"],jobs:["学徒","制图","主设人","校核人","审核人","项目经理","工程代理","平台项目分析师"],acceptableTravelTime:["一天","一周","一个月","长期"],labelPosition:"right",major:[],workingAddress:[{prov:"",city:"",area:""}],ruleForm:{name:"",sex:"",age:"",workUnit:"",graduateInstitution:"",acceptableTravelTime:"",workingAddress:"全国",workType:"",telephone:"",email:"",job:[],prov:"",city:"",area:"",instruction:"",major:[]},provs:[],cities:[],areas:[]}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.major=e.data.majors}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){t.jobs=e.data.duties}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getPuserByAccount",{account:this.cookie.get("user")}).then(function(e){console.log(e.data),t.ruleForm.name=e.data.name,t.ruleForm.sex=e.data.sex,t.ruleForm.age=e.data.age,t.ruleForm.telephone=e.data.telephone,t.ruleForm.email=e.data.email,t.ruleForm.job=Array.isArray(e.data.jobs)?e.data.jobs:[],t.ruleForm.major=Array.isArray(e.data.major)?e.data.major:[],t.ruleForm.workUnit=e.data.workUnit,t.ruleForm.graduateInstitution=e.data.graduateInstitution,t.ruleForm.acceptableTravelTime=e.data.acceptableTravelTime,Array.isArray(e.data.workingAddress)?(t.radio="2",t.workingAddress=[],e.data.workingAddress.forEach(function(e,a){t.workingAddress.push({prov:e.split("/")[0],city:e.split("/")[1],area:e.split("/")[2]})})):t.radio="1",t.ruleForm.workingAddress=e.data.workingAddress,t.ruleForm.workType=e.data.workType,t.ruleForm.prov=e.data.birthAddress.province,t.ruleForm.city=e.data.birthAddress.city,t.ruleForm.area=e.data.birthAddress.area,t.ruleForm.instruction=e.data.instruction,t.complete=10;for(var a in e.data.dataOfDeepth)"yes"===e.data.dataOfDeepth[a]&&(t.complete+=30)}).catch(function(t){console.log(t)}),this.Ages=[];for(var e=18;e<80;e++)this.Ages.push({value:e,label:e});this.$http.get(this.$domain.domain1+"electric-design/getAreasOfChina").then(function(e){t.provs=e.data}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})})},addWorkingAddress:function(){this.workingAddress.push({prov:"",city:"",area:""})},deleteWorkingAddress:function(t){var e=this;this.workingAddress=this.workingAddress.filter(function(a){return e.workingAddress.indexOf(a)!==t})},getProv:function(t){this.cities=[];var e=!0,a=!1,s=void 0;try{for(var n,o=Jt()(this.provs);!(e=(n=o.next()).done);e=!0){var i=n.value;t===i.name&&(this.cities=i.cityList,this.prov=i.name)}}catch(t){a=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw s}}},getCity:function(t){this.areas=[];var e=!0,a=!1,s=void 0;try{for(var n,o=Jt()(this.cities);!(e=(n=o.next()).done);e=!0){var i=n.value;t===i.name&&(this.areas=i.areaList,this.city=i.name)}}catch(t){a=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw s}}},submit:function(){var t=this;if("1"===this.radio)this.ruleForm.workingAddress="全国";else{var e=[];this.workingAddress.forEach(function(t,a){e[a]=t.prov+"/"+t.city+"/"+t.area}),this.ruleForm.workingAddress=e}this.$http.post(this.$domain.domain1+"electric-design/changePuserByAccount",{account:this.cookie.get("user"),data:{account:this.cookie.get("user"),name:this.ruleForm.name,sex:this.ruleForm.sex,age:this.ruleForm.age,telephone:this.ruleForm.telephone,email:this.ruleForm.email,workUnit:this.ruleForm.workUnit,graduateInstitution:this.ruleForm.graduateInstitution,acceptableTravelTime:this.ruleForm.acceptableTravelTime,workingAddress:this.ruleForm.workingAddress,jobs:this.ruleForm.job,major:this.ruleForm.major,workType:this.ruleForm.workType,birthAddress:{province:this.ruleForm.prov,city:this.ruleForm.city,area:this.ruleForm.area}}}).then(function(e){e.data.result?t.$message({type:"success",message:"保存成功"}):t.$message({type:"warning",message:"保存失败,原因"+e.data.reason})}).catch(function(t){console.log(t)})},submitInstruction:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/changePuserByAccount",{account:this.cookie.get("user"),data:{account:this.cookie.get("user"),instruction:this.ruleForm.instruction}}).then(function(e){e.data.result?t.$message({type:"success",message:"保存成功"}):t.$message({type:"warning",message:"保存失败,原因"+e.data.reason})}).catch(function(t){console.log(t)})},success:function(t,e,a){console.log(t),t.result&&(this.$message({type:"success",message:"上传成功"}),this.initData())},failure:function(t,e,a){this.$message.warning(e.name+"上传失败"),console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")}}},Wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-register"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticClass:"shadow",attrs:{span:11}},[a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"120px",model:t.ruleForm}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:t.ruleForm.sex,callback:function(e){t.$set(t.ruleForm,"sex",e)},expression:"ruleForm.sex"}},[a("el-radio",{attrs:{label:"男",disabled:""}}),t._v(" "),a("el-radio",{attrs:{label:"女",disabled:""}}),t._v(" "),a("el-radio",{attrs:{label:""}},[t._v("保密")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-col",{attrs:{span:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择年龄",disabled:""},model:{value:t.ruleForm.age,callback:function(e){t.$set(t.ruleForm,"age",e)},expression:"ruleForm.age"}},t._l(t.Ages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"工作单位全称"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.workUnit,callback:function(e){t.$set(t.ruleForm,"workUnit",e)},expression:"ruleForm.workUnit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"毕业院校"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.graduateInstitution,callback:function(e){t.$set(t.ruleForm,"graduateInstitution",e)},expression:"ruleForm.graduateInstitution"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"在平台工作时间"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.ruleForm.workType,callback:function(e){t.$set(t.ruleForm,"workType",e)},expression:"ruleForm.workType"}},t._l(t.workType,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"能接受的出差最长时间"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"","default-first-option":""},model:{value:t.ruleForm.acceptableTravelTime,callback:function(e){t.$set(t.ruleForm,"acceptableTravelTime",e)},expression:"ruleForm.acceptableTravelTime"}},t._l(t.acceptableTravelTime,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.telephone,callback:function(e){t.$set(t.ruleForm,"telephone",e)},expression:"ruleForm.telephone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"我的角色"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"","default-first-option":"",multiple:""},model:{value:t.ruleForm.job,callback:function(e){t.$set(t.ruleForm,"job",e)},expression:"ruleForm.job"}},t._l(t.jobs,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"我的专业"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.ruleForm.major,callback:function(e){t.$set(t.ruleForm,"major",e)},expression:"ruleForm.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所在地",prop:"place"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-left":"0px"}},[a("el-select",{staticStyle:{width:"30%","margin-right":"0.6rem"},attrs:{placeholder:"请选择省份"},on:{change:function(e){t.getProv(e)}},model:{value:t.ruleForm.prov,callback:function(e){t.$set(t.ruleForm,"prov",e)},expression:"ruleForm.prov"}},t._l(t.provs,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),t._v(" "),a("el-select",{staticStyle:{width:"30%","margin-right":"0.6rem"},attrs:{placeholder:"请选择城市"},on:{change:function(e){t.getCity(e)}},model:{value:t.ruleForm.city,callback:function(e){t.$set(t.ruleForm,"city",e)},expression:"ruleForm.city"}},t._l(t.cities,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),t._v(" "),a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择区域"},model:{value:t.ruleForm.area,callback:function(e){t.$set(t.ruleForm,"area",e)},expression:"ruleForm.area"}},t._l(t.areas,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)]),t._v(" "),a("el-form-item",{attrs:{label:"可工作的地点"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全国")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("自定义")])],1),t._v(" "),t._l(t.workingAddress,function(e,s){return"2"===t.radio?a("el-form-item",{key:s,attrs:{label:"工作地点选择"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-left":"0px"}},[a("el-select",{staticStyle:{width:"25%","margin-right":"0.6rem"},attrs:{placeholder:"请选择省份"},on:{change:function(e){t.getProv(e)}},model:{value:e.prov,callback:function(a){t.$set(e,"prov",a)},expression:"i.prov"}},t._l(t.provs,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),t._v(" "),a("el-select",{staticStyle:{width:"25%","margin-right":"0.6rem"},attrs:{placeholder:"请选择城市"},on:{change:function(e){t.getCity(e)}},model:{value:e.city,callback:function(a){t.$set(e,"city",a)},expression:"i.city"}},t._l(t.cities,function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),t._v(" "),a("el-select",{staticStyle:{width:"25%"},attrs:{placeholder:"请选择区域"},model:{value:e.area,callback:function(a){t.$set(e,"area",a)},expression:"i.area"}},t._l(t.areas,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),t._v(" "),a("i",{staticClass:"icon iconfont icon-cha",on:{click:function(e){t.deleteWorkingAddress(s)}}})],1)]):t._e()}),t._v(" "),"2"===t.radio?a("el-form-item",{attrs:{label:"添加工作地点"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info"},on:{click:function(e){t.addWorkingAddress()}}},[t._v("添加工作地点")])],1):t._e(),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"120%","margin-left":"-120px"},attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("保存")])],1)],2)],1),t._v(" "),a("el-col",{staticClass:"shadow",attrs:{span:11,offset:2}},[a("div",{staticClass:"uploading"},[a("p",{staticStyle:{"text-align":"left","font-size":"1.5rem"}},[t._v("账号完整度")]),t._v(" "),a("el-progress",{staticStyle:{"margin-top":"2rem"},attrs:{"text-inside":!0,"stroke-width":18,percentage:t.complete,status:t.status}}),t._v(" "),a("p",{staticStyle:{"text-align":"left","font-size":"1rem","margin-top":"3rem"}},[t._v("您目前的账号完整度较低，建议通过以下方式完善你的信息，可有效提高投标成功率")]),t._v(" "),a("div",{staticClass:"div1-style"},[a("span",[t._v("上传学位证明等教育背景信息")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"education",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),a("div",{staticClass:"div1-style"},[a("span",[t._v("上传身份证件正面，提高账号安全度")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"idNumber",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),a("div",{staticClass:"div1-style"},[a("span",[t._v("上传职称或工作证明等工作信息")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"work",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"3rem"}},[a("span",{staticStyle:{color:"#909399","font-size":"1.5rem"}},[t._v("个人简介")]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:16,maxRows:18},placeholder:"请输入内容"},model:{value:t.ruleForm.instruction,callback:function(e){t.$set(t.ruleForm,"instruction",e)},expression:"ruleForm.instruction"}}),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.submitInstruction()}}},[t._v("保存")])],1)],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("注册信息")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"3rem"}},[e("p",{staticStyle:{"text-align":"left"}},[this._v("填写真实的资料更方便大家了解你，以下信息将显示在个人资料页。")]),this._v(" "),e("p",{staticStyle:{"text-align":"left"}},[this._v("其中姓名性别和年龄仅能靠上传身份证更改")]),this._v(" "),e("p",{staticStyle:{"text-align":"left"}},[this._v("如果姓名性别年龄有误，请重新上传身份证")])])}]};var Yt=a("VU/8")(Kt,Wt,!1,function(t){a("Hmjf")},"data-v-60b25d5d",null).exports,Ht={data:function(){return{radio:"2",complete:10,status:"success",Ages:[],certificateLevel:"",certificateLevels:["初级","中级","高级"],companyType:["设计院","施工企业","开发商","运营商"],peopleNumber:["1-50","50-150","150-500"],labelPosition:"right",major:[],jobs:["学徒","制图","主设人","校核人","审核人","项目经理","工程代理","平台项目分析师"],ruleForm:{name:"",sex:"",age:"",telephone:"",email:"",firstLinkmanName:"",firstLinkmanPhnoe:"",secondLinkmanName:"",secondLinkmanPhnoe:"",companyCode:"",peopleNumber:"",grownTime:"",officeAddress:"",website:"",job:[],companyType:[],instruction:"",major:[]},provs:[],cities:[],areas:[]}},created:function(){var t=this;this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.major=e.data.majors}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){t.jobs=e.data.duties}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getCuserByAccount",{account:this.cookie.get("user")}).then(function(e){t.ruleForm.name=e.data.name,t.ruleForm.telephone=e.data.telephone,t.ruleForm.email=e.data.email,t.ruleForm.firstLinkmanName=e.data.firstLinkmanName,t.ruleForm.firstLinkmanPhnoe=e.data.firstLinkmanPhnoe,t.ruleForm.secondLinkmanName=e.data.secondLinkmanName,t.ruleForm.secondLinkmanPhnoe=e.data.secondLinkmanPhnoe,t.ruleForm.companyCode=e.data.companyCode,t.ruleForm.peopleNumber=e.data.peopleNumber,t.ruleForm.grownTime=[].concat(e.data.grownTime.year+1900,e.data.grownTime.month+1,e.data.grownTime.date).join("/"),t.ruleForm.officeAddress=e.data.officeAddress,t.ruleForm.website=e.data.website,t.ruleForm.job=Array.isArray(e.data.jobs)?e.data.jobs:[],t.ruleForm.companyType=Array.isArray(e.data.companyType)?e.data.companyType:[],t.ruleForm.major=Array.isArray(e.data.major)?e.data.major:[],t.ruleForm.instruction=e.data.instruction,t.complete=10;for(var a in e.data.dataOfDeepth)"yes"===e.data.dataOfDeepth[a]&&(t.complete+=30)}).catch(function(t){console.log(t)})},mounted:function(){},methods:{submit:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/changeCuserByAccount",{account:this.cookie.get("user"),data:{account:this.cookie.get("user"),name:this.ruleForm.name,telephone:this.ruleForm.telephone,email:this.ruleForm.email,firstLinkmanName:this.ruleForm.firstLinkmanName,firstLinkmanPhnoe:this.ruleForm.firstLinkmanPhnoe,secondLinkmanName:this.ruleForm.secondLinkmanName,secondLinkmanPhnoe:this.ruleForm.secondLinkmanPhnoe,jobs:this.ruleForm.job,major:this.ruleForm.major,companyCode:this.ruleForm.companyCode,peopleNumber:this.ruleForm.peopleNumber,grownTime:this.$formDate.formatDate(this.ruleForm.grownTime),officeAddress:this.ruleForm.officeAddress,website:this.ruleForm.website,companyType:this.ruleForm.companyType}}).then(function(e){e.data.result?t.$message({type:"success",message:"保存成功"}):t.$message({type:"warning",message:"保存失败,原因"+e.data.reason})}).catch(function(t){console.log(t)})},submitInstruction:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/changeCuserByAccount",{account:this.cookie.get("user"),data:{account:this.cookie.get("user"),instruction:this.ruleForm.instruction}}).then(function(e){e.data.result?t.$message({type:"success",message:"保存成功"}):t.$message({type:"warning",message:"保存失败,原因"+e.data.reason})}).catch(function(t){console.log(t)})},success:function(t,e,a){console.log(t),this.complete+=30},failure:function(t,e,a){this.$message.warning(e.name+"上传失败"),console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")}}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"company-register"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticClass:"shadow",attrs:{span:11}},[a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"140px",model:t.ruleForm}},[a("el-form-item",{attrs:{label:"企业全称"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业电话"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.telephone,callback:function(e){t.$set(t.ruleForm,"telephone",e)},expression:"ruleForm.telephone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业邮箱"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"第一联系人姓名"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:t.ruleForm.firstLinkmanName,callback:function(e){t.$set(t.ruleForm,"firstLinkmanName",e)},expression:"ruleForm.firstLinkmanName"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[t._v("第一联系人号码")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:t.ruleForm.firstLinkmanPhnoe,callback:function(e){t.$set(t.ruleForm,"firstLinkmanPhnoe",e)},expression:"ruleForm.firstLinkmanPhnoe"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"第二联系人姓名"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:t.ruleForm.secondLinkmanName,callback:function(e){t.$set(t.ruleForm,"secondLinkmanName",e)},expression:"ruleForm.secondLinkmanName"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[t._v("第二联系人号码")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:t.ruleForm.secondLinkmanPhnoe,callback:function(e){t.$set(t.ruleForm,"secondLinkmanPhnoe",e)},expression:"ruleForm.secondLinkmanPhnoe"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"企业组织机构代码"}},[a("el-input",{model:{value:t.ruleForm.companyCode,callback:function(e){t.$set(t.ruleForm,"companyCode",e)},expression:"ruleForm.companyCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业人数"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"","default-first-option":""},model:{value:t.ruleForm.peopleNumber,callback:function(e){t.$set(t.ruleForm,"peopleNumber",e)},expression:"ruleForm.peopleNumber"}},t._l(t.peopleNumber,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"企业成立时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.ruleForm.grownTime,callback:function(e){t.$set(t.ruleForm,"grownTime",e)},expression:"ruleForm.grownTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业办公地址详情"}},[a("el-input",{model:{value:t.ruleForm.officeAddress,callback:function(e){t.$set(t.ruleForm,"officeAddress",e)},expression:"ruleForm.officeAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业网站"}},[a("el-input",{model:{value:t.ruleForm.website,callback:function(e){t.$set(t.ruleForm,"website",e)},expression:"ruleForm.website"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"企业类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.ruleForm.companyType,callback:function(e){t.$set(t.ruleForm,"companyType",e)},expression:"ruleForm.companyType"}},t._l(t.companyType,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"我的角色"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"","default-first-option":"",multiple:""},model:{value:t.ruleForm.job,callback:function(e){t.$set(t.ruleForm,"job",e)},expression:"ruleForm.job"}},t._l(t.jobs,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"我的专业"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},model:{value:t.ruleForm.major,callback:function(e){t.$set(t.ruleForm,"major",e)},expression:"ruleForm.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"120%","margin-left":"-140px"},attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("保存")])],1)],1)],1),t._v(" "),a("el-col",{staticClass:"shadow",attrs:{span:11,offset:2}},[a("div",{staticClass:"uploading"},[a("p",{staticStyle:{"text-align":"left","font-size":"1.5rem"}},[t._v("账号完整度")]),t._v(" "),a("el-progress",{staticStyle:{"margin-top":"2rem"},attrs:{"text-inside":!0,"stroke-width":18,percentage:t.complete>100?100:t.complete,status:t.status}}),t._v(" "),a("p",{staticStyle:{"text-align":"left","font-size":"1rem","margin-top":"3rem"}},[t._v("您目前的账号完整度较低，建议通过以下方式完善你的信息，可有效提高投标成功率")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("三证合一上传")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("独立上传")]),t._v(" "),"1"===t.radio?a("div",{staticClass:"div1-style"},[a("span",[t._v("三证合一")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"szhy",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1):t._e(),t._v(" "),"2"===t.radio?a("div",{staticClass:"div1-style"},[a("span",[t._v("营业执照")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"yyzz",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1):t._e(),t._v(" "),"2"===t.radio?a("div",{staticClass:"div1-style"},[a("span",[t._v("税务登记证")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"swdjz",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user")},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1):t._e(),t._v(" "),"2"===t.radio?a("div",{staticClass:"div1-style"},[a("span",[t._v("资质证书")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择证书等级",filterable:"","allow-create":"","default-first-option":""},model:{value:t.certificateLevel,callback:function(e){t.certificateLevel=e},expression:"certificateLevel"}},t._l(t.certificateLevels,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.$domain.domain1+"electric-design/uploadUsersDatas",data:{userDatatype:"zzzs",sourceType:t.$cookie.get("role"),sourceName:t.$cookie.get("name"),sourceAccount:t.$cookie.get("user"),level:t.certificateLevel},multiple:"",name:"data","on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:3}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1):t._e(),t._v(" "),a("div",{staticStyle:{"margin-top":"3rem"}},[a("span",{staticStyle:{color:"#909399","font-size":"1.5rem"}},[t._v("企业简介")]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:16,maxRows:18},placeholder:"请输入内容"},model:{value:t.ruleForm.instruction,callback:function(e){t.$set(t.ruleForm,"instruction",e)},expression:"ruleForm.instruction"}}),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.submitInstruction()}}},[t._v("保存")])],1)],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("注册信息")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"3rem"}},[e("p",{staticStyle:{"text-align":"left"}},[this._v("填写真实的资料更方便大家了解你，以下信息将显示在个人资料页。")]),this._v(" "),e("p",{staticStyle:{"text-align":"left"}},[this._v("(请不要在资料里留电话，QQ等联系方式，会导致您的资料无法通过审核)")])])}]};var Qt=a("VU/8")(Ht,Gt,!1,function(t){a("+pp0")},"data-v-67d8ab72",null).exports,Zt=a("mtWM"),Xt=a.n(Zt),te=a("Stau");s.default.use(bt.a);var ee={init:function(t){t.step=1},init2:function(t){var e=this;t.step=2,Xt.a.post(te.a.domain1+"electric-design/getDataOfClassKey").then(function(e){console.log(e.data),t.categorys=e.data.categorys,t.type=e.data.types,t.designState=e.data.designProcess,t.unit=e.data.sizeAndCapacitys,t.major=e.data.majors}).catch(function(t){console.log(t),e.$message({showClose:!0,message:"网络连接错误",type:"error"})}),Xt.a.post(te.a.domain1+"electric-design/getDataOfClassKey").then(function(e){t.paymentScale=e.data.payScale,t.projectNowStates=e.data.projectNowState}).catch(function(t){console.log(t)})},init3:function(t){t.step=3},init4:function(t){t.step=4},init5:function(t){t.step=5},init6:function(t){t.step=6},initStateUnits:function(t){t.form.stateUnits=[],t.form.designState.forEach(function(e,a){t.form.stateUnits.push({state:e,startTime:"未填",endTime:"未填",requireResult:"未填"})})},addStateUnits:function(t){t.form.stateUnits.push({state:"未填",startTime:"未填",endTime:"未填",requireResult:"未填"})},myDelete:function(t,e){t.form.stateUnits=t.form.stateUnits.filter(function(t){return t.state!==e.state})}},ae=new bt.a.Store({state:{stepName:["身份选择","填写项目信息","最终确认"],steps:[1,2,3,4,5,6],step:1,description:["发布新项目前选择您的身份，方便项目的填写，若您对表单不了解，会由工作人员协同您填写","在此页面填写与项目有关的基本信息,方便设计人员了解您的项目，有利于项目的进行","最后确认您的项目信息，点击确认即可发布","步骤四的说明","步骤五的说明","步骤六的说明"],radioStep1:"",form:{dataOrProject:"project",company:"某某公司",name:"项目",state:"投标中",sizeAndCapacitys:"",categorys:"",unit:"",type:[],voltagelevel1:"",voltagelevel2:100,voltagelevel3:"",place:"",major:[],designState:[],startTime:"",endTime:"",character:"",performanceReq1:"",performanceReq2:"",lowPrice:"暂无",highPrice:"暂无",priceType:"",aptitude:"",paymentMethods:"",paymentScale:"",isAcceptJointBid:"true",instruction:"",requirement:"",payDiscible:"",projectNowState:"",hasInvoice:"no",stateUnits:[{state:"未填",startTime:"未填",endTime:"未填",requireResult:"未填"}]},qualificationRequirements:{CET:""},projectCharacteristics:{difficulty:"",price:""},unit:["MW","Kva","KV","M^2"],existingData:{detail:""},states:[{value:"发布中",label:"暂缓发布"},{value:"投标中",label:"立即发布"}],major:["计算机","电力","岩土","绘测"],designState:["前期","项目建议书","可行性研究报告","招投标","初步设计","施工图设计","竣工图编制"],sizeAndCapacitys:["MW","KW","kVA"],categorys:["火电","水电","风电","光伏","核电","储能"],type:["发电厂","输电","变电","供配电","建筑"],voltagelevel:["KV","V"],voltagetype:["直流","交流"],character:["个人","公司"],performanceReq:["同类型同规模","同类型"],priceType:["最低","最高"],aptitude:["高资质","低资质"],paymentMethods:["一次性付款","分阶段付款"],paymentScale:["1:1","2:1","3:1"],projectNowStates:["未开始","项目建议书","可研已定","初设已定","施工图已定","竣工图已定"]},mutations:ee}),se={store:ae,data:function(){return{}},computed:St()({},Object(bt.c)(["steps","stepName","step","description"]))},ne={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"PM-new"},[this._m(0),this._v(" "),e("div",{staticClass:"box"},[e("el-steps",{staticStyle:{"margin-left":"-8rem","margin-right":"-8rem"},attrs:{active:this.step-1,"process-status":"finish","finish-status":"success","align-center":""}},this._l(this.stepName,function(t,a){return e("el-step",{key:a,attrs:{title:t}})})),this._v(" "),e("div",{staticClass:"description"},[e("span",[this._v(this._s(this.description[this.step-1]))])]),this._v(" "),e("router-view")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("发布新任务")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var oe=a("VU/8")(se,ne,!1,function(t){a("NA/C")},"data-v-d817559a",null).exports,ie={store:ae,computed:St()({},Object(bt.c)(["step"])),data:function(){return{radio:"2"}},watch:{radio:function(){this.$store.state.radioStep1=this.radio,console.log(this.$store.state.radioStep1),this.next()}},methods:St()({next:function(){"2"===this.radio?this.$router.push("/per/PM-new/2"):this.$router.push("/per/PM-new/2-1")}},Object(bt.b)(["init"])),mounted:function(){this.init()}},re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-step1"},[a("div",{staticClass:"content"},[a("el-button",{staticClass:"content1",attrs:{type:"primary"},on:{click:function(e){t.$router.push("/per/PM-new/2-1")}}},[t._v("我对项目相关信息不了解")]),t._v(" "),a("el-button",{staticClass:"content2",attrs:{type:"primary"},on:{click:function(e){t.$router.push("/per/PM-new/2")}}},[t._v("我了解项目相关信息")])],1)])},staticRenderFns:[]};var le=a("VU/8")(ie,re,!1,function(t){a("gUCq")},"data-v-2bd3960f",null).exports,ce={store:ae,computed:St()({},Object(bt.c)(["step","form","states","designState","type","categorys","sizeAndCapacitys","voltagelevel","voltagetype","major","unit","character","performanceReq","priceType","aptitude","paymentMethods","paymentScale","projectNowStates"])),data:function(){return{help1:this.$domain.domain1+"electric-design/public/templets/taskbasemsg.html",help2:this.$domain.domain1+"electric-design/public/templets/projectrequriment.html",help3:this.$domain.domain1+"electric-design/public/templets/payabout.html",help4:this.$domain.domain1+"electric-design/public/templets/resultrequriment.html",disabled:!1,radio:"2"}},methods:St()({},Object(bt.b)(["init2","addStateUnits","myDelete","initStateUnits"])),mounted:function(){this.init2()},watch:{radio:function(){"1"===this.radio?this.disabled=!0:this.disabled=!1},designState:function(){var t=this;this.$store.state.stateUnits=[],this.designState.forEach(function(e,a){t.$store.state.stateUnits.push({state:e,endTime:"未填",requireResult:"未填"})})}}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PM-new-step2"},[a("div",{staticStyle:{"margin-top":"2rem"}},[a("el-radio",{attrs:{label:"project"},model:{value:t.form.dataOrProject,callback:function(e){t.$set(t.form,"dataOrProject",e)},expression:"form.dataOrProject"}},[t._v("项目任务")]),t._v(" "),a("el-radio",{attrs:{label:"data"},model:{value:t.form.dataOrProject,callback:function(e){t.$set(t.form,"dataOrProject",e)},expression:"form.dataOrProject"}},[t._v("资料任务")])],1),t._v(" "),"data"===t.form.dataOrProject?a("div",{staticClass:"data"},[a("div",{staticClass:"title"},[a("span",[t._v("任务基本信息")]),a("a",{staticClass:"help",attrs:{href:t.help1}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"任务名称"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发布公司"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{offset:5,span:2}},[t._v("类别")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.categorys,callback:function(e){t.$set(t.form,"categorys",e)},expression:"form.categorys"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"即时发布"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},t._l(t.states,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择类型",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("涉及专业")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择涉及专业",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-col",{attrs:{span:9}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目描述"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目要求"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目要求"},model:{value:t.form.requirement,callback:function(e){t.$set(t.form,"requirement",e)},expression:"form.requirement"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("付款相关"),a("a",{staticClass:"help",attrs:{href:t.help3}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"付款方式/付款比例"}},[a("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:12}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"选择"},model:{value:t.form.paymentMethods,callback:function(e){t.$set(t.form,"paymentMethods",e)},expression:"form.paymentMethods"}},t._l(t.paymentMethods,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"自填或选择",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.paymentScale,callback:function(e){t.$set(t.form,"paymentScale",e)},expression:"form.paymentScale"}},t._l(t.paymentScale,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-switch",{attrs:{"active-text":"有发票(未选择时默认为无发票)","inactive-text":"","active-value":"yes","inactive-value":"no"},model:{value:t.form.hasInvoice,callback:function(e){t.$set(t.form,"hasInvoice",e)},expression:"form.hasInvoice"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"付款描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入付款描述"},model:{value:t.form.payDiscible,callback:function(e){t.$set(t.form,"payDiscible",e)},expression:"form.payDiscible"}})],1)],1)],1)]):a("div",[a("div",{staticClass:"title"},[a("span",[t._v("任务基本信息")]),a("a",{staticClass:"help",attrs:{href:t.help1}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:5}},[t._v("是否接受联合投标")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","inactive-value":"false","active-value":"true"},model:{value:t.form.isAcceptJointBid,callback:function(e){t.$set(t.form,"isAcceptJointBid",e)},expression:"form.isAcceptJointBid"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发布公司"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{offset:5,span:2}},[t._v("类别")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.categorys,callback:function(e){t.$set(t.form,"categorys",e)},expression:"form.categorys"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"即时发布"}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},t._l(t.states,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("规模")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入规模的数值",type:"number"},model:{value:t.form.sizeAndCapacitys,callback:function(e){t.$set(t.form,"sizeAndCapacitys",e)},expression:"form.sizeAndCapacitys"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择单位"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},t._l(t.unit,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:0,span:3}},[t._v("委托设计阶段")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},on:{input:t.initStateUnits},model:{value:t.form.designState,callback:function(e){t.$set(t.form,"designState",e)},expression:"form.designState"}},t._l(t.designState,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择类型",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("涉及专业")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择涉及专业",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"电压等级"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"30%"},model:{value:t.form.voltagelevel1,callback:function(e){t.$set(t.form,"voltagelevel1",e)},expression:"form.voltagelevel1"}},t._l(t.voltagetype,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("el-input",{staticStyle:{width:"35%"},attrs:{type:"number"},model:{value:t.form.voltagelevel2,callback:function(e){t.$set(t.form,"voltagelevel2",e)},expression:"form.voltagelevel2"}}),t._v(" "),a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择电压等级"},model:{value:t.form.voltagelevel3,callback:function(e){t.$set(t.form,"voltagelevel3",e)},expression:"form.voltagelevel3"}},t._l(t.voltagelevel,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("开始时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目地点"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.place,callback:function(e){t.$set(t.form,"place",e)},expression:"form.place"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"委托费限价"}},[a("el-col",{attrs:{span:9}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"最低"},model:{value:t.form.lowPrice,callback:function(e){t.$set(t.form,"lowPrice",e)},expression:"form.lowPrice"}}),t._v(" "),a("span",[t._v("/万元")]),t._v(" "),a("span",{staticStyle:{"font-size":"1.2rem",color:"red"}},[t._v("到")]),t._v(" "),a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"最高"},model:{value:t.form.highPrice,callback:function(e){t.$set(t.form,"highPrice",e)},expression:"form.highPrice"}}),t._v(" "),a("span",[t._v("/万元")])],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("目前状态")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},model:{value:t.form.projectNowState,callback:function(e){t.$set(t.form,"projectNowState",e)},expression:"form.projectNowState"}},t._l(t.projectNowStates,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目描述"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目要求"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目要求"},model:{value:t.form.requirement,callback:function(e){t.$set(t.form,"requirement",e)},expression:"form.requirement"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("项目资质要求")]),a("a",{staticClass:"help",attrs:{href:t.help2}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"接标个体性质"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择个体性质"},model:{value:t.form.character,callback:function(e){t.$set(t.form,"character",e)},expression:"form.character"}},t._l(t.character,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:2,span:3}},[t._v("业绩要求")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业绩要求",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.performanceReq1,callback:function(e){t.$set(t.form,"performanceReq1",e)},expression:"form.performanceReq1"}},t._l(t.performanceReq,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"数量要求"},model:{value:t.form.performanceReq2,callback:function(e){t.$set(t.form,"performanceReq2",e)},expression:"form.performanceReq2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所需资质"}},[a("el-input",{model:{value:t.form.aptitude,callback:function(e){t.$set(t.form,"aptitude",e)},expression:"form.aptitude"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("付款相关"),a("a",{staticClass:"help",attrs:{href:t.help3}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"付款方式/付款比例"}},[a("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:12}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"选择"},model:{value:t.form.paymentMethods,callback:function(e){t.$set(t.form,"paymentMethods",e)},expression:"form.paymentMethods"}},t._l(t.paymentMethods,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"自填或选择",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.paymentScale,callback:function(e){t.$set(t.form,"paymentScale",e)},expression:"form.paymentScale"}},t._l(t.paymentScale,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-switch",{attrs:{"active-text":"有发票(未选择时默认为无发票)","inactive-text":"","active-value":"yes","inactive-value":"no"},model:{value:t.form.hasInvoice,callback:function(e){t.$set(t.form,"hasInvoice",e)},expression:"form.hasInvoice"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"付款描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入付款描述"},model:{value:t.form.payDiscible,callback:function(e){t.$set(t.form,"payDiscible",e)},expression:"form.payDiscible"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("项目设计成果要求"),a("a",{staticClass:"help",attrs:{href:t.help4}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content",staticStyle:{display:"block"}},[a("div",{staticStyle:{color:"#F56C6C","font-size":"1.2rem"}},[t._v("注意:项目发布成功后才能上传项目已有文件")]),t._v(" "),a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"80px"}},[a("el-table",{staticStyle:{"margin-top":"2rem"},attrs:{data:t.form.stateUnits,stripe:""}},[a("el-table-column",{attrs:{label:"设计阶段","min-width":"18%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.state,callback:function(a){t.$set(e.row,"state",a)},expression:"scope.row.state"}},t._l(t.designState,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间","min-width":"18%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{attrs:{disabled:t.disabled,type:"date",placeholder:"选择日期"},model:{value:e.row.startTime,callback:function(a){t.$set(e.row,"startTime",a)},expression:"scope.row.startTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间","min-width":"18%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{attrs:{disabled:t.disabled,type:"date",placeholder:"选择日期"},model:{value:e.row.endTime,callback:function(a){t.$set(e.row,"endTime",a)},expression:"scope.row.endTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"要求成果","min-width":"36%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:"",disabled:t.disabled},model:{value:e.row.requireResult,callback:function(a){t.$set(e.row,"requireResult",a)},expression:"scope.row.requireResult"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.myDelete(e.row)}}},[a("i",{staticClass:"icon iconfont icon-cha",staticStyle:{"font-size":"1rem",color:"white"}})])]}}])})],1)],1)],1)]),t._v(" "),a("div",{staticClass:"skip"},[a("div",{staticStyle:{"margin-left":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new")}}},[a("i",{staticClass:"icon iconfont icon-zuo"}),a("span",[t._v("上一步")])]),t._v(" "),a("div",{staticStyle:{"margin-right":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/3")}}},[a("span",[t._v("下一步")]),a("i",{staticClass:"icon iconfont icon-you"})])])])},staticRenderFns:[]};var de=a("VU/8")(ce,ue,!1,function(t){a("ffjD")},"data-v-28d09f4c",null).exports,me={store:ae,computed:St()({},Object(bt.c)(["step","form"])),data:function(){return{dialogVisible:!1,limit:1,helpeds:["18730273658","1802528291@qq.com"],helped:[]}},methods:St()({confirm:function(){var t=this,e=[];this.form.stateUnits.forEach(function(a,s){e.push({state:a.state,startTime:t.$formDate.formatDate(a.startTime),endTime:t.$formDate.formatDate(a.endTime),requireResult:a.requireResult})});var a={sourceAccount:this.cookie.get("user"),releaseUserAccount:this.cookie.get("user"),dataOrProject:this.form.dataOrProject,tenderCompany:this.form.company,name:this.form.name,changeName:this.form.name,state:this.form.state,sizeCapacityNumber:this.form.sizeAndCapacitys,sizeAndCapacity:this.form.unit,bidType:this.form.character,type:this.form.type,category:this.form.categorys,voltagelevel:this.form.voltagelevel1+"/"+this.form.voltagelevel2+"/"+this.form.voltagelevel3,major:this.form.major,address:this.form.place,performanceRequirements:this.form.performanceReq1+"/数量要求:"+this.form.performanceReq2,entrustProcess:this.form.designState,designProcess:this.form.designState[0],amountOfInvestment:this.form.lowPrice+"-"+this.form.highPrice,lowestPrice:this.form.lowPrice+"/万元",highestPrice:this.form.highPrice+"/万元",instruction:this.form.instruction,requirement:this.form.requirement,payDiscible:this.form.payDiscible,projectNowState:this.form.projectNowState,hasInvoice:this.form.hasInvoice,qualificationRequirements:this.form.aptitude,startTime:this.$formDate.formatDate(this.form.startTime),endTime:this.$formDate.formatDate(this.form.endTime),payMethod:this.form.paymentMethods+"/"+this.form.paymentScale,isAcceptJointBid:this.form.isAcceptJointBid,processRequirements:e};this.$http.post(this.$domain.domain1+"electric-design/addProject1",a).then(function(e){console.log(a),console.log(e.data),e.data.result?(t.$message({message:"发布成功",type:"success"}),t.$parent.$parent.$parent.$parent.initData(),t.$router.push("/per-project/"+e.data.code+"/pandect")):t.$message({message:"发布失败,原因"+e.data.reason,type:"warning"})}).catch(function(t){console.log(t)})},helpConfirm:function(){var t=this,e=[];this.form.stateUnits.forEach(function(a,s){e.push({state:a.state,startTime:t.$formDate.formatDate(a.startTime),endTime:t.$formDate.formatDate(a.endTime),requireResult:a.requireResult})});var a={sourceAccount:this.helped[0],releaseUserAccount:this.$cookie.get("user"),helpedAccount:this.helped[0],helpAccount:this.$cookie.get("user"),dataOrProject:this.form.dataOrProject,tenderCompany:this.form.company,name:this.form.name,changeName:this.form.name,state:"临时态",sizeCapacityNumber:this.form.sizeAndCapacitys,sizeAndCapacity:this.form.unit,bidType:this.form.character,type:this.form.type,category:this.form.categorys,voltagelevel:this.form.voltagelevel1+this.form.voltagelevel2+this.form.voltagelevel3,major:this.form.major,address:this.form.place,performanceRequirements:this.form.performanceReq1+"/数量要求:"+this.form.performanceReq2,entrustProcess:this.form.designState,designProcess:this.form.designState[0],amountOfInvestment:this.form.lowPrice+"-"+this.form.highPrice,lowestPrice:this.form.lowPrice+"/万元",highestPrice:this.form.highPrice+"/万元",instruction:this.form.instruction,requirement:this.form.requirement,payDiscible:this.form.payDiscible,projectNowState:this.form.projectNowState,hasInvoice:this.form.hasInvoice,qualificationRequirements:this.form.aptitude,startTime:this.$formDate.formatDate(this.form.startTime),endTime:this.$formDate.formatDate(this.form.endTime),payMethod:this.form.paymentMethods+"/"+this.form.paymentScale,isAcceptJointBid:this.form.isAcceptJointBid,processRequirements:e};this.$http.post(this.$domain.domain1+"electric-design/addProject1",a).then(function(e){console.log(a),console.log(e.data),e.data.result?(t.$message({message:"帮"+t.helped[0]+"发布成功",type:"success"}),t.$parent.$parent.$parent.$parent.initData()):t.$message({message:"发布失败,原因"+e.data.reason,type:"warning"})}).catch(function(t){console.log(t)})}},Object(bt.b)(["init3"])),mounted:function(){this.init3()}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"content-item-title"},[t._v("基本信息")])]),t._v(" "),a("el-col",{attrs:{offset:2,span:19}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("发布公司:"+t._s(t.form.company))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("项目名称:"+t._s(t.form.name))])]),t._v(" "),"data"!==this.form.dataOrProject?a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("目前状态:"+t._s(t.form.projectNowState))])]):t._e()],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("类型:"+t._s(t.form.type.join(",")))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("类别:"+t._s(t.form.categorys))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("规模:"+t._s(t.form.sizeAndCapacitys)+t._s(t.form.unit))])]),t._v(" "),"data"!==this.form.dataOrProject?a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("电压等级:"+t._s(this.form.voltagelevel1+"/"+this.form.voltagelevel2+"/"+this.form.voltagelevel3))])]):t._e()],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("开始时间:"+t._s(t.$formDate.formatDate(t.form.startTime)))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("结束时间:"+t._s(t.$formDate.formatDate(t.form.endTime)))])])],1),t._v(" "),"data"!==this.form.dataOrProject?a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"confirm-p1"},[t._v("委托设计阶段:"+t._s(t.form.designState.join(",")))])])],1):t._e(),t._v(" "),"data"!==this.form.dataOrProject?a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p1"},[t._v("委托费限价:"+t._s(t.form.lowPrice)+"/万元(最低)"+t._s(t.form.highPrice)+"/万元(最高)")])])],1):t._e(),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p1"},[t._v("是否接受联合投标:"+t._s(t.form.isAcceptJointBid))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p1"},[t._v("项目描述:"+t._s(t.form.instruction))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p1"},[t._v("项目要求:"+t._s(t.form.requirement))])])],1),t._v(" "),a("el-row",[a("el-col",[a("p",{staticStyle:{"font-size":"2rem",color:"red"}},["data"===this.form.dataOrProject?a("span",[t._v("此任务为资料型")]):a("span",[t._v("此任务为项目型")])])])],1)],1)],1)]),t._v(" "),"data"!==this.form.dataOrProject?a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"content-item-title"},[t._v("资质要求")])]),t._v(" "),a("el-col",{attrs:{offset:2,span:19}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p2"},[t._v("接标个体性质:"+t._s(t.form.character))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p2"},[t._v("业绩要求:"+t._s(this.form.performanceReq1+"/数量要求:"+this.form.performanceReq2))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p2"},[t._v("所需资质:"+t._s(t.form.aptitude))])])],1)],1)],1)]):t._e(),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"content-item-title"},[t._v("付款相关")])]),t._v(" "),a("el-col",{attrs:{span:19,offset:2}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p2"},[t._v("付款方式:"+t._s(t.form.paymentMethods))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("p",{staticClass:"confirm-p2"},[t._v("付款比例:"+t._s(t.form.paymentScale))])])],1),t._v(" "),a("el-row",[a("p",{staticClass:"confirm-p2"},[t._v("付款描述:"+t._s(t.form.payDiscible))])])],1)],1)]),t._v(" "),"data"!==this.form.dataOrProject?a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"content-item-title"},[t._v("设计结果")])]),t._v(" "),a("el-col",{attrs:{offset:2,span:19}},[a("el-table",{attrs:{data:t.form.stateUnits,stripe:""}},[a("el-table-column",{attrs:{prop:"state",label:"设计阶段"}}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.$formDate.formatDate(e.row.startTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.$formDate.formatDate(e.row.endTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"requireResult",label:"要求成果"}})],1)],1)],1)]):t._e(),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("我是替别人填写的")]),a("el-button",{attrs:{type:"success"},on:{click:t.confirm}},[t._v("我自己发布的")])],1),t._v(" "),a("el-dialog",{attrs:{title:"选择被帮助者",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-select",{attrs:{multiple:"",filterable:"","multiple-limit":t.limit,"allow-create":"","default-first-option":"",placeholder:"请选择"},model:{value:t.helped,callback:function(e){t.helped=e},expression:"helped"}},t._l(t.helpeds,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.helpConfirm()}}},[t._v("确 定")])],1)],1),t._v(" "),a("div",{staticClass:"skip"},[a("div",{staticStyle:{"margin-left":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/2")}}},[a("i",{staticClass:"icon iconfont icon-zuo"}),a("span",[t._v("上一步")])]),t._v(" "),a("div",{staticStyle:{"margin-right":"2rem"},on:{click:function(e){t.confirm()}}},[a("span",[t._v("完成")]),a("i",{staticClass:"icon iconfont icon-you"})])])],1)},staticRenderFns:[]};var he=a("VU/8")(me,pe,!1,function(t){a("yHnh")},"data-v-20956e8d",null).exports,fe={store:ae,computed:St()({},Object(bt.c)(["step","form"])),data:function(){return{dialogVisible:!1,dialogVisible2:!1,table:[]}},methods:St()({skip:function(t){var e=this;this.$router.push("/chat/contact"),this.$nextTick(function(){e.$one.$emit("skipChat",t)})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getPusersByMultiConditions",{conditions:{jobs:{searchMethod:"values",values:["平台项目分析师"]}}}).then(function(e){console.log(e.data),t.table=e.data}).catch(function(t){console.log(t)})}},Object(bt.b)(["init2"])),mounted:function(){this.initData(),this.init2()}},ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("p",{staticStyle:{"text-align":"left",width:"100%"}},[t._v("项目发布的信息过多，如果您有疑惑，可以联系平台工作人员，他们会帮您填写，您也可以联系已经注册的用户帮您填写。当填写信息后，点击下一步，检查信息无误会点击确认即可发布")]),t._v(" "),a("div",{staticStyle:{margin:"1rem auto"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("联系平台人员")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible2=!0}}},[t._v("联系指定用户")])],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("后台人员ckj联系电话：xxx")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"为您推荐以下平台项目分析师",visible:t.dialogVisible2,width:"60%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-table",{attrs:{data:t.table}},[a("el-table-column",{attrs:{prop:"account",label:"账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"telephone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),a("el-table-column",{attrs:{label:"求助"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.account,name:e.row.name})}}},[t._v("和他聊天")])]}}])})],1)],1),t._v(" "),a("p",{staticStyle:{"text-align":"left",width:"100%"}},[t._v("如果您没有疑惑或者已经熟悉发布流程，您也可以自己填写")]),t._v(" "),a("div",{staticStyle:{margin:"1rem auto"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("/per/PM-new/2")}}},[t._v("我自己填写")])],1)],1),t._v(" "),a("div",{staticClass:"skip"},[a("div",{staticStyle:{"margin-left":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new")}}},[a("i",{staticClass:"icon iconfont icon-zuo"}),a("span",[t._v("上一步")])]),t._v(" "),a("div",{staticStyle:{"margin-right":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/3")}}},[a("span",[t._v("下一步")]),a("i",{staticClass:"icon iconfont icon-you"})])])])},staticRenderFns:[]};var ge=a("VU/8")(fe,ve,!1,function(t){a("J3Mt")},"data-v-46f51e69",null).exports,_e={store:ae,computed:St()({},Object(bt.c)(["step","form","projectCharacteristics"])),data:function(){return{}},methods:St()({},Object(bt.b)(["init5"])),mounted:function(){this.init5()}},ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:t.projectCharacteristics,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"难度系数"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.projectCharacteristics.difficulty,callback:function(e){t.$set(t.projectCharacteristics,"difficulty",e)},expression:"projectCharacteristics.difficulty"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"大概价钱"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.projectCharacteristics.price,callback:function(e){t.$set(t.projectCharacteristics,"price",e)},expression:"projectCharacteristics.price"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"skip"},[a("div",{staticStyle:{"margin-left":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/4")}}},[a("i",{staticClass:"icon iconfont icon-zuo"}),a("span",[t._v("上一步")])]),t._v(" "),a("div",{staticStyle:{"margin-right":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/6")}}},[a("span",[t._v("下一步")]),a("i",{staticClass:"icon iconfont icon-you"})])])])},staticRenderFns:[]};var be=a("VU/8")(_e,ye,!1,function(t){a("Vheb")},"data-v-49c396d2",null).exports,we={store:ae,computed:St()({},Object(bt.c)(["step","form","qualificationRequirements","projectCharacteristics","existingData"])),data:function(){return{}},methods:St()({publish:function(){var t=this,e={sourceAccount:this.cookie.get("user"),name:this.form.name,state:this.form.state,sizeAndCapacity:this.form.sizeAndCapacitys,type:this.form.type,category:this.form.categorys,voltagelevel:this.form.voltagelevel,major:[this.form.major],instruction:this.existingData.detail,qualificationRequirements:[{CET:this.qualificationRequirements.CET}],projectCharacteristics:[{price:this.projectCharacteristics.price},{difficult:this.projectCharacteristics.difficulty}],startTime:this.formatDate(this.form.startTime),endTime:this.formatDate(this.form.endTime)};this.$http.post(this.$domain.domain1+"electric-design/addProject1",e).then(function(e){console.log(e.data),e.data.result?t.$message({message:"发布成功",type:"success"}):t.$message({message:"发布失败",type:"warning"})}).catch(function(t){console.log(t)})},formatDate:function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,n=e.getDate();return a+"-"+this.formatTen(s)+"-"+this.formatTen(n)},formatTen:function(t){return t>9?t+"":"0"+t}},Object(bt.b)(["init6"])),mounted:function(){this.init6()}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("el-button",{on:{click:function(e){t.publish()}}},[t._v("发布")])],1),t._v(" "),a("div",{staticClass:"skip"},[a("div",{staticStyle:{"margin-left":"2rem"},on:{click:function(e){t.$router.push("/per/PM-new/5")}}},[a("i",{staticClass:"icon iconfont icon-zuo"}),a("span",[t._v("上一步")])])])])},staticRenderFns:[]};var Ce=a("VU/8")(we,$e,!1,function(t){a("apQ/")},"data-v-ff6ba47a",null).exports,ke={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["临时态"]},sourceAccount:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectsByMultiConditions ",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.name=t.name,this.code=t.code,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},confirm:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.code,data:{state:"发布中"}}).then(function(e){e.data.result?(t.$message({type:"success",message:"已经进行发布"}),t.$router.go(0)):t.$message({type:"warning",message:"发布失败"})}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目临时态信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t}}},xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm()}}},[t._v("确定无误，我要发布")]):t._e()],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|发布中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Se={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["发布中"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.name=t.name,this.code=t.code,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},confirm:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.code,data:{state:"投标中"}}).then(function(e){e.data.result?(t.$message({type:"success",message:"已经进行投标"}),t.$router.go(0)):t.$message({type:"warning",message:"投标失败"})}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目发布中信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t}}},je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm()}}},[t._v("进行投标")]):t._e()],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|发布中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Te={components:{PchangeTable:C,CchangeTable:S},data:function(){return{radio:[],sourceAccount:"",bid:{},dialogVisible:!1,innerVisible:!1,innerVisible2:!1,loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{},jsonAllPORCuser:{},jsonPORCuser:{},tablePORCuser:[],invitatedBidAccounts:[]}},created:function(){this.initData()},methods:{unitDetail:function(t){this.invitatedBidAccounts=[],this.invitatedBidAccounts=t.invitatedBidAccounts},biduserDetail:function(t,e){var a=this;"puser"===e?this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfPuser").then(function(e){a.jsonAllPORCuser=e.data,a.$http.post(a.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:a.$cookie.get("user"),table:"pusers",otherName:"puserHeade"}).then(function(t){a.jsonPORCuser={};for(var e in t.data)a.jsonPORCuser[e]={key:e,title:t.data[e]}}).catch(function(t){console.log(t)}),a.$http.post(a.$domain.domain1+"electric-design/getPuserByAccount",{account:t}).then(function(t){if(a.tablePORCuser=[],0!==t.data){var e={};for(var s in a.jsonAllPORCuser)Array.isArray(t.data[s])&&"processRequirements"!==s?e[s]=t.data[s].concat().join(","):e[s]=t.data[s];a.tablePORCuser[0]=e}}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}):this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfCuser").then(function(e){a.jsonAllPORCuser=e.data,a.$http.post(a.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:a.$cookie.get("user"),table:"cusers",otherName:"cuserHeade"}).then(function(t){a.jsonPORCuser={};for(var e in t.data)a.jsonPORCuser[e]={key:e,title:t.data[e]}}).catch(function(t){console.log(t)}),a.$http.post(a.$domain.domain1+"electric-design/getCuserByAccount",{account:t}).then(function(t){if(a.tablePORCuser=[],0!==t.data){var e={};for(var s in a.jsonAllPORCuser)Array.isArray(t.data[s])&&"processRequirements"!==s?e[s]=t.data[s].concat().join(","):e[s]=t.data[s];a.tablePORCuser[0]=e}}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},skip:function(t){var e=this;this.$router.push("/chat/contact"),this.$nextTick(function(){e.$one.$emit("skipChat",t)})},initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["投标中"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[];var a=e.data.filter(function(e){return e.sourceAccount===t.$cookie.get("user")});0!==a&&a.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.bid.isAcceptJointBid=t.isAcceptJointBid,this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"biders",keys:["belongToProjectCode"],values:[t.code]}).then(function(t){console.log(t.data),e.bid.personalBidAccounts=[],e.bid.tenderCompanyBidAccounts=[],e.bid.jointReleaseAccounts=[],t.data.forEach(function(t,a){"cancel"===t.bidState||("unit"===t.bidType?e.bid.jointReleaseAccounts.push(t):"puser"===t.sourceUserType?e.bid.personalBidAccounts.push(t):e.bid.tenderCompanyBidAccounts.push(t))})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目投标中信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},confirmBid:function(t){var e=this;this.$confirm("您确定让"+t.sourceUserName+"中标吗","确定后无法修改",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(e.$domain.domain1+"electric-design/selectBidUser",{belongToProjectCode:e.code,sourceUserId:t.sourceUserId,bidType:t.bidType}).then(function(a){a.data.result?(e.$message({type:"success",message:t.sourceUserName+"已经中标"}),e.dialogVisible=!1,e.$router.go(0)):e.$message({type:"warning",message:"操作失败，原因"+a.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)}}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]):t._e(),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("查看投标信息")]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"投标人信息",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-dialog",{attrs:{width:"60%",title:"个人用户表头编辑",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("PchangeTable"),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning"},on:{click:function(e){t.innerVisible=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-dialog",{attrs:{width:"60%",title:"企业用户表头编辑",visible:t.innerVisible2,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible2=e}}},[a("CchangeTable"),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning"},on:{click:function(e){t.innerVisible2=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"个体投标"}},[a("el-table",{attrs:{data:t.bid.personalBidAccounts,border:""}},[a("el-table-column",{attrs:{label:"投标人账号",prop:"sourceUserId","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标人姓名",prop:"sourceUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标限价",prop:"bidfjxx.price","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"工期",prop:"bidfjxx.time","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"业绩",prop:"bidfjxx.performance","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"资质",prop:"bidfjxx.aptitude","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"30%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"30%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.sourceUserId,name:e.row.sourceName})}}},[t._v("和他聊天")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.biduserDetail(e.row.sourceUserId,e.row.srcUserType)}}},[t._v("详细信息")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"企业投标"}},[a("el-table",{attrs:{data:t.bid.tenderCompanyBidAccounts,border:""}},[a("el-table-column",{attrs:{label:"投标企业账号",prop:"sourceUserId","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标企业名称",prop:"sourceUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标限价",prop:"bidfjxx.price","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"工期",prop:"bidfjxx.time","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"业绩",prop:"bidfjxx.performance","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"资质",prop:"bidfjxx.aptitude","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"30%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选取中标者","min-width":"30%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.sourceUserId,name:e.row.sourceName})}}},[t._v("和他聊天")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.biduserDetail(e.row.sourceUserId,e.row.srcUserType)}}},[t._v("详细信息")])]}}])})],1)],1),t._v(" "),"true"===t.bid.isAcceptJointBid?a("el-tab-pane",{attrs:{label:"联合体投标"}},[a("el-table",{attrs:{data:t.bid.jointReleaseAccounts,border:""}},[a("el-table-column",{attrs:{label:"联合投标账号",prop:"sourceUserId","min-width":"20%"}}),t._v(" "),a("el-table-column",{attrs:{label:"联合投标姓名",prop:"sourceUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标限价",prop:"bidfjxx.price","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"工期",prop:"bidfjxx.time","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"业绩",prop:"bidfjxx.performance","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"资质",prop:"bidfjxx.aptitude","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选取中标者","min-width":"25%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.sourceUserId,name:e.row.sourceName})}}},[t._v("和他聊天")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.unitDetail(e.row)}}},[t._v("联合体成员")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"border-top":"1px solid black","max-height":"300px","overflow-y":"scroll"}},[a("div",{staticStyle:{"font-size":"1.5rem","font-weight":"500"}},[t._v("联合体成员")]),t._v(" "),a("el-table",{attrs:{data:t.invitatedBidAccounts}},[a("el-table-column",{attrs:{prop:"userId",label:"成员账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"成员姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job",label:"担当角色"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"成员类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){t.biduserDetail(e.row.userId,e.row.userType)}}},[t._v("详细信息")])]}}])})],1)],1)],1):t._e()],1),t._v(" "),a("div",{staticStyle:{"border-top":"1px solid black"}},[a("div",{staticStyle:{"font-size":"1.5rem","font-weight":"500"}},[t._v("所选用户详情")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.innerVisible=!0}}},[t._v("个人用户展示项设置")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.innerVisible2=!0}}},[t._v("企业用户展示项设置")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tablePORCuser}},[t._l(t.jsonPORCuser,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.account,name:e.row.name})}}},[t._v("和他聊天")])]}}])})],2)],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|招标中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Ae={data:function(){return{radio:[],sourceAccount:"",bid:{},dialogVisible:!1,loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{skip:function(t){var e=this;this.$router.push("/chat/contact"),this.$nextTick(function(){e.$one.$emit("skipChat",t)})},initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["投标中"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[];var a=e.data.filter(function(e){return e.sourceAccount!==t.$cookie.get("user")});0!==a&&a.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.bid.jointReleaseAccount=t.jointReleaseAccount,this.bid.isAcceptJointBid=t.isAcceptJointBid,this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"biders",keys:["belongToProjectCode"],values:[t.code]}).then(function(t){console.log(t.data),e.bid.personalBidAccounts=[],e.bid.tenderCompanyBidAccounts=[],e.bid.jointReleaseAccounts=[]}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目投标中信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},confirmBid:function(t){var e=this;this.$confirm("您确定让"+t.srcUserName+"中标吗","确定后无法修改",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(e.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:e.code,data:{state:"洽谈中",toAccounts:Array.isArray(t.name)?t.name:[t.srcUserAccount]}}).then(function(a){a.data.result?(e.$message({type:"success",message:t.srcUserName+"已经中标"}),e.dialogVisible=!1,e.$router.go(0)):e.$message({type:"warning",message:"操作失败，原因"+a.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)},cancel:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/changeBidUser",{belongToProjectCode:t.code,sourceUserId:this.$cookie.get("user"),data:{bidState:"cancel"}}).then(function(t){console.log(t.data),t.data.result?(e.$message({type:"success",message:"撤标成功"}),e.initData()):e.$message({type:"warning",message:"您不是该项目投标发起人，无权进行此操作"})}).catch(function(t){console.log(t)})}}},Pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]):t._e(),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("查看投标信息")]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"投标人信息",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"个体投标"}},[a("el-table",{attrs:{data:t.bid.personalBidAccounts,border:""}},[a("el-table-column",{attrs:{label:"投标人账号",prop:"srcUserAccount","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标人姓名",prop:"srcUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标描述",prop:"bidInstruction","min-width":"30%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选取中标者","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"企业投标"}},[a("el-table",{attrs:{data:t.bid.tenderCompanyBidAccounts,border:""}},[a("el-table-column",{attrs:{label:"投标企业账号",prop:"srcUserAccount","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标企业名称",prop:"srcUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标描述",prop:"bidInstruction","min-width":"30%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选取中标者","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")])]}}])})],1)],1),t._v(" "),"true"===t.bid.isAcceptJointBid?a("el-tab-pane",{attrs:{label:"联合体投标"}},[a("el-table",{attrs:{data:t.bid.jointReleaseAccounts,border:""}},[a("el-table-column",{attrs:{label:"联合体成员账号",prop:"srcUserAccount","min-width":"20%"}}),t._v(" "),a("el-table-column",{attrs:{label:"联合投标账号",prop:"srcUser","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"联合投标姓名",prop:"srcUserName","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标描述",prop:"bidInstruction","min-width":"30%"}}),t._v(" "),a("el-table-column",{attrs:{label:"投标附件","min-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.upDatas,function(e,s){return a("span",{key:s},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击下载",placement:"top-start"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.download(e.urlPath)}}},[t._v("  \n                    "+t._s(e.dataName)+"\n                  ")])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选取中标者","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.confirmBid(e.row)}}},[t._v("选我")])]}}])})],1)],1):t._e()],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|投标中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.cancel(e.row)}}},[t._v("撤标")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.sourceAccount,name:e.row.sourceName})}}},[t._v("和招标人聊天")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Fe={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",toAccounts:[],name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["洽谈中"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.toAccounts=t.toAccounts?t.toAccounts.split(","):[],this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目洽谈中信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},bad:function(){var t=this;this.$confirm("您确定让此项目重新回到投标状态吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"我再考虑考虑",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/bidFaild",{belongToProjectCode:t.code}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"洽谈失败，已经回到投标状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},good:function(){var t=this;this.$confirm("您确定洽谈成功吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"手滑了",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:t.code,data:{state:"投标洽谈"}}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"洽谈成功，已经进入投标洽谈状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticStyle:{color:"#409EFF","font-size":"1.5rem"},attrs:{span:24}},[t._v("中标者:"+t._s(t.toAccounts.join(",")))]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.bad()}}},[t._v("我拒绝，重新投标")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.good()}}},[t._v("聊得不错,投标洽谈")])],1):t._e()],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|洽谈中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Ue={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",toAccounts:[],name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["投标洽谈"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.json)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.toAccounts=t.toAccounts?t.toAccounts.split(","):[],this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目投标洽谈信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},bad:function(){var t=this;this.$confirm("您确定让此项目重新回到投标状态吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"我再考虑考虑",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/bidFaild",{belongToProjectCode:t.code}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"已经回到投标状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},good:function(){var t=this;this.$confirm("您确定要签订合同吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"手滑了",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:t.code,data:{state:"合同执行中"}}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"操作成功，已经进入合同执行中状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticStyle:{color:"#409EFF","font-size":"1.5rem"},attrs:{span:24}},[t._v("中标者:"+t._s(t.toAccounts.join(",")))]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.bad()}}},[t._v("我改变主意了")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.good()}}},[t._v("签订合同")])],1):t._e()],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|投标洽谈")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Ie={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",toAccounts:[],name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["合同执行中"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.toAccounts=t.toAccounts?t.toAccounts.split(","):[],this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目合同执行中信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},bad:function(){var t=this;this.$confirm("您确定让此项目重新回到投标状态吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"我再考虑考虑",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/bidFaild",{belongToProjectCode:t.code}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"已经回到投标状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},good:function(){var t=this;this.$confirm("您确定合同终止了吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"手滑了",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:t.code,data:{state:"合同终止"}}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"操作成功，已经进入合同终止状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticStyle:{color:"#409EFF","font-size":"1.5rem"},attrs:{span:24}},[t._v("中标者:"+t._s(t.toAccounts.join(",")))]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.code)}}},[t._v("我要修改项目信息")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.bad()}}},[t._v("我要毁约")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.good()}}},[t._v("合同顺利终止")])],1):t._e()],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|合同执行中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){t.$router.push("/per-project/"+e.row.code+"/pandect")}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Ee={data:function(){return{dialogVisibleCredit:!1,sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",toAccounts:[],name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{},credit:[],processRequirementsName:[],ppp:[],max:100}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{state:{searchMethod:"values",values:["合同终止"]},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany||"",this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.toAccounts=t.toAccounts?t.toAccounts.split(","):[],this.processRequirementsName=[];var a=Array.isArray(t.processRequirements)?t.processRequirements:[];this.processRequirementsName=[],a.forEach(function(t,a){e.processRequirementsName.push(t.state)}),this.ppp=this.toAccounts.concat(this.sourceAccount),this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目终止信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},bad:function(){var t=this;this.$confirm("您确定让此项目重新回到投标状态吗","确定后无法修改",{confirmButtonText:"不用想了，就这样",cancelButtonText:"我再考虑考虑",type:"warning"}).then(function(){t.$http.post(t.$domain.domain1+"electric-design/bidFaild",{belongToProjectCode:t.code}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"已经回到投标状态"}),t.dialogVisible=!1,t.$router.go(0)):t.$message({type:"warning",message:"操作失败，原因"+e.data.reason})}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},myCredit:function(){var t=this;this.dialogVisibleCredit=!0,this.$http.post(this.$domain.domain1+"electric-design/getcreditByMultiConditions",{conditions:{sourceUserId:{searchMethod:"values",values:[this.$cookie.get("user")]},belongToProjectCode:{searchMethod:"values",values:[this.code]}}}).then(function(e){console.log(e.data),t.credit=e.data}).catch(function(t){console.log(t)})},add:function(){this.credit.push({belongToProcess:"",belongToUserId:"",score:5,comment:"",anonymous:"yes"})},confirmCredit:function(t){var e=this;t.code?this.$http.post(this.$domain.domain1+"electric-design/changeCreditByCode",{code:t.code,data:{belongToProjectCode:this.code,sourceUserId:this.$cookie.get("user"),belongToUserId:t.belongToUserId,belongToProcess:t.belongToProcess,score:t.score,comment:t.comment,anonymous:t.anonymous}}).then(function(t){console.log(t.data),t.data.result?e.$message({type:"success",message:"评论成功"}):e.$message({type:"warning",message:"失败原因"+t.data.reason})}).catch(function(t){console.log(t)}):this.$http.post(this.$domain.domain1+"electric-design/addCredit",{belongToProjectCode:this.code,sourceUserId:this.$cookie.get("user"),belongToUserId:t.belongToUserId,belongToProcess:t.belongToProcess,score:t.score,comment:t.comment,anonymous:t.anonymous}).then(function(t){console.log(t.data),t.data.result?e.$message({type:"success",message:"评论成功"}):e.$message({type:"warning",message:"失败原因"+t.data.reason})}).catch(function(t){console.log(t)})}}},Re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{staticStyle:{color:"#409EFF","font-size":"1.5rem"},attrs:{span:24}},[t._v("中标者:"+t._s(t.toAccounts.join(",")))]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.bad()}}},[t._v("重新回到投标状态")])],1):t._e(),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.myCredit()}}},[t._v("评价")]),t._v(" "),a("el-dialog",{attrs:{title:"评价",visible:t.dialogVisibleCredit,width:"80%"},on:{"update:visible":function(e){t.dialogVisibleCredit=e}}},[a("el-table",{attrs:{data:t.credit,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"阶段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.belongToProcess,callback:function(a){t.$set(e.row,"belongToProcess",a)},expression:"scope.row.belongToProcess"}},t._l(t.processRequirementsName,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.belongToUserId,callback:function(a){t.$set(e.row,"belongToUserId",a)},expression:"scope.row.belongToUserId"}},t._l(t.ppp,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-rate",{attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],"show-score":""},model:{value:e.row.score,callback:function(a){t.$set(e.row,"score",a)},expression:"scope.row.score"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"评论"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.comment,callback:function(a){t.$set(e.row,"comment",a)},expression:"scope.row.comment"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否匿名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"匿名","inactive-text":"不匿名","active-value":"yes","inactive-value":"no"},model:{value:e.row.anonymous,callback:function(a){t.$set(e.row,"anonymous",a)},expression:"scope.row.anonymous"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.confirmCredit(e.row)}}},[t._v("确定")])]}}])})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.add()}}},[t._v("添加一行")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisibleCredit=!1}}},[t._v("关闭")])],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|合同终止")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Ve={data:function(){return{sourceAccount:"",loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",toAccounts:[],name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",info:"",json:{},jsonAll:{}}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.tableData=[],this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={conditions:{aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}};t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",a).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.sourceAccount=t.sourceAccount,this.toAccounts=t.toAccounts?t.toAccounts.split(","):[],this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.sourceAccount,key:"account"}).then(function(t){console.log(t.data),e.info="姓名:"+t.data[0].name+"<br>账号:"+t.data[0].account+"<br>邮箱:"+t.data[0].email,e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"项目汇总信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t}}},qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("设计院")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:12,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布人信息")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.info)}})])],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|项目汇总")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"code",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var Le={components:{Infor0:a("VU/8")(ke,xe,!1,function(t){a("7u3w")},"data-v-26e9f4b4",null).exports,Infor:a("VU/8")(Se,je,!1,function(t){a("4Md/")},"data-v-310fcec6",null).exports,Infor2:a("VU/8")(Te,De,!1,function(t){a("YGCV")},"data-v-162f5da0",null).exports,Infor2B:a("VU/8")(Ae,Pe,!1,function(t){a("6BNB")},"data-v-273ff9a1",null).exports,Infor3:a("VU/8")(Fe,ze,!1,function(t){a("/XC8")},"data-v-c2187f5e",null).exports,Infor4:a("VU/8")(Ue,Ne,!1,function(t){a("0jn1")},"data-v-04ca929d",null).exports,Infor5:a("VU/8")(Ie,Me,!1,function(t){a("JxYb")},"data-v-222f7195",null).exports,Infor6:a("VU/8")(Ee,Re,!1,function(t){a("DtEu")},"data-v-a240e3b0",null).exports,InforAll:a("VU/8")(Ve,qe,!1,function(t){a("mx0H")},"data-v-cf3543ce",null).exports},data:function(){return{value:""}},mounted:function(){this.value=this.$route.params.value,this.initData()},methods:{initData:function(){this.$refs.InforAll.initData(),this.$refs.Infor0.initData(),this.$refs.Infor1.initData(),this.$refs.Infor2.initData(),this.$refs.Infor2B.initData(),this.$refs.Infor3.initData(),this.$refs.Infor4.initData(),this.$refs.Infor5.initData(),this.$refs.Infor6.initData()}}},Oe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"PM-sumary"},[this._m(0),this._v(" "),e("div",{staticClass:"clearfix"}),this._v(" "),e("el-tabs",{staticClass:"PM-tab",attrs:{type:"border-card",value:this.value}},[e("el-tab-pane",{attrs:{label:"项目汇总",name:"all"}},[e("InforAll",{ref:"InforAll"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"临时态",name:"0"}},[e("Infor0",{ref:"Infor0"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"发布中",name:"1"}},[e("Infor",{ref:"Infor1"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"招标中",name:"2"}},[e("Infor2",{ref:"Infor2"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"投标中",name:"2B"}},[e("Infor2B",{ref:"Infor2B"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"洽谈中",name:"3"}},[e("Infor3",{ref:"Infor3"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"投标洽谈",name:"4"}},[e("Infor4",{ref:"Infor4"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"合同执行中",name:"5"}},[e("Infor5",{ref:"Infor5"})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"合同终止",name:"6"}},[e("Infor6",{ref:"Infor6"})],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("项目信息"),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])])}]};var Be=a("VU/8")(Le,Oe,!1,function(t){a("X5Oa")},"data-v-26b2ef00",null).exports,Je={data:function(){return{loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],code:"",ucode:"",show:!1,name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",json:{},jsonAll:{},inviation:{}}},created:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)}),t.$http.post(t.$domain.domain1+"electric-design/getunionInviteProjects",{userId:t.$cookie.get("user")}).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.$set(s,"ucode",e.ucode),t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},methods:{detail:function(t){var e=this;console.log(t),this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.ucode=t.ucode,this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.initiator,key:"account"}).then(function(t){e.loadingDetail=!1}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"unionapply",keys:["code"],values:[this.ucode]}).then(function(t){e.inviation=t.data[0]}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"联合体收到请求信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},accept:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/agreeToUnion",{code:this.ucode}).then(function(e){e.data.result?t.$message({type:"success",message:"成功接收邀请"}):t.$message({type:"warning",message:"失败原因:"+e.data.reason})}).catch(function(t){console.log(t)})},refuse:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateUnionApply",{code:this.ucode,ustate:"refused"}).then(function(e){e.data.result?t.$message({type:"success",message:"成功拒绝邀请"}):t.$message({type:"warning",message:"失败原因:"+e.data.reason})}).catch(function(t){console.log(t)})},ignore:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateUnionApply",{code:this.ucode,ustate:"ignored"}).then(function(e){e.data.result?t.$message({type:"success",message:"成功忽略邀请"}):t.$message({type:"warning",message:"失败原因:"+e.data.reason})}).catch(function(t){console.log(t)})}}},Ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("设计院")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:14,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:0}},[a("p",{staticClass:"font1",staticStyle:{"text-align":"left",color:"#409EFF"}},[a("span",[t._v("联合体发起人账号:"+t._s(t.inviation.unionUserId))])]),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left",color:"#409EFF"}},[a("span",[t._v("联合体发起人名字:"+t._s(t.inviation.unionUserName))])]),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left",color:"#409EFF"}},[a("span",[t._v("我承担的角色:"+t._s(t.inviation.job))])])])],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"5rem"},attrs:{type:"warning"},on:{click:function(e){t.ignore()}}},[t._v("忽略")]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"5rem"},attrs:{type:"danger"},on:{click:function(e){t.refuse()}}},[t._v("残忍拒绝")]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"5rem"},attrs:{type:"success"},on:{click:function(e){t.accept()}}},[t._v("果断加入")])],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|收到请求")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"number",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var We=a("VU/8")(Je,Ke,!1,function(t){a("iyNx")},"data-v-6b351087",null).exports,Ye=a("Zy8N"),He=a("uBCB"),Ge=a("LnGT"),Qe=a("ww3g"),Ze={components:{top:top,search:Ye.a,classify:He.a,tag:Ge.a,mycontent:Qe.a},data:function(){return{roles:["主持人","制图者","校核人","审核人","项目经理","平台分析设计师","工程代理"],inviation:[],dialogVisible:!1,loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,code:"",name:"",tenderCompany:"",address:"?",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",json:{},jsonAll:{},rows:{}}},created:function(){this.initData()},methods:{test:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(a){e.jsonAll=a.data,e.$http.post(e.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:e.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(t){e.json={};for(var a in t.data)e.json[a]={key:a,title:t.data[a]}}).catch(function(t){console.log(t)}),e.$http.post(e.$domain.domain1+"electric-design/getAllUnioProjectsByAccount",{userId:e.$cookie.get("user")}).then(function(a){e.tableData=[],0!==a.data&&(a.data.forEach(function(t,a){var s={};for(var n in e.jsonAll)Array.isArray(t[n])&&"processRequirements"!==n?s[n]=t[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==t[n]?(t[n].year=t[n].year||0,t[n].month=t[n].month||0,t[n].date=t[n].date||0,s[n]=[].concat(t[n].year+1900,t[n].month+1,t[n].date).join("/")):s[n]=t[n];e.tableData.push(s)}),e.tableData.forEach(function(a,s){console.log(a.code),a.code===parseInt(t)&&(e.rows=a,console.log("aaa")),e.detail(e.rows),e.dialogVisible=!0})),e.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)}),t.$http.post(t.$domain.domain1+"electric-design/getAllUnioProjectsByAccount",{userId:t.$cookie.get("user")}).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},detail:function(t){var e=this;this.show=!0,this.code=t.code,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.initiator,key:"account"}).then(function(t){e.loadingDetail=!1}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"unionapply",keys:["belongToProjectCode","unionUserId"],values:[this.code,this.$cookie.get("user")]}).then(function(t){e.inviation=t.data}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"联合体我的请求信息excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},confirm:function(t){var e=this;console.log(this.code),this.$http.post(this.$domain.domain1+"electric-design/applyToUnion",{belongToProjectCode:this.code,unionUserId:this.$cookie.get("user"),ohterUserId:t.ohterUserId,job:t.job}).then(function(a){a.data.result?(e.$message({type:"success",message:"邀请发送成功"}),e.inviation.forEach(function(e,a){e.belongToProjectCode===t.belongToProjectCode&&(e.ustate="waiting")}),console.log(e.inviation)):e.$message({type:"warning",message:"邀请失败,原因:"+a.data.reason})}).catch(function(t){console.log(t)})}}},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:14,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("点我邀请")]),t._v(" "),a("el-dialog",{attrs:{title:"添加邀请的人账号",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{"border-bottom":"2px solid #E6A23C",height:"300px",overflow:"scroll","overflow-x":"hidden"}},[a("search"),t._v(" "),a("classify"),t._v(" "),a("tag"),t._v(" "),a("mycontent")],1),t._v(" "),a("el-table",{staticStyle:{"border-top":"2px solid #F56C6C","max-height":"300px",overflow:"scroll","overflow-x":"hidden"},attrs:{data:t.inviation}},[a("el-table-column",{attrs:{label:"要邀请人的账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.ohterUserId,callback:function(a){t.$set(e.row,"ohterUserId",a)},expression:"scope.row.ohterUserId"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"赋予的角色"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.job,callback:function(a){t.$set(e.row,"job",a)},expression:"scope.row.job"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[""===e.row.ustate?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.confirm(e.row)}}},[t._v("邀请")]):t._e(),t._v(" "),"waiting"===e.row.ustate?a("el-button",{attrs:{disabled:"",type:"info"}},[t._v("等待中")]):t._e(),t._v(" "),"ignored"===e.row.ustate?a("el-button",{attrs:{disabled:"",type:"info"}},[t._v("等待中")]):t._e(),t._v(" "),"agreed"===e.row.ustate?a("el-button",{attrs:{disabled:"",type:"success"}},[t._v("已同意")]):t._e(),t._v(" "),"refused"===e.row.ustate?a("el-button",{attrs:{disabled:"",type:"danger"}},[t._v("已拒绝")]):t._e()]}}])})],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.inviation.push({ohterUserId:"",job:"",ustate:""})}}},[t._v("增加一行")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|我的请求")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"","default-sort":{prop:"number",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var ta={data:function(){return{loadingDetail:!0,loadingTable:!0,currentPage:1,pagesize:5,downloadLoading:!1,tableData:[],multipleSelection:[],show:!1,name:"",tenderCompany:"",address:"",startTime:"",bidType:"",price:"",state:"",type:"",category:"",voltage:"",major:"",infoed:[],json:{},jsonAll:{}}},created:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfProject").then(function(e){t.jsonAll=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"projects",otherName:"project"}).then(function(e){t.json={};for(var a in e.data)t.json[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)}),t.$http.post(t.$domain.domain1+"electric-design/getProjectAboutUser",{conditions:{isJointState:{searchMethod:"values",values:"true"},aboutUsers:{searchMethod:"values",values:[t.$cookie.get("user")]}}}).then(function(e){t.tableData=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAll)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):n.match(/(Time)$/)&&!n.match(/^(all)/)&&"暂无数据"!==e[n]?(e[n].year=e[n].year||0,e[n].month=e[n].month||0,e[n].date=e[n].date||0,s[n]=[].concat(e[n].year+1900,e[n].month+1,e[n].date).join("/")):s[n]=e[n];t.tableData.push(s)}),t.loadingTable=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},methods:{detail:function(t){var e=this;this.show=!0,this.name=t.name,this.tenderCompany=t.tenderCompany,this.address=t.address,this.startTime=t.startTime,this.price=t.lowestPrice+"-"+t.highestPrice,this.state=t.state,this.type=t.type,this.category=t.category,this.voltage=t.voltage,this.major=t.major,this.bidType=t.bidType,this.initiator=t.initiator,this.infoed=t.invitatedBidAccounts||[],this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:t.initiator,key:"account"}).then(function(t){console.log(t.data),e.loadingDetail=!1}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection,s=[];for(var n in this.json)s.push(this.json[n].title);var o=[];for(var i in this.json)o.push(this.json[i].key);0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var n=a("zWO4").export_json_to_excel,i=o,r=e;n(s,t.formatJson(i,r),"联合体投标中excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},accept:function(){this.$message({message:"恭喜你，接受成功",type:"success"})}}},ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.show?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}]},[a("div",{staticClass:"title"},[a("span",[t._v("|"+t._s(t.name))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show=!1}}},[t._v("返回")])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("招标公司")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-gongsi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.tenderCompany))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目地点")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-didian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.address))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("发布时间")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-riqi"}),a("span",{staticClass:"font2"},[t._v(t._s(t.startTime))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("项目个体性质")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-loufang"}),a("span",{staticClass:"font2"},[t._v(t._s(t.bidType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("限价")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-qian"}),a("span",{staticClass:"font2"},[t._v(t._s(t.price))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"font1"},[t._v("成果交付")]),a("br"),t._v(" "),a("i",{staticClass:"icon iconfont icon-zhuanhuan"}),a("span",{staticClass:"font2"},[t._v(t._s(t.state))])])],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"3rem"}},[a("el-col",{attrs:{span:14,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("其他信息")]),a("br"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类别:"+t._s(t.category))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("规模容量:"+t._s(t.voltage))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"font1",staticStyle:{float:"left",clear:"left"}},[t._v("专业要求:"+t._s(t.major))])])],1)],1),t._v(" "),a("el-col",{attrs:{span:4,offset:2}},[a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("发布者")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left",color:"#409EFF"}},[a("span",[t._v(t._s(t.initiator))])]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8rem",float:"left",clear:"left"}},[t._v("参与者")]),a("br"),t._v(" "),a("p",{staticClass:"font1",staticStyle:{"text-align":"left",color:"#409EFF"}},[a("span",[t._v(t._s(t.infoed))])])])],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"5rem"},attrs:{type:"success"},on:{click:function(e){t.accept()}}},[t._v("接受洽谈")])],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}]},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",background:"#F9F9F9",height:"4rem"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("|投标中")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","default-sort":{prop:"number",order:"descending"},"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.detail(e.row)}}},[t._v("查看详情")])]}}])})],2),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,2,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var aa={components:{Rinfor:We,infor:a("VU/8")(Ze,Xe,!1,function(t){a("Kskd")},"data-v-73ba9464",null).exports,inforing:a("VU/8")(ta,ea,!1,function(t){a("Qers")},"data-v-8ac2f178",null).exports},data:function(){return{value:""}},mounted:function(){this.value=this.$route.params.value,this.$one.$on("test",this.test)},methods:{test:function(t){this.$nextTick(function(){console.log(this.$refs.comboo2.$children[0]),this.$refs.comboo2.$children[0].test(t)})}}},sa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"PM-combo"},[this._m(0),this._v(" "),e("el-tabs",{staticClass:"PM-tab",attrs:{type:"border-card",value:this.value}},[e("el-tab-pane",{ref:"comboo",attrs:{label:"收到请求",name:"1"}},[e("Rinfor")],1),this._v(" "),e("el-tab-pane",{ref:"comboo2",attrs:{label:"我的请求",name:"2"}},[e("infor")],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("联合体")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var na=a("VU/8")(aa,sa,!1,function(t){a("fRJU")},"data-v-1233ae15",null).exports,oa=a("NJkM"),ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-time"},[a("div",{staticClass:"title"},[a("span",{staticStyle:{"font-size":"1.5rem"}},[t._v("时间统计")]),a("i",{staticClass:"icon iconfont icon-iconfontquestion"}),a("span",{staticClass:"date"},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月"+t._s(t.day)+"日")])]),t._v(" "),a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tab",staticStyle:{position:"relative"},attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"周"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月"+t._s(t.week)+"周")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastWeek()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextWeek()}}})])]),t._v(" "),a("ul",{staticClass:"time"},[a("li",[t._v("6:00")]),t._v(" "),a("li",[t._v("12:00")]),t._v(" "),a("li",[t._v("18:00")]),t._v(" "),a("li",[t._v("24:00")])]),t._v(" "),a("ul",{staticClass:"ul1"},[a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("六")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("日")])]),t._v(" "),a("ul",{staticClass:"ul1"},t._l(t.weekday,function(e,s){return a("li",{key:s},[a("div",{staticClass:"div1",on:{click:function(e){t.funn(e)}}},[t._v(t._s(e.dayOfMonth))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time1))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time2))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time3))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time4))])])}))]),t._v(" "),a("el-tab-pane",{attrs:{label:"月"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastMonth()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextMonth()}}})])]),t._v(" "),a("ul",{staticClass:"ul1"},[a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("六")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("日")])]),t._v(" "),a("ul",{staticClass:"ul1",attrs:{id:"func"}},t._l(t.monthday,function(e,s){return a("li",{key:s},[a("div",{staticClass:"div1",on:{click:function(e){t.funn(e)}}},[t._v(t._s(e.dayCode))]),t._v(" "),a("div",{staticClass:"div2"},[a("ul",{staticStyle:{"list-style-type":"none"}},t._l(e.content,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}))])])}))]),t._v(" "),a("el-tab-pane",{attrs:{label:"年"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastYear()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextYear()}}})])]),t._v(" "),a("ul",{staticClass:"ul-month"},t._l(t.yearday,function(e,s){return a("li",{key:s},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#da6363"}},[t._v(t._s(e.mon)+"月")]),t._v(" "),a("ul",{staticClass:"ul-day"},t._l(e.days,function(e,s){return a("li",{key:s,class:{qiatanLine:1===e.eventCode,kaigongLine:2===e.eventCode,jiezhiLine:3===e.eventCode}},[a("span",[t._v(t._s(e.dayCode))])])}))])})),t._v(" "),a("ul",{staticClass:"lines"},[a("li",{staticStyle:{color:"#69a1fe","font-size":".8rem"}},[t._v("——洽谈日期")]),t._v(" "),a("li",{staticStyle:{color:"#39c45d","font-size":".8rem"}},[t._v("——开工日期")]),t._v(" "),a("li",{staticStyle:{color:"#e75e3a","font-size":".8rem"}},[t._v("——截止日期")])])])],1)],1)},staticRenderFns:[]};var ra=function(t){a("LQtW")},la=a("VU/8")(oa.a,ia,!1,ra,"data-v-ed876af8",null).exports,ca={data:function(){return{tabLoading:!0,downloadLoading:!1,multipleSelection:[],currentPage:1,pagesize:5,projectList:[]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this,e={conditions:{aboutUsers:{searchMethod:"values",values:[this.$cookie.get("user")]}}};this.$http.post(this.$domain.domain1+"electric-design/getProjectAboutUser",e).then(function(e){t.projectList=[],e.data.forEach(function(e,a){t.$http.post(t.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[e.code]},eventType:{searchMethod:"values",values:["chats","chat"]}}}).then(function(a){console.log(a.data);var s=[];a.data.forEach(function(t,e){t.dataFiles.forEach(function(e,a){s.push({time:e.uptime,fileName:e.fileName,fileType:e.fileType,filePath:e.filePath,remark:t.body,source:t.sourceUserName})})}),t.projectList.push({name:e.name,code:e.code,value:s}),t.tabLoading=!1}).catch(function(t){console.log(t)})})}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection;0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var s=a("zWO4").export_json_to_excel,n=e;s(["时间","文件类型","文件名称","备注","上传者"],t.formatJson(["time","fileType","fileName","remark","source"],n),"洽谈表"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)}}},ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-discuss"},[t._m(0),t._v(" "),a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.tabLoading,expression:"tabLoading"}],attrs:{type:"border-card"}},t._l(t.projectList,function(e,s){return a("el-tab-pane",{key:s,attrs:{label:e.name}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",height:"4rem","margin-left":"auto","margin-right":"auto",background:"#F9F9F9"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(e.name)+"洽谈表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",refInFor:!0,attrs:{data:e.value.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"文件分类",prop:"fileType"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n            "+t._s(e.row.fileType)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"文件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n              "+t._s(e.row.fileName)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传者",prop:"source"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.value.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)}))],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("洽谈统计")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var da=a("VU/8")(ca,ua,!1,function(t){a("Zyuz")},"data-v-abb52e7e",null).exports,ma={data:function(){return{tabLoading:!0,downloadLoading:!1,multipleSelection:[],currentPage:1,pagesize:5,projectList:[]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this,e={conditions:{aboutUsers:{searchMethod:"values",values:[this.$cookie.get("user")]}}};this.$http.post(this.$domain.domain1+"electric-design/getProjectAboutUser",e).then(function(e){t.projectList=[],e.data.forEach(function(e,a){t.$http.post(t.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[e.code]},eventType:{searchMethod:"values",values:["provide","request","chat"]}}}).then(function(a){console.log(a.data);var s=[];a.data.forEach(function(t,e){t.dataFiles.forEach(function(e,a){s.push({time:e.uptime,fileName:e.fileName,fileType:e.fileType,filePath:e.filePath,remark:t.body,source:t.sourceUserName})})}),t.projectList.push({name:e.name,code:e.code,value:s}),t.tabLoading=!1}).catch(function(t){console.log(t)})})}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection;0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var s=a("zWO4").export_json_to_excel,n=e;s(["时间","文件类型","文件名称","备注","上传者"],t.formatJson(["time","fileType","fileName","remark","source"],n),"洽谈表"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)}}},pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-discuss"},[t._m(0),t._v(" "),a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.tabLoading,expression:"tabLoading"}],attrs:{type:"border-card"}},t._l(t.projectList,function(e,s){return a("el-tab-pane",{key:s,attrs:{label:e.name}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",height:"4rem","margin-left":"auto","margin-right":"auto",background:"#F9F9F9"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(e.name)+"洽谈表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",refInFor:!0,attrs:{data:e.value.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"文件分类",prop:"fileType"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n            "+t._s(e.row.fileType)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"文件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n              "+t._s(e.row.fileName)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传者",prop:"source"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.value.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)}))],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("提资统计")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var ha=a("VU/8")(ma,pa,!1,function(t){a("mqYZ")},"data-v-010e529e",null).exports,fa={store:E.a,data:function(){return{changePNamePer:"no",divideRolePer:"no",name:"",states:["发布中","投标中","洽谈中","投标洽谈","合同执行中","合同终止"],sourceAccount:"",changedName:"",changedState:"",changedProcess:"",changedIsAcceptJointBid:"",changedIsJointState:"",code:"",state:"",voltagelevel:"",type:"",category:"",major:"",processRequirements:[],processRequirementsName:[],designProcess:""}},computed:St()({},Object(bt.c)(["id"])),mounted:function(){this.initData(),this.initPremiss()},watch:{id:function(){this.initData()}},methods:{initPremiss:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getPermessionsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]}}}).then(function(e){console.log(e.data),e.data.forEach(function(e,a){e.belongToUserId===t.$cookie.get("user")&&("yes"===e.perContent.changePName&&(t.changePNamePer="yes"),"yes"===e.perContent.divideRole&&(t.divideRolePer="yes"))})}).catch(function(t){console.log(t)})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){t.name=e.data.name,t.sourceAccount=e.data.sourceAccount,t.changedName=e.data.changeName,t.code=e.data.code,t.state=e.data.state,t.changedState=e.data.state,t.voltagelevel=e.data.voltagelevel,t.type=e.data.type.join(","),t.category=e.data.category,t.major=e.data.major.join(","),t.processRequirements=e.data.processRequirements,t.designProcess=e.data.designProcess,t.changedProcess=e.data.designProcess,t.changedIsAcceptJointBid=e.data.isAcceptJointBid,t.changedIsJointState=e.data.isJointState,t.processRequirementsName=[],e.data.processRequirements.forEach(function(e,a){t.processRequirementsName.push(e.state)})}).catch(function(t){console.log(t)})},changeName:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:{changeName:this.changedName}}).then(function(e){e.data.result?(t.$message({type:"success",message:"名称已经改变"}),t.initData()):t.$message({type:"warning",message:"修改失败"})}).catch(function(t){console.log(t)})},changeState:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:{state:this.changedState}}).then(function(e){e.data.result?(t.$message({type:"success",message:"状态已经改变"}),t.initData()):t.$message({type:"warning",message:"修改失败"})}).catch(function(t){console.log(t)})},changeProcess:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:{designProcess:this.changedProcess}}).then(function(e){e.data.result?(t.$message({type:"success",message:"阶段已经改变"}),t.initData()):t.$message({type:"warning",message:"修改失败"})}).catch(function(t){console.log(t)})},changeIsAcceptJointBid:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:{isAcceptJointBid:this.changedIsAcceptJointBid}}).then(function(e){e.data.result?(t.$message({type:"success",message:"操作成功"}),t.initData()):t.$message({type:"warning",message:"修改失败"})}).catch(function(t){console.log(t)})},changeIsJointState:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:{isJointState:this.changedIsJointState}}).then(function(e){e.data.result?(t.$message({type:"success",message:"操作成功"}),t.initData()):t.$message({type:"warning",message:"修改失败"})}).catch(function(t){console.log(t)})}}},va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pandect"},[t._m(0),t._v(" "),a("div",{staticClass:"content",staticStyle:{overflow:"hidden",height:"auto"}},[a("el-col",{attrs:{span:8}},[a("p",{staticStyle:{"text-align":"left",color:"#409EFF","font-size":"1.5rem"}},[t._v("|"+t._s(t.name))])]),t._v(" "),a("el-col",["yes"===t.changePNamePer?a("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center","flex-wrap":"wrap"}},[a("div",{staticClass:"permiss"},[a("span",{staticStyle:{"font-size":"1.5rem"}},[t._v("名称变更")]),a("el-input",{staticStyle:{width:"50%"},model:{value:t.changedName,callback:function(e){t.changedName=e},expression:"changedName"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.changeName()}}},[t._v("保存")])],1),t._v(" "),a("div",{staticClass:"permiss"},[a("span",{staticStyle:{"font-size":"1.5rem"}},[t._v("阶段变更")]),a("el-select",{staticStyle:{width:"50%"},model:{value:t.changedProcess,callback:function(e){t.changedProcess=e},expression:"changedProcess"}},t._l(t.processRequirementsName,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.changeProcess()}}},[t._v("保存")])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.$router.push("/per-project/"+t.id+"/alter")}}},[t._v("修改更多项目信息")]):t._e()],1):t._e()]),t._v(" "),a("el-col",[a("div",{staticClass:"pandect-div"},[a("span",[t._v("编号:"+t._s(t.code))]),a("span",[t._v("电压等级:"+t._s(t.voltagelevel))])]),t._v(" "),a("div",{staticClass:"pandect-div"},[a("span",[t._v("类别:"+t._s(t.category))]),a("span",[t._v("专业:"+t._s(t.major))])]),t._v(" "),a("div",{staticClass:"pandect-div"},[a("span",[t._v("状态:"+t._s(t.state))]),a("span",[t._v("类型:"+t._s(t.type))])])])],1),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticStyle:{"text-align":"left",color:"#409EFF","font-size":"1.5rem"}},[t._v("|项目进展")]),t._v(" "),a("el-steps",{staticStyle:{"margin-left":"-4rem",width:"100%"},attrs:{active:t.processRequirementsName.indexOf(t.designProcess),"process-status":"finish","finish-status":"success","align-center":""}},t._l(t.processRequirements,function(t,e){return a("el-step",{key:e,attrs:{title:t.state}})}))],1),t._v(" "),a("div",{staticClass:"content"},[a("p",{staticStyle:{"text-align":"left",color:"#409EFF","font-size":"1.5rem"}},[t._v("|成果交付情况")]),t._v(" "),a("el-table",{attrs:{data:t.processRequirements}},[a("el-table-column",{attrs:{prop:"state",label:"设计阶段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"交付时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requireResult",label:"成果要求"}})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("总览")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var ga=a("VU/8")(fa,va,!1,function(t){a("7Ycg")},"data-v-536e13f1",null).exports,_a={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{help1:this.$domain.domain1+"electric-design/public/templets/taskbasemsg.html",help2:this.$domain.domain1+"electric-design/public/templets/projectrequriment.html",help3:this.$domain.domain1+"electric-design/public/templets/payabout.html",help4:this.$domain.domain1+"electric-design/public/templets/resultrequriment.html",changePNamePer:"no",divideRolePer:"no",disabled:!1,radio:"2",form:{dataOrProject:"",company:"某某公司",name:"项目",state:"",sizeAndCapacitys:"",categorys:"",unit:"",type:[],voltagelevel1:"",voltagelevel2:100,voltagelevel3:"",place:"",major:[],designState:[],startTime:"",endTime:"",character:"",performanceReq1:"",performanceReq2:"",lowPrice:"暂无",highPrice:"暂无",priceType:"",aptitude:"",paymentMethods:"",paymentScale:"",isAcceptJointBid:"true",instruction:"",requirement:"",payDiscible:"",projectNowState:"",hasInvoice:"no",stateUnits:[{state:"未填",startTime:"未填",endTime:"未填",requireResult:"未填"}]},projectCharacteristics:{difficulty:"",price:""},unit:["MW","Kva","KV","M^2"],existingData:{detail:""},states:[{value:"发布中",label:"发布完不立即招标"},{value:"投标中",label:"发布完直接招标"}],major:["计算机","电力","岩土","绘测"],designState:["前期","项目建议书","可行性研究报告","招投标","初步设计","施工图设计","竣工图编制"],sizeAndCapacitys:["MW","KW","kVA"],categorys:["火电","水电","风电","光伏","核电","储能"],type:["发电厂","输电","变电","供配电","建筑"],voltagelevel:["KV","V"],voltagetype:["直流","交流"],character:["个人","公司"],performanceReq:["同类型同规模","同类型"],priceType:["最低","最高"],aptitude:["高资质","低资质"],paymentMethods:["一次性付款","分阶段付款"],paymentScale:["1:1","2:1","3:1"],projectNowStates:["未开始","项目建议书","可研已定","初设已定","施工图已定","竣工图已定"]}},methods:{initPremiss:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getPermessionsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]}}}).then(function(e){console.log(e.data),e.data.forEach(function(e,a){e.belongToUserId===t.$cookie.get("user")&&("yes"===e.perContent.changePName&&(t.changePNamePer="yes"),"yes"===e.perContent.divideRole&&(t.divideRolePer="yes"))})}).catch(function(t){console.log(t)})},addStateUnits:function(){this.form.stateUnits.push({state:"未填",endTime:"未填",requireResult:"未填"})},myDelete:function(t){this.form.stateUnits=this.form.stateUnits.filter(function(e){return e.state!==t.state})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){console.log(e.data),t.form.company=e.data.tenderCompany,t.form.dataOrProject=e.data.dataOrProject,t.form.name=e.data.changeName,t.form.categorys=Array.isArray(e.data.category)?e.data.category[0]:e.data.category,t.form.sizeAndCapacitys=e.data.sizeCapacityNumber,t.form.unit=e.data.sizeAndCapacity,t.form.character=e.data.bidType,t.form.type=e.data.type,t.form.voltagelevel1=e.data.voltagelevel.split("/")[0],t.form.voltagelevel2=e.data.voltagelevel.split("/")[1],t.form.voltagelevel3=e.data.voltagelevel.split("/")[2],t.form.major=e.data.major,t.form.place=e.data.address,t.form.performanceReq1=e.data.performanceRequirements.split("/数量要求:")[0],t.form.performanceReq2=e.data.performanceRequirements.split("/数量要求:")[1],t.form.designState=e.data.entrustProcess,t.form.lowPrice=e.data.lowestPrice,t.form.highPrice=e.data.highPrice,t.form.instruction=e.data.instruction,t.form.requirement=e.data.requirement,t.form.payDiscible=e.data.payDiscible,t.form.projectNowState=e.data.projectNowState,t.form.hasInvoice=e.data.hasInvoice,t.form.aptitude=e.data.qualificationRequirements.toString(),t.form.startTime=[].concat(e.data.startTime.year+1900,e.data.startTime.month+1,e.data.startTime.date).join("/"),t.form.endTime=[].concat(e.data.endTime.year+1900,e.data.endTime.month+1,e.data.endTime.date).join("/"),t.form.paymentMethods=e.data.payMethod.split("/")[0],t.form.paymentScale=e.data.payMethod.split("/")[1],t.form.isAcceptJointBid=e.data.isAcceptJointBid,t.form.stateUnits=e.data.processRequirements}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){console.log(e.data),t.categorys=e.data.categorys,t.type=e.data.types,t.designState=e.data.designProcess,t.unit=e.data.sizeAndCapacitys,t.major=e.data.majors}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){t.paymentScale=e.data.payScale,t.projectNowStates=e.data.projectNowState}).catch(function(t){console.log(t)})},confirm:function(){var t=this,e=[];this.form.stateUnits.forEach(function(a,s){e.push({state:a.state,startTime:t.$formDate.formatDate(a.startTime),endTime:t.$formDate.formatDate(a.endTime),requireResult:a.requireResult})});var a={sourceAccount:this.cookie.get("user"),tenderCompany:this.form.company,changeName:this.form.name,state:this.form.state,sizeCapacityNumber:this.form.sizeAndCapacitys,sizeAndCapacity:this.form.unit,bidType:this.form.character,type:this.form.type,category:this.form.categorys,voltagelevel:this.form.voltagelevel1+"/"+this.form.voltagelevel2+"/"+this.form.voltagelevel3,major:this.form.major,address:this.form.place,performanceRequirements:this.form.performanceReq1+"/数量要求:"+this.form.performanceReq2,entrustProcess:this.form.designState,amountOfInvestment:this.form.lowPrice+"-"+this.form.highPrice,lowestPrice:this.form.lowPrice,highestPrice:this.form.highPrice,instruction:this.form.instruction,requirement:this.form.requirement,payDiscible:this.form.payDiscible,projectNowState:this.form.projectNowState,hasInvoice:this.form.hasInvoice,qualificationRequirements:this.form.aptitude,startTime:this.$formDate.formatDate(this.form.startTime),endTime:this.$formDate.formatDate(this.form.endTime),payMethod:this.form.paymentMethods+"/"+this.form.paymentScale,isAcceptJointBid:this.form.isAcceptJointBid,isJointState:"true",processRequirements:e};this.$http.post(this.$domain.domain1+"electric-design/updateProjectByProjectCode",{code:this.id,data:a}).then(function(e){e.data.result?t.$message({message:"修改成功",type:"success"}):t.$message({message:"修改失败,原因"+e.data.reason,type:"warning"})}).catch(function(t){console.log(t)})},initStateUnits:function(){var t=this;this.form.stateUnits=[],this.form.designState.forEach(function(e,a){t.form.stateUnits.push({state:e,startTime:"未填",endTime:"未填",requireResult:"未填"})})}},mounted:function(){this.initData(),this.initPremiss()},watch:{radio:function(){"1"===this.radio?this.disabled=!0:this.disabled=!1}}},ya={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alter"},[t._m(0),t._v(" "),"data"===t.form.dataOrProject?a("div",{staticClass:"data"},[a("div",{staticClass:"title"},[a("span",[t._v("任务基本信息")]),a("a",{staticClass:"help",attrs:{href:t.help1}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"最终项目名称"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:5}},[t._v("是否接受联合投标")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","inactive-value":"false","active-value":"true"},model:{value:t.form.isAcceptJointBid,callback:function(e){t.$set(t.form,"isAcceptJointBid",e)},expression:"form.isAcceptJointBid"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发布公司"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{offset:5,span:2}},[t._v("类别")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.categorys,callback:function(e){t.$set(t.form,"categorys",e)},expression:"form.categorys"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"即时发布"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},t._l(t.states,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择类型",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("涉及专业")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择涉及专业",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-col",{attrs:{span:9}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("开始时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目描述"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目要求"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目要求"},model:{value:t.form.requirement,callback:function(e){t.$set(t.form,"requirement",e)},expression:"form.requirement"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("付款相关"),a("a",{staticClass:"help",attrs:{href:t.help3}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"付款方式/付款比例"}},[a("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:8}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"选择"},model:{value:t.form.paymentMethods,callback:function(e){t.$set(t.form,"paymentMethods",e)},expression:"form.paymentMethods"}},t._l(t.paymentMethods,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"自填或选择",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.paymentScale,callback:function(e){t.$set(t.form,"paymentScale",e)},expression:"form.paymentScale"}},t._l(t.paymentScale,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-switch",{attrs:{"active-text":"有发票","inactive-text":"无发票","active-value":"yes","inactive-value":"no"},model:{value:t.form.hasInvoice,callback:function(e){t.$set(t.form,"hasInvoice",e)},expression:"form.hasInvoice"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"付款描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入付款描述"},model:{value:t.form.payDiscible,callback:function(e){t.$set(t.form,"payDiscible",e)},expression:"form.payDiscible"}})],1)],1)],1)]):a("div",{staticClass:"Project"},[a("div",{staticClass:"title"},[a("span",[t._v("项目基本信息")]),a("a",{staticClass:"help",attrs:{href:t.help1}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"发布公司"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:5}},[t._v("是否接受联合投标")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","inactive-value":"false","active-value":"true"},model:{value:t.form.isAcceptJointBid,callback:function(e){t.$set(t.form,"isAcceptJointBid",e)},expression:"form.isAcceptJointBid"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{offset:5,span:2}},[t._v("类别")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类别"},model:{value:t.form.categorys,callback:function(e){t.$set(t.form,"categorys",e)},expression:"form.categorys"}},t._l(t.categorys,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"目标状态"}},[a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择目标状态"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},t._l(t.states,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:1}},[t._v("规模")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"请输入规模的数值",type:"number"},model:{value:t.form.sizeAndCapacitys,callback:function(e){t.$set(t.form,"sizeAndCapacitys",e)},expression:"form.sizeAndCapacitys"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择单位"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},t._l(t.unit,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:1,span:2}},[t._v("委托设计阶段")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":""},on:{input:t.initStateUnits},model:{value:t.form.designState,callback:function(e){t.$set(t.form,"designState",e)},expression:"form.designState"}},t._l(t.designState,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择类型",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.type,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("涉及专业")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择涉及专业",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},t._l(t.major,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"电压等级"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"30%"},model:{value:t.form.voltagelevel1,callback:function(e){t.$set(t.form,"voltagelevel1",e)},expression:"form.voltagelevel1"}},t._l(t.voltagetype,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("el-input",{staticStyle:{width:"35%"},attrs:{type:"number"},model:{value:t.form.voltagelevel2,callback:function(e){t.$set(t.form,"voltagelevel2",e)},expression:"form.voltagelevel2"}}),t._v(" "),a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择电压等级"},model:{value:t.form.voltagelevel3,callback:function(e){t.$set(t.form,"voltagelevel3",e)},expression:"form.voltagelevel3"}},t._l(t.voltagelevel,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("开始时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目地点"}},[a("el-col",{attrs:{span:9}},[a("el-input",{model:{value:t.form.place,callback:function(e){t.$set(t.form,"place",e)},expression:"form.place"}})],1),t._v(" "),a("el-col",{attrs:{offset:5,span:2}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"委托费限价"}},[a("el-col",{attrs:{span:9}},[a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"最低"},model:{value:t.form.lowPrice,callback:function(e){t.$set(t.form,"lowPrice",e)},expression:"form.lowPrice"}}),t._v(" "),a("span",{staticStyle:{"font-size":"1.2rem",color:"red"}},[t._v("到")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"最高"},model:{value:t.form.highPrice,callback:function(e){t.$set(t.form,"highPrice",e)},expression:"form.highPrice"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目描述"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目要求"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入项目要求"},model:{value:t.form.requirement,callback:function(e){t.$set(t.form,"requirement",e)},expression:"form.requirement"}})],1),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(e){t.confirm()}}},[t._v("保存修改")])],1)],1),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("项目资质要求")]),a("a",{staticClass:"help",attrs:{href:t.help2}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"投标个体性质"}},[a("el-col",{attrs:{span:9}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择个体性质"},model:{value:t.form.character,callback:function(e){t.$set(t.form,"character",e)},expression:"form.character"}},t._l(t.character,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{offset:2,span:3}},[t._v("业绩要求")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业绩要求",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.performanceReq1,callback:function(e){t.$set(t.form,"performanceReq1",e)},expression:"form.performanceReq1"}},t._l(t.performanceReq,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:3}},[t._v("数量要求")]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.form.performanceReq2,callback:function(e){t.$set(t.form,"performanceReq2",e)},expression:"form.performanceReq2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所需资质"}},[a("el-col",{attrs:{span:8}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择所需资质"},model:{value:t.form.aptitude,callback:function(e){t.$set(t.form,"aptitude",e)},expression:"form.aptitude"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(e){t.confirm()}}},[t._v("保存修改")])],1)],1),t._v(" "),a("div",{staticClass:"title"},[a("span",[t._v("付款相关")]),a("a",{staticClass:"help",attrs:{href:t.help3}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"付款方式/付款比例"}},[a("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:8}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"选择"},model:{value:t.form.paymentMethods,callback:function(e){t.$set(t.form,"paymentMethods",e)},expression:"form.paymentMethods"}},t._l(t.paymentMethods,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"自填或选择",filterable:"","allow-create":"","default-first-option":""},model:{value:t.form.paymentScale,callback:function(e){t.$set(t.form,"paymentScale",e)},expression:"form.paymentScale"}},t._l(t.paymentScale,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-switch",{attrs:{"active-text":"有发票","inactive-text":"无发票","active-value":"yes","inactive-value":"no"},model:{value:t.form.hasInvoice,callback:function(e){t.$set(t.form,"hasInvoice",e)},expression:"form.hasInvoice"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"付款描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入付款描述"},model:{value:t.form.payDiscible,callback:function(e){t.$set(t.form,"payDiscible",e)},expression:"form.payDiscible"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("项目设计成果要求"),a("a",{staticClass:"help",attrs:{href:t.help4}},[t._v("不会填?点我")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"80px"}},[a("el-table",{staticStyle:{"margin-top":"2rem"},attrs:{data:t.form.stateUnits,stripe:""}},[a("el-table-column",{attrs:{label:"设计阶段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.state,callback:function(a){t.$set(e.row,"state",a)},expression:"scope.row.state"}},t._l(t.designState,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开始时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{attrs:{disabled:t.disabled,type:"date",placeholder:"选择日期"},model:{value:e.row.startTime,callback:function(a){t.$set(e.row,"startTime",a)},expression:"scope.row.startTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"结束时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{attrs:{disabled:t.disabled,type:"date",placeholder:"选择日期"},model:{value:e.row.endTime,callback:function(a){t.$set(e.row,"endTime",a)},expression:"scope.row.endTime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"要求成果"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:"",disabled:t.disabled},model:{value:e.row.requireResult,callback:function(a){t.$set(e.row,"requireResult",a)},expression:"scope.row.requireResult"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.myDelete(e.row)}}},[a("i",{staticClass:"icon iconfont icon-cha",staticStyle:{"font-size":"1rem"}})])]}}])})],1)],1)],1)]),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(e){t.confirm()}}},[t._v("保存修改")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title0"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("修改项目信息")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion",staticStyle:{"font-size":"2rem"}})])}]};var ba=a("VU/8")(_a,ya,!1,function(t){a("mvXH")},"data-v-f574205a",null).exports,wa={store:E.a,data:function(){return{sourceAccount:"",name:"",changeName:"",code:"",state:"",voltagelevel:"",type:"",category:"",major:"",processRequirements:[],designProcess:"",startTime:"",endTime:"",bidType:"",lowestPrice:"",highestPrice:"",payMethod:"",performanceRequirements:"",qualificationRequirements:[]}},computed:St()({},Object(bt.c)(["id"])),mounted:function(){console.log(this.$domain.domain1),this.initData()},updated:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){console.log(e.data),t.sourceAccount=e.data.sourceAccount,t.name=e.data.name,t.changeName=e.data.changeName,t.code=e.data.code,t.state=e.data.state,t.voltagelevel=e.data.voltagelevel,t.type=e.data.type.join(","),t.category=e.data.category,t.major=e.data.major.join(","),t.processRequirements=e.data.processRequirements,t.designProcess=e.data.designProcess,t.startTime=[].concat(e.data.startTime.year+1900,e.data.startTime.month+1,e.data.startTime.date).join("/"),t.endTime=[].concat(e.data.endTime.year+1900,e.data.endTime.month+1,e.data.endTime.date).join("/"),t.bidType=e.data.bidType,t.lowestPrice=e.data.lowestPrice,t.highestPrice=e.data.highestPrice,t.payMethod=e.data.payMethod,t.performanceRequirements=e.data.performanceRequirements,t.qualificationRequirements=e.data.qualificationRequirements}).catch(function(t){console.log(t)})}}},$a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"title"},[a("span",{staticStyle:{"font-size":"1.5rem"}},[t._v(t._s(t.name)+"的详细信息")]),a("i",{staticClass:"icon iconfont icon-iconfontquestion"})]),t._v(" "),a("div",{staticClass:"content",staticStyle:{height:"10rem"}},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("基本信息")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:20}},[a("div",{staticClass:"detail-div"},[a("span",[t._v("项目最终名称:"+t._s(t.changeName))]),a("span",[t._v("当前阶段:"+t._s(t.designProcess))])]),t._v(" "),a("div",{staticClass:"detail-div"},[a("span",[t._v("编号:"+t._s(t.code))]),a("span",[t._v("电压等级:"+t._s(t.voltagelevel))])]),t._v(" "),a("div",{staticClass:"detail-div"},[a("span",[t._v("类别:"+t._s(t.category))]),a("span",[t._v("专业:"+t._s(t.major))])]),t._v(" "),a("div",{staticClass:"detail-div"},[a("span",[t._v("状态:"+t._s(t.state))]),a("span",[t._v("类型:"+t._s(t.type))])]),t._v(" "),a("div",{staticClass:"detail-div"},[a("span",[t._v("开始时间:"+t._s(t.startTime))]),a("span",[t._v("结束时间:"+t._s(t.endTime))])])])],1),t._v(" "),a("div",{staticClass:"content",staticStyle:{overflow:"auto"}},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("资质要求")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:20}},[a("div",{staticClass:"detail-div"},[a("span",[t._v("投标个体性质:"+t._s(t.bidType))]),a("span",[t._v("工程限价:"+t._s(t.lowestPrice)+"-"+t._s(t.highestPrice))])]),t._v(" "),a("div",{staticClass:"detail-div"},[a("span",[t._v("付款方式:"+t._s(t.payMethod))]),a("span",[t._v("业绩要求:"+t._s(t.performanceRequirements))])])])],1),t._v(" "),t.sourceAccount===t.$cookie.get("user")?a("div",{staticClass:"content",staticStyle:{overflow:"auto"}},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("修改项目信息")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:4}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$router.push("/per-project/"+t.id+"/alter")}}},[t._v("修改项目信息")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"content",staticStyle:{overflow:"auto"}},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("上传文件")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:4}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$router.push("/per-project/"+t.id+"/file")}}},[t._v("查看文件详情")])],1)],1),t._v(" "),a("div",{staticClass:"content",staticStyle:{overflow:"auto"}},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("洽谈记录")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:4}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$router.push("/per-project/"+t.id+"/event")}}},[t._v("查看洽谈记录详情")])],1)],1),t._v(" "),a("div",{staticClass:"content"},[a("el-col",{attrs:{span:4}},[a("p",{staticStyle:{"text-align":"left",color:"black","font-size":"1.3rem"}},[t._v("设计成果")])]),t._v(" "),a("el-col",{attrs:{offset:0,span:20}},[a("el-table",{attrs:{data:t.processRequirements}},[a("el-table-column",{attrs:{prop:"state",label:"设计阶段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"交付时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requireResult",label:"成果要求"}})],1)],1)],1)])},staticRenderFns:[]};var Ca=a("VU/8")(wa,$a,!1,function(t){a("V1g1")},"data-v-4162128d",null).exports,ka={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{table:[],toAccounts:[],dialogVisible:!1,innerVisible:!1,uploadVisible:!1,eventLog:[],eventProposer:"",refuseReason:"",eventCode:"",dataCode:"",fileType:"其他",fileTypes:["提资单","合同洽商单","会议机要","工程评审单","校审单","工程联络单","其他"]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"events",keys:["belongToProjectCode","eventType"],values:[this.id,"request"]}).then(function(e){console.log(e.data),t.table=e.data,t.table.forEach(function(e,a){t.table[a].time=[].concat(e.time.year+1900,e.time.month+1,e.time.date).join("-"),t.table[a].reqtime=[].concat(e.reqtime.year+1900,e.reqtime.month+1,e.reqtime.date).join("/"),e.realtime.year&&(t.table[a].realtime=[].concat(e.realtime.year+1900,e.realtime.month+1,e.realtime.date).join("/"))})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){console.log(e.data),t.toAccounts=Array.isArray(e.data.toAccounts)?e.data.toAccounts:[e.data.toAccounts],t.toAccounts.push(e.data.sourceAccount)}).catch(function(t){console.log(t)})},progress:function(t){var e=this;this.dialogVisible=!0,this.eventProposer=t.sourceUserAccount,this.eventCode=t.code,this.$http.post(this.$domain.domain1+"electric-design/getMultRecordByKeysAndValues",{table:"eventlog",keys:["belongToEventCode"],values:[t.code]}).then(function(t){console.log(t.data),e.eventLog=t.data,e.eventLog.forEach(function(t,a){e.eventLog[a].time=[].concat(t.time.year+1900,t.time.month+1,t.time.date).join("-")})}).catch(function(t){console.log(t)})},agree:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/acceptProvide",{optAccount:this.$cookie.get("user"),code:this.eventCode}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"操作成功"}),t.dialogVisible=!1,t.initData()):t.$message({type:"warning",message:"操作失败"})}).catch(function(t){console.log(t)})},refuse:function(){this.innerVisible=!0},confirmRefuse:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/refusedProvide",{code:this.eventCode,optAccount:this.$cookie.get("user"),oprate:"rejected",reason:this.refuseReason}).then(function(e){console.log(e.data),e.data.result?(t.$message({type:"success",message:"操作成功"}),t.dialogVisible=!1,t.innerVisible=!1,t.initData()):t.$message({type:"warning",message:"操作失败"})}).catch(function(t){console.log(t)})},add:function(){this.table.push({sourceUserAccount:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name"),toUsersAccounts:[],name:"",body:"",time:this.$formDate.formatDate(new Date),reqtime:"",realtime:""})},confirm:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/addEvent ",{name:t.name,body:t.body,sourceUserAccount:t.sourceUserAccount,toUsersAccounts:t.toUsersAccounts,belongToProjectCode:this.id,reqtime:this.$formDate.formatDate(t.reqtime),eventType:"request"}).then(function(t){t.data.result?(e.$message({type:"success",message:"操作成功"}),e.initData()):e.$message({type:"warning",message:"操作失败"})}).catch(function(t){console.log(t)})},change:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/changeEventByCode",{code:t.code,data:{name:t.name,body:t.body,sourceUserAccount:t.sourceUserAccount,toUsersAccounts:t.toUsersAccounts,belongToProjectCode:this.id,reqtime:this.$formDate.formatDate(t.reqtime),eventType:"request"}}).then(function(t){t.data.result?(e.$message({type:"success",message:"操作成功"}),e.initData()):e.$message({type:"warning",message:"操作失败"})}).catch(function(t){console.log(t)})},uploadSuccess:function(t,e,a){t.result?(this.$message({type:"success",message:e.name+"上传成功"}),this.initData()):this.$message({type:"warning",message:e.name+"上传失败,原因:"+t.reason}),console.log(t)},uploadError:function(t,e,a){this.$message({type:"warning",message:e.name+"上传失败"}),console.log(t)},uploadPrev:function(t){console.log(t.response)},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)}}},xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table}},[a("el-table-column",{attrs:{label:"请求者账号",prop:"sourceUserAccount"}}),t._v(" "),a("el-table-column",{attrs:{label:"请求者名称",prop:"sourceUserName"}}),t._v(" "),a("el-table-column",{attrs:{label:"被请求者账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{multiple:""},model:{value:e.row.toUsersAccounts,callback:function(a){t.$set(e.row,"toUsersAccounts",a)},expression:"scope.row.toUsersAccounts"}},t._l(t.toAccounts,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"请求名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"请求内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.body,callback:function(a){t.$set(e.row,"body",a)},expression:"scope.row.body"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"请求提出时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"要求完成时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{model:{value:e.row.reqtime,callback:function(a){t.$set(e.row,"reqtime",a)},expression:"scope.row.reqtime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"eventstate"},scopedSlots:t._u([{key:"default",fn:function(e){return["completed"===e.row.eventstate?a("div",[t._v("已经同意")]):t._e(),t._v(" "),"waitsure"===e.row.eventstate?a("div",[t._v("待同意")]):t._e(),t._v(" "),"rejected"===e.row.eventstate?a("div",[t._v("已经拒绝")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"实际完成时间",prop:"realtime"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看进度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info"},on:{click:function(a){t.progress(e.row)}}},[t._v("查看进度")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.sourceUserAccount===t.$cookie.get("user")?a("div",[e.row.code?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.change(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),e.row.code?t._e():a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.confirm(e.row)}}},[t._v("提交")])],1):e.row.toUsersAccounts.in_array(t.$cookie.get("user"))?a("div",[a("el-button",{on:{click:function(a){t.uploadVisible=!0,t.dataCode=e.row.code}}},[t._v("上传文件")])],1):a("div",[e.row.code&&e.row.sourceUserAccount!==t.$cookie.get("user")?a("el-button",{attrs:{disabled:""}},[t._v("无权干涉")]):t._e()],1)]}}])})],1),t._v(" "),a("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("增加请求")]),t._v(" "),a("el-dialog",{attrs:{width:"30%",title:"上传文件",visible:t.uploadVisible},on:{"update:visible":function(e){t.uploadVisible=e}}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}},t._l(t.fileTypes,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-upload",{attrs:{action:t.$domain.domain1+"electric-design/uploadRequestData",name:"project",multiple:"","show-file-list":!1,"on-success":t.uploadSuccess,"on-error":t.uploadError,"on-preview":t.uploadPrev,data:{code:t.dataCode,fileType:t.fileType,sourceUserId:t.$cookie.get("user")}}},[a("el-button",{staticStyle:{width:"100%"},attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.uploadVisible=!1}}},[t._v("退出上传")])],1),t._v(" "),a("el-dialog",{attrs:{title:"事件日志",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.eventLog}},[a("el-table-column",{attrs:{label:"来源者账号",prop:"sourceUserId"}}),t._v(" "),a("el-table-column",{attrs:{label:"来源者姓名",prop:"sourceUserName"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"提资收资"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.eventProposer!==e.row.sourceUserId?a("div",[t._v("\n         上传了\n         "),a("el-tooltip",{attrs:{content:"点击下载",placement:"bottom",effect:"light"}},t._l(e.row.Datafiles,function(e,s){return a("span",{key:s,staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.filePath)}}},[t._v("\n              "+t._s(e.fileName)+"/"+t._s(e.fileType)+"\n           ")])}))],1):a("div",["rejected"===e.row.logType?a("div",[t._v("\n             收资失败原因:"+t._s(e.row.body)+"\n          ")]):t._e(),t._v(" "),"completed"===e.row.logType?a("div",[t._v("\n            收资成功\n          ")]):t._e()])]}}])})],1),t._v(" "),t.eventProposer===t.$cookie.get("user")?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.agree()}}},[t._v("成功收资")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){t.refuse()}}},[t._v("拒绝收资")])],1):t._e(),t._v(" "),a("el-dialog",{attrs:{width:"30%",title:"拒绝原因",visible:t.innerVisible,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("el-input",{model:{value:t.refuseReason,callback:function(e){t.refuseReason=e},expression:"refuseReason"}}),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:function(e){t.confirmRefuse()}}},[t._v("确定拒收")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("退出")])],1)],1)],1)},staticRenderFns:[]};var Sa=a("VU/8")(ka,xa,!1,function(t){a("Jbsu")},"data-v-7fe6adf0",null).exports,ja={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{downloadLoading:!1,multipleSelection:[],currentPage:1,pagesize:5,data:[{date:"2019-01-02",time:"09:10",dataFiles:[],remark:"备注1",source:"帅哥"}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]},eventType:{searchMethod:"values",values:["provide","request","chat"]}}}).then(function(e){console.log(e.data),t.data=[],e.data.forEach(function(e,a){e.dataFiles.forEach(function(a,s){t.data.push({time:a.uptime,fileName:a.fileName,fileType:a.fileType,filePath:a.filePath,remark:e.body,source:e.sourceUserName})})}),console.log(t.data)}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection;0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var s=a("zWO4").export_json_to_excel,n=e;s(["日期","时间","文件名","备注","发布者"],t.formatJson(["date","time","name","remark","source"],n),"业绩统计管理表excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)},filterTag:function(t,e){return console.log(t),e.fileType===t}}},Ta={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload"},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",width:"95%",height:"4rem","margin-left":"auto","margin-right":"auto"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("文件上传统计表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",attrs:{data:t.data.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"文件分类",prop:"fileType",filters:[{text:"提资单",value:"提资单"},{text:"合同洽商单",value:"合同洽商单"},{text:"会议机要",value:"会议机要"},{text:"工程评审单",value:"工程评审单"},{text:"校审单",value:"校审单"},{text:"工程联络单",value:"工程联络单"},{text:"其他",value:"其他"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n            "+t._s(e.row.fileType)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"文件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n              "+t._s(e.row.fileName)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传者",prop:"source"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[3,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.data.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var Da=a("VU/8")(ja,Ta,!1,function(t){a("lT86")},"data-v-12fac814",null).exports,Aa={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{uploadVisibleSelf:!1,body:"",fileType:"其他",fileTypes:["提资单","合同洽商单","会议机要","工程评审单","校审单","工程联络单","其他"]}},methods:{uploadSuccess:function(t,e,a){t.result?(this.$message({type:"success",message:e.name+"上传成功"}),this.$router.go(0)):this.$message({type:"warning",message:e.name+"上传失败,原因:"+t.reason}),console.log(t)},uploadError:function(t,e,a){this.$message({type:"warning",message:e.name+"上传失败"}),console.log(t)},uploadPrev:function(t){console.log(t.response)}}},Pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.uploadVisibleSelf=!0}}},[t._v("上传文件")]),t._v(" "),a("el-dialog",{attrs:{width:"30%",title:"上传文件",visible:t.uploadVisibleSelf},on:{"update:visible":function(e){t.uploadVisibleSelf=e}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择分类"},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}},t._l(t.fileTypes,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})})),t._v(" "),a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),t._v(" "),a("el-upload",{attrs:{action:t.$domain.domain1+"electric-design/uploadProjectFiles",name:"project",multiple:"","show-file-list":!1,"on-success":t.uploadSuccess,"on-error":t.uploadError,"on-preview":t.uploadPrev,data:{oprateAccount:this.$cookie.get("user"),fileType:t.fileType,projectCode:this.id,body:this.body,eventtype:"合同洽商单"===t.fileType?"chat":"provide"}}},[a("el-button",{staticStyle:{width:"100%"},attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.uploadVisibleSelf=!1}}},[t._v("退出上传")])],1)],1)},staticRenderFns:[]};var Fa=a("VU/8")(Aa,Pa,!1,function(t){a("JLr2")},"data-v-79ea78af",null).exports,za={store:E.a,computed:St()({},Object(bt.c)(["id"])),components:{schedule:Sa,upload:Da,up:Fa},data:function(){return{dialogVisible:!1,note:"无备注",showFileList:!1,sourceAccount:"",processRequirements:[],processRequirementsName:[],designProcess:"",processRequirementsAll:{},historyTable:[]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){t.sourceAccount=e.data.sourceAccount,t.designProcessName=[],t.processRequirementsAll={},t.designProcess=e.data.designProcess,t.processRequirements=e.data.processRequirements,t.processRequirementsName=[],e.data.processRequirements.forEach(function(e,a){t.processRequirementsName.push(e.state)}),t.processRequirementsName.forEach(function(e,a){t.$http.post(t.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[t.id]},belongToProcess:{searchMethod:"values",values:[e]}}}).then(function(a){console.log(a.data),t.$set(t.processRequirementsAll,e,a.data)}).catch(function(t){console.log(t)})})}).catch(function(t){console.log(t)})},uploadSuccess:function(t,e,a){t.result?(this.$message({type:"success",message:e.name+"上传成功"}),this.initData()):this.$message({type:"warning",message:e.name+"上传失败,原因:"+t.reason}),console.log(t)},uploadError:function(t,e,a){this.$message({type:"warning",message:e.name+"上传失败"}),console.log(t)},uploadPrev:function(t){console.log(t.response)},imgTypePath:function(t){return/\.(xlsx)$/.test(t)?"./static/excel.jpg":/\.(docx)$/.test(t)?"./static/word.jpg":/\.(txt)$/.test(t)?"./static/txt.jpg":/\.(pdf)$/.test(t)?"./static/pdf.jpg":"./static/other.png"},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)},preview:function(t){window.open(this.$domain.domain1.substring(0)+t)},record:function(t){var e=this;this.dialogVisible=!0,this.$http.post(this.$domain.domain1+"electric-design/getHistoryProjectFiles",{projectCode:this.id,fileName:t}).then(function(t){e.historyTable=[],t.data.forEach(function(t,a){e.historyTable.push({date:[].concat(t.time.year+1900,t.time.month+1,t.time.date).join("/"),time:[].concat(t.time.hours,t.time.minutes,t.time.seconds).join(":"),people:t.sourceUserName,note:t.body,filePath:t.filePath})})}).catch(function(t){console.log(t)})}}},Ua={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"file"},[e("upload"),this._v(" "),e("up")],1)},staticRenderFns:[]};var Na=a("VU/8")(za,Ua,!1,function(t){a("7wb3")},"data-v-7d5efabe",null).exports,Ia=a("aQ6O"),Ma={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-time"},[a("div",{staticClass:"title"},[a("span",{staticStyle:{"font-size":"1.5rem"}},[t._v("时间统计")]),a("i",{staticClass:"icon iconfont icon-iconfontquestion"}),a("span",{staticClass:"date"},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月"+t._s(t.day)+"日")])]),t._v(" "),a("el-tabs",{staticClass:"tab",staticStyle:{position:"relative"},attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"周"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月"+t._s(t.week)+"周")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastWeek()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextWeek()}}})])]),t._v(" "),a("ul",{staticClass:"time"},[a("li",[t._v("6:00")]),t._v(" "),a("li",[t._v("12:00")]),t._v(" "),a("li",[t._v("18:00")]),t._v(" "),a("li",[t._v("24:00")])]),t._v(" "),a("ul",{staticClass:"ul1"},[a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("六")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("日")])]),t._v(" "),a("ul",{staticClass:"ul1"},t._l(t.weekday,function(e,s){return a("li",{key:s},[a("div",{staticClass:"div1",on:{click:function(e){t.funn(e)}}},[t._v(t._s(e.dayOfMonth))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time1))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time2))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time3))]),t._v(" "),a("div",{staticClass:"div-thing"},[t._v(t._s(e.time4))])])}))]),t._v(" "),a("el-tab-pane",{attrs:{label:"月"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastMonth()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextMonth()}}})])]),t._v(" "),a("ul",{staticClass:"ul1"},[a("li",[t._v("一")]),t._v(" "),a("li",[t._v("二")]),t._v(" "),a("li",[t._v("三")]),t._v(" "),a("li",[t._v("四")]),t._v(" "),a("li",[t._v("五")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("六")]),t._v(" "),a("li",{staticClass:"style1"},[t._v("日")])]),t._v(" "),a("ul",{staticClass:"ul1",attrs:{id:"func"}},t._l(t.monthday,function(e,s){return a("li",{key:s},[a("div",{staticClass:"div1",on:{click:function(e){t.funn(e)}}},[t._v(t._s(e.dayCode))]),t._v(" "),a("div",{staticClass:"div2"},[a("ul",{staticStyle:{"list-style-type":"none"}},t._l(e.content,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}))])])}))]),t._v(" "),a("el-tab-pane",{attrs:{label:"年"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v(t._s(t.year)+"年")]),a("span",[a("i",{staticClass:"icon iconfont icon-shang",on:{click:function(e){t.lastYear()}}}),a("i",{staticClass:"icon iconfont icon-xia",on:{click:function(e){t.nextYear()}}})])]),t._v(" "),a("ul",{staticClass:"ul-month"},t._l(t.yearday,function(e,s){return a("li",{key:s},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#da6363"}},[t._v(t._s(e.mon)+"月")]),t._v(" "),a("ul",{staticClass:"ul-day"},t._l(e.days,function(e,s){return a("li",{key:s,class:{qiatanLine:1===e.eventCode,kaigongLine:2===e.eventCode,jiezhiLine:3===e.eventCode}},[a("span",[t._v(t._s(e.dayCode))])])}))])})),t._v(" "),a("ul",{staticClass:"lines"},[a("li",{staticStyle:{color:"#69a1fe","font-size":".8rem"}},[t._v("——洽谈日期")]),t._v(" "),a("li",{staticStyle:{color:"#39c45d","font-size":".8rem"}},[t._v("——开工日期")]),t._v(" "),a("li",{staticStyle:{color:"#e75e3a","font-size":".8rem"}},[t._v("——截止日期")])])])],1)],1)},staticRenderFns:[]};var Ea=function(t){a("tOkx")},Ra=a("VU/8")(Ia.a,Ma,!1,Ea,"data-v-569097aa",null).exports,Va={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{downloadLoading:!1,multipleSelection:[],currentPage:1,pagesize:5,data:[{date:"2019-01-02",time:"09:10",dataFiles:[],remark:"备注1",source:"帅哥"}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]},eventType:{searchMethod:"values",values:["chats","chat"]}}}).then(function(e){console.log(e.data),t.data=[],e.data.forEach(function(e,a){e.dataFiles.forEach(function(a,s){t.data.push({time:a.uptime,fileName:a.fileName,fileType:a.fileType,filePath:a.filePath,remark:e.body,source:e.sourceUserName})})}),console.log(t.data)}).catch(function(t){console.log(t)})},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleDownload:function(){var t=this,e=this.multipleSelection;0!==this.multipleSelection.length?(this.downloadLoading=!0,a.e(0).then(function(){var s=a("zWO4").export_json_to_excel,n=e;s(["日期","时间","文件名","备注","发布者"],t.formatJson(["date","time","name","remark","source"],n),"业绩统计管理表excel"),t.downloadLoading=!1}.bind(null,a)).catch(a.oe)):this.$message({showClose:!0,message:"你还未选择哦",type:"warning"})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleSelectionChange:function(t){this.multipleSelection=t},download:function(t){window.open(this.$domain.domain1+"electric-design/dowloads?fileUrl="+t)},filterTag:function(t,e){return console.log(t),e.fileType===t}}},qa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload"},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between",width:"95%",height:"4rem","margin-left":"auto","margin-right":"auto"}},[a("span",{staticStyle:{"font-size":"1.5rem",color:"#4d83e7"}},[t._v("洽谈统计表")]),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"success",icon:"document"},on:{click:t.handleDownload}},[t._v("导出excel")]),t._v(" "),a("el-button",{attrs:{type:"success"}},[t._v("打印")])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.downloadLoading,expression:"downloadLoading"}],ref:"multipleTable",attrs:{data:t.data.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),stripe:"",fit:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传时间",prop:"time"}}),t._v(" "),a("el-table-column",{attrs:{label:"文件分类",prop:"fileType"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n            "+t._s(e.row.fileType)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"文件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(a){t.download(e.row.filePath)}}},[t._v("\n              "+t._s(e.row.fileName)+"\n           ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"上传者",prop:"source"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[3,5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.data.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var La=a("VU/8")(Va,qa,!1,function(t){a("Tw9F")},"data-v-1f3c7f5f",null).exports,Oa={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{}}},Ba={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n event-notice\n")])},staticRenderFns:[]};var Ja=a("VU/8")(Oa,Ba,!1,function(t){a("Uzfs")},"data-v-447f7194",null).exports,Ka={store:E.a,computed:St()({},Object(bt.c)(["id"])),components:{upload:Da,chat:La,schedule:Sa,notice:Ja},data:function(){return{}},mounted:function(){this.initData()},updated:function(){this.initData()},methods:{initData:function(){this.$http.post(this.$domain.domain1+"electric-design/getEventsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]},eventType:{searchMethod:"values",values:["upload"]}}}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})}}},Wa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"project-event"},[this._m(0),this._v(" "),e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"日程表"}},[e("schedule")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"洽谈"}},[e("chat")],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("事件统计")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var Ya=a("VU/8")(Ka,Wa,!1,function(t){a("08fc")},"data-v-2479e2ac",null).exports,Ha={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{persons:[{account:"1802528291@qq.com",name:"帅哥"}],data:{master:{key:"主持人",value:[]},drawer:{key:"制图者",value:[]},checker:{key:"校核人",value:[]},auditor:{key:"审核人",value:[]},projectManager:{key:"项目经理",value:[]},platformProjectAnalyst:{key:"平台分析设计师",value:[]},workGenerater:{key:"工程代理",value:[]}},dialogVisible:!1,sourceAccount:"",detailMember:[{title:"",key:"",value:[]}],changePNamePer:"no",divideRolePer:"no"}},mounted:function(){this.initData(),this.initPremiss()},methods:{initPremiss:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getPermessionsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]}}}).then(function(e){console.log(e.data),e.data.forEach(function(e,a){e.belongToUserId===t.$cookie.get("user")&&("yes"===e.perContent.changePName&&(t.changePNamePer="yes"),"yes"===e.perContent.divideRole&&(t.divideRolePer="yes"))})}).catch(function(t){console.log(t)})},initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getProjectMember",{belongToProjectCode:this.id}).then(function(e){for(var a in t.data)t.data[a].value=Array.isArray(e.data[a])?e.data[a]:[]}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:this.id}).then(function(e){t.sourceAccount=e.data.sourceAccount,t.$http.post(t.$domain.domain1+"electric-design/searchAllUsersByKeyAndValues1",{key:"account",values:Array.isArray(e.data.toAccounts)?e.data.toAccounts:[e.data.toAccounts]}).then(function(e){t.persons=[];for(var a in e.data)t.persons.push({account:e.data[a].account,name:e.data[a].name})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},manage:function(){this.dialogVisible=!0,this.detailMember=[];for(var t in this.data)this.detailMember.push({key:t,title:this.data[t].key,value:this.data[t].value})},confirm:function(t){var e=this;console.log(t.value),console.log(t.key);var a={};a.belongToProjectCode=this.id,a[t.key]=t.value,console.log(a),this.$http.post(this.$domain.domain1+"electric-design/addProjectMember",a).then(function(t){t.data.result?(e.$message({type:"success",message:"添加成功"}),e.dialogVisible=!1,e.initData()):e.$message({type:"warning",message:"添加失败,原因"+t.data.reason})})}}},Ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member"},[t._m(0),t._v(" "),t._l(t.data,function(e,s){return a("div",{key:s,staticClass:"member-div"},[a("span",{staticStyle:{color:"red","font-size":"1.5rem"}},[t._v(t._s(e.key)+":")]),t._v(" "),t._l(e.value,function(e,s){return a("span",{key:s,staticStyle:{color:"#4d83e7","font-size":"1.5rem","margin-left":"1rem"},on:{click:function(a){t.fun(e.account)}}},[a("i",{staticClass:"icon iconfont icon-gerenziliao"}),t._v(t._s(e.name))])})],2)}),t._v(" "),a("el-dialog",{attrs:{title:"分配角色",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{attrs:{data:t.detailMember,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"title",label:"角色",width:"155"}}),t._v(" "),a("el-table-column",{attrs:{label:"成员"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{multiple:"","value-key":"account"},model:{value:e.row.value,callback:function(a){t.$set(e.row,"value",a)},expression:"scope.row.value"}},t._l(t.persons,function(e,s){return a("el-option",{key:s,attrs:{value:e,label:e.account}},[t._v("账号:"+t._s(e.account)+"/姓名:"+t._s(e.name))])}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"155"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning"},on:{click:function(a){t.confirm(e.row)}}},[t._v("确认")])]}}])})],1)],1),t._v(" "),"yes"===t.divideRolePer?a("i",{staticClass:"icon iconfont icon-iconfonticonfontjixieqimo",on:{click:function(e){t.manage()}}}):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("成员信息")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var Qa=a("VU/8")(Ha,Ga,!1,function(t){a("BCaT")},"data-v-4174d5e7",null).exports,Za={store:E.a,computed:St()({},Object(bt.c)(["id"])),data:function(){return{persons:[{account:"1802528291@qq.com",name:"帅哥"}],data:[]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getPermessionsByMultiConditions",{conditions:{belongToProjectCode:{searchMethod:"values",values:[this.id]}}}).then(function(e){console.log(e.data),t.data=e.data,t.data.forEach(function(t,e){var a={account:t.belongToUserId,name:t.belongtoUserName};t.belongToUserId=a}),t.$http.post(t.$domain.domain1+"electric-design/getProjectByCode",{code:t.id}).then(function(e){t.sourceAccount=e.data.sourceAccount,t.$http.post(t.$domain.domain1+"electric-design/searchAllUsersByKeyAndValues1",{key:"account",values:Array.isArray(e.data.toAccounts)?e.data.toAccounts:[e.data.toAccounts]}).then(function(e){t.persons=[];for(var a in e.data)t.persons.push({account:e.data[a].account,name:e.data[a].name})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},change:function(t){var e=this;this.data.forEach(function(a,s){a.belongToUserId.account===t.belongToUserId.account&&e.persons.forEach(function(e,s){e.account===t.belongToUserId.account&&(a.belongtoUserName=e.name)})})},add:function(){this.data.push({belongToUserId:{account:"",name:""},belongtoUserName:"暂无数据",perContent:{divideRole:"no",changePName:"no"}})},myConfirm:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/addPermession ",{belongToUserId:t.belongToUserId.account,belongtoUserName:t.belongToUserId.name,belongToProjectCode:this.id,perContent:t.perContent,sourceUserId:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name")}).then(function(t){console.log(t.data),t.data.result?(e.$message({type:"success",message:"添加成功"}),e.initData()):e.$message({type:"warning",message:"添加失败,原因"+t.data.reason})}).catch(function(t){console.log(t)})},myUpdate:function(t){var e=this;console.log(t.belongToUserId),this.$http.post(this.$domain.domain1+"electric-design/updatePermessionByCode ",{belongToUserId:t.belongToUserId.account,belongToProjectCode:this.id,data:{belongToUserId:t.belongToUserId.account,belongtoUserName:t.belongToUserId.name,perContent:t.perContent,sourceUserId:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name")}}).then(function(t){console.log(t.data),t.data.result?(e.$message({type:"success",message:"修改成功"}),e.initData()):e.$message({type:"warning",message:"修改失败,原因"+t.data.reason})}).catch(function(t){console.log(t)})},myDelete:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/delPermessionByCode",{belongToUserId:t.belongToUserId.account,belongToProjectCode:this.id}).then(function(t){console.log(t.data),t.data.result?(e.$message({type:"success",message:"删除成功"}),e.initData()):e.$message({type:"warning",message:"删除失败,原因"+t.data.reason})}).catch(function(t){console.log(t)})}}},Xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"permiss"},[t._m(0),t._v(" "),a("el-table",{attrs:{data:t.data}},[a("el-table-column",{attrs:{label:"账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{"value-key":"account"},on:{change:function(a){t.change(e.row)}},model:{value:e.row.belongToUserId,callback:function(a){t.$set(e.row,"belongToUserId",a)},expression:"scope.row.belongToUserId"}},t._l(t.persons,function(e,s){return a("el-option",{key:s,attrs:{value:e,label:e.account}},[t._v("账号:"+t._s(e.account)+"/姓名:"+t._s(e.name))])}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"belongtoUserName"}}),t._v(" "),a("el-table-column",{attrs:{label:"分配角色权限"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"yes","inactive-value":"no"},model:{value:e.row.perContent.divideRole,callback:function(a){t.$set(e.row.perContent,"divideRole",a)},expression:"scope.row.perContent.divideRole"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"更改名字权限"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"yes","inactive-value":"no"},model:{value:e.row.perContent.changePName,callback:function(a){t.$set(e.row.perContent,"changePName",a)},expression:"scope.row.perContent.changePName"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.belongToProjectCode?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.myConfirm(e.row)}}},[t._v("添加")]),t._v(" "),e.row.belongToProjectCode?a("el-button",{attrs:{type:"success"},on:{click:function(a){t.myUpdate(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.myDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("增加一行")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",{staticStyle:{"font-size":"1.5rem"}},[this._v("权限分配")]),e("i",{staticClass:"icon iconfont icon-iconfontquestion"})])}]};var ts=a("VU/8")(Za,Xa,!1,function(t){a("gFcn")},"data-v-1704bb9e",null).exports,es={data:function(){return{List1:[],List2:[]}},mounted:function(){var t=this;this.initData(),this.$one.$on("refreshApply",function(e){t.initData()})},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getfriendApplyList",{userId:this.$cookie.get("user")}).then(function(e){t.List1=[],t.List2=[],e.data.forEach(function(e,a){e.fromUserId!==t.$cookie.get("user")?t.List1.push(e):t.List2.push(e)})}).catch(function(t){console.log(t)})},agree:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/agreeFriend",{code:t.code,fromUserId:t.fromUserId,fromUserName:t.fromUserName,toUserId:this.$cookie.get("user"),toName:this.$cookie.get("name")}).then(function(a){a.data.result?(e.$message({type:"success",message:"已经接收"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"接收"+t.fromUserName+"申请失败,原因:"+a.data.reason})})},agreeGroup:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/join",{userIds:[t.fromUserId],groupId:t.toGroupId,groupName:t.toName}).then(function(a){200===a.data.code?(e.$message({type:"success",message:"已经接收"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"接收"+t.fromUserName+"申请失败,原因:"+a.data.reason})})},refuse:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/refuseOrIgnoreFriend",{code:t.code,fromUserId:t.fromUserId,fromUserName:t.fromUserName,toUserId:this.$cookie.get("user"),toName:this.$cookie.get("name"),operator:"refused"}).then(function(a){a.data.result?(e.$message({type:"success",message:"已经拒绝"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"拒绝"+t.fromUserName+"申请失败,原因:"+a.data.reason})})},refuseGroup:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/refuseOrIgnoreFriend",{code:t.code,fromUserId:t.fromUserId,fromUserName:t.fromUserName,operator:"refused"}).then(function(a){a.data.result?(e.$message({type:"success",message:"已经拒绝"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"拒绝"+t.fromUserName+"申请失败,原因:"+a.data.reason})})},ignore:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/refuseOrIgnoreFriend",{code:t.code,fromUserId:t.fromUserId,fromUserName:t.fromUserName,toUserId:this.$cookie.get("user"),toName:this.$cookie.get("name"),operator:"ignored"}).then(function(a){a.data.result?(e.$message({type:"success",message:"已经忽略"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"忽略"+t.fromUserName+"申请失败,原因:"+a.data.reason})})},ignoreGroup:function(t){var e=this;this.$http.post(this.$domain.domain1+"electric-design/refuseOrIgnoreFriend",{code:t.code,fromUserId:t.fromUserId,fromUserName:t.fromUserName,operator:"ignored"}).then(function(a){a.data.result?(e.$message({type:"success",message:"已经忽略"+t.fromUserName+"申请"}),e.initData()):e.$message({type:"success",message:"忽略"+t.fromUserName+"申请失败,原因:"+a.data.reason})})}}},as={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apply"},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"我收到的申请"}},[a("el-table",{attrs:{data:t.List1,stripe:""}},[a("el-table-column",{attrs:{label:"发送请求"},scopedSlots:t._u([{key:"default",fn:function(e){return["normal"===e.row.applyType?a("div",[a("span",{staticStyle:{color:"#409EFF"}},[t._v("请求加我为好友")])]):t._e(),t._v(" "),"group"===e.row.applyType?a("div",[a("span",{staticStyle:{color:"#409EFF"}},[t._v("请求加入群:")]),t._v(t._s(e.row.toName))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fromUserId",label:"来源账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fromUserName",label:"来源姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"extraMsg",label:"附加消息"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return["waiting"===e.row.ApplyState?a("div",["normal"===e.row.applyType?a("div",[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.agree(e.row)}}},[t._v("同意")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.refuse(e.row)}}},[t._v("拒绝")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.ignore(e.row)}}},[t._v("忽略")])],1):t._e(),t._v(" "),"group"===e.row.applyType?a("div",[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.agreeGroup(e.row)}}},[t._v("同意")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.refuseGroup(e.row)}}},[t._v("拒绝")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.ignoreGroup(e.row)}}},[t._v("忽略")])],1):t._e()]):t._e(),t._v(" "),"agreed"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"primary"}},[t._v("已同意")])],1):t._e(),t._v(" "),"refused"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"danger"}},[t._v("已拒绝")])],1):t._e(),t._v(" "),"ignored"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"info"}},[t._v("已忽略")])],1):t._e()]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"我发送的申请"}},[a("el-table",{attrs:{data:t.List2,stripe:""}},[a("el-table-column",{attrs:{prop:"toUserId",label:"申请好友的账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"toName",label:"申请好友的姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"extraMsg",label:"附加消息"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["waiting"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"info"}},[t._v("等待同意中")])],1):t._e(),t._v(" "),"ignored"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"info"}},[t._v("等待同意中")])],1):t._e(),t._v(" "),"agreed"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"primary"}},[t._v("已同意")])],1):t._e(),t._v(" "),"refused"===e.row.ApplyState?a("div",[a("el-button",{attrs:{disabled:"",type:"danger"}},[t._v("已拒绝")])],1):t._e()]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var ss=a("VU/8")(es,as,!1,function(t){a("x9JH")},"data-v-558081f8",null).exports,ns=a("6tTZ"),os={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.getData,border:"","row-click":"open",stripe:""}},[a("el-table-column",{attrs:{prop:"otherName",label:"姓名/群名称","min-width":"20%"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otherUserId",label:"账号/群账号","min-width":"10%"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.msgTime.year+1900)+"/"+t._s(e.row.msgTime.month+1)+"/"+t._s(e.row.msgTime.date)+"/"+t._s(e.row.msgTime.hours)+":"+t._s(e.row.msgTime.minutes)+":"+t._s(e.row.msgTime.seconds))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"内容","min-width":"35%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex","justify-content":"flex-end","flex-wrap":"wrap"}},[e.row.fromUserId===t.$cookie.get("user")?a("p",{staticStyle:{color:"#409EFF"}},[t._v("我:"+t._s(e.row.message.content))]):t._e(),t._v(" "),e.row.fromUserId!==t.$cookie.get("user")?a("p",{staticStyle:{color:"#409EFF"}},[t._v(t._s(e.row.fromUserName)+":"+t._s(e.row.message.content))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(e){return["normal"===e.row.msgToType?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.open(e.row)}}},[t._v("与他聊天")]):t._e(),t._v(" "),"group"===e.row.msgToType?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.open(e.row)}}},[t._v("群聊天")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(a){t.chatDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.toName,visible:t.dialogVisibleChatGroup,width:"60%"},on:{"update:visible":function(e){t.dialogVisibleChatGroup=e}}},[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(e){t.limit+=10,t.getChatMsg()}}},[t._v("显示更多")]),t._v(" "),a("div",{staticClass:"chatContent"},t._l(t.ChatMsg,function(e,s){return a("div",{key:s,staticStyle:{"margin-top":"2rem"}},[a("div",{staticStyle:{color:"#409EFF"}},[e.fromUserId===t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e(),t._v(" "),e.fromUserId!==t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e()]),t._v(" "),a("div",{class:[e.fromUserId===t.$cookie.get("user")?"divFrom":"divTo","divFromOrTo"]},[a("div",[t._v(t._s(e.fromUserName))]),a("div",[t._v(":")]),a("p",{staticStyle:{"space-white":"pre-wrap","max-width":"60%","text-align":"left"}},[t._v(t._s(e.message.content))])])])})),t._v(" "),a("el-input",{attrs:{autofocus:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendGroup()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleChatGroup=!1}}},[t._v("关闭群聊天")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sendGroup()}}},[t._v("发送信息")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.toName,visible:t.dialogVisibleChat,width:"60%"},on:{"update:visible":function(e){t.dialogVisibleChat=e}}},[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(e){t.limit+=10,t.getChatMsg()}}},[t._v("显示更多")]),t._v(" "),a("div",{staticClass:"chatContent"},t._l(t.ChatMsg,function(e,s){return a("div",{key:s,staticStyle:{"margin-top":"2rem"}},[a("div",{staticStyle:{color:"#409EFF"}},[e.fromUserId===t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e(),t._v(" "),e.fromUserId!==t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e()]),t._v(" "),a("div",{class:[e.fromUserId===t.$cookie.get("user")?"divFrom":"divTo","divFromOrTo"]},[a("div",[t._v(t._s(e.fromUserName))]),a("div",[t._v(":")]),a("p",{staticStyle:{"space-white":"pre-wrap","max-width":"60%","text-align":"left"}},[t._v(t._s(e.message.content))])])])})),t._v(" "),a("el-input",{attrs:{autofocus:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.send()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleChat=!1}}},[t._v("关闭聊天")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.send()}}},[t._v("发送信息")])],1)],1)],1)},staticRenderFns:[]};var is=function(t){a("x48o")},rs=a("VU/8")(ns.a,os,!1,is,"data-v-5d960d7b",null).exports,ls={data:function(){return{currentPage:1,pagesize:5,dialogVisibleRemark:!1,search:"",data:[],account:"",name:"",extraMsg:""}},methods:{handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},mySearch:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByValue",{value:this.search}).then(function(e){t.data=e.data}).catch(function(t){console.log(t)})},open:function(t,e){this.dialogVisibleRemark=!0,this.account=t,this.name=e},confirm:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/applyNewFriend",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),applyType:"normal",toUserId:this.account,toName:this.name,extraMsg:this.extraMsg}).then(function(e){e.data.result?t.$http.post(t.$domain.domain1+"electric-design/private_publish",{fromUserId:t.$cookie.get("user"),fromUserName:t.$cookie.get("name"),toUserId:t.account,toName:t.name,objectName:"RC:TxtMsg",message:{content:"向您发送好友申请",extra:"系统消息"}}).then(function(e){t.$message({type:"success",message:"申请发送成功,等待对方同意"}),t.extraMsg=""}).catch(function(t){console.log(t)}):t.$message({type:"warning",message:"发送失败,原因:"+e.data.reason}),t.dialogVisibleRemark=!1}).catch(function(t){console.log(t)})}}},cs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add"},[a("div",{staticStyle:{display:"flex","justify-content":"space-around",margin:"1rem auto"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"搜索好友账号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.mySearch()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{"font-size":"1.5rem"},attrs:{slot:"prefix"},on:{click:function(e){t.mySearch()}},slot:"prefix"})]),t._v(" "),a("el-button",{staticStyle:{width:"10%"},attrs:{type:"success"},on:{click:function(e){t.mySearch()}}},[t._v("搜索")])],1),t._v(" "),a("div",{staticClass:"exhibition"},t._l(t.data.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),function(e,s){return a("div",{key:s,staticClass:"exhibitionDiv"},[a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("姓名:")]),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("账号:")]),a("span",[t._v(t._s(e.account))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("账号类型:")]),a("span",[t._v(t._s(e.role))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("工作地点:")]),a("span",[t._v(t._s(e.workingAddress))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("联系电话:")]),a("span",[t._v(t._s(e.telephone))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("邮箱:")]),a("span",[t._v(t._s(e.email))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(a){t.open(e.account,e.name)}}},[t._v("加好友")])],1)])})),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,3,6,9,18],"page-size":6,layout:"total, sizes, prev, pager, next, jumper",total:t.data.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"填写验证信息",visible:t.dialogVisibleRemark,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleRemark=e}}},[a("el-input",{attrs:{type:"textarea",placeholder:"验证信息"},model:{value:t.extraMsg,callback:function(e){t.extraMsg=e},expression:"extraMsg"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleRemark=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm()}}},[t._v("发送申请")])],1)],1)],1)},staticRenderFns:[]};var us=a("VU/8")(ls,cs,!1,function(t){a("n0/c")},"data-v-0cee4522",null).exports,ds={data:function(){return{form:{groupId:"",groupName:"",instraction:"",ownerId:this.$cookie.get("user"),userIds:[this.$cookie.get("user")]}}},methods:{reset:function(){this.form={groupId:"",groupName:"",instraction:"",ownerId:this.$cookie.get("user"),userIds:[this.$cookie.get("user")]}},createGroup:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/create",this.form).then(function(e){console.log(e),200===e.data.code?t.$message({type:"success",message:"创建成功"}):t.$message({type:"warning",message:"创建失败"})})}}},ms={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createGroup"},[a("el-form",{attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"群名称"}},[a("el-input",{model:{value:t.form.groupName,callback:function(e){t.$set(t.form,"groupName",e)},expression:"form.groupName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"群Id"}},[a("el-input",{model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"群介绍"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.instraction,callback:function(e){t.$set(t.form,"instraction",e)},expression:"form.instraction"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.createGroup()}}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:function(e){t.reset()}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var ps=a("VU/8")(ds,ms,!1,function(t){a("Az5d")},"data-v-69fcce48",null).exports,hs={data:function(){return{currentPage:1,pagesize:5,dialogVisibleRemark:!1,search:"",data:[],account:"",name:"",extraMsg:""}},methods:{handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},mySearch:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/searchTableByValue",{table:"chatgroup",value:this.search}).then(function(e){console.log(e.data),t.data=e.data}).catch(function(t){console.log(t)})},open:function(t,e){this.dialogVisibleRemark=!0,this.account=t,this.name=e},confirm:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/applyNewFriend",{fromUserId:this.$cookie.get("user"),fromUserName:this.$cookie.get("name"),applyType:"group",toGroupId:this.account,toName:this.name,extraMsg:this.extraMsg}).then(function(e){e.data?t.$http.post(t.$domain.domain1+"electric-design/group_publish",{fromUserId:t.$cookie.get("user"),fromUserName:t.$cookie.get("name"),toGroupId:t.account,toName:t.name,objectName:"RC:TxtMsg",message:{content:"请求加入群:"+t.name,extra:"系统消息"}}).then(function(e){t.$message({type:"success",message:"群申请发送成功,等待同意"}),t.extraMsg=""}).catch(function(t){console.log(t)}):t.$message({type:"warning",message:"发送失败,原因:"+e.data.reason}),t.dialogVisibleRemark=!1}).catch(function(t){console.log(t)})}}},fs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add"},[a("div",{staticStyle:{display:"flex","justify-content":"space-around",margin:"1rem auto"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"搜索群"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.mySearch()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{"font-size":"1.5rem"},attrs:{slot:"prefix"},on:{click:function(e){t.mySearch()}},slot:"prefix"})]),t._v(" "),a("el-button",{staticStyle:{width:"10%"},attrs:{type:"success"},on:{click:function(e){t.mySearch()}}},[t._v("搜索")])],1),t._v(" "),a("div",{staticClass:"exhibition"},t._l(t.data.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),function(e,s){return a("div",{key:s,staticClass:"exhibitionDiv"},[a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("群名称:")]),a("span",[t._v(t._s(e.groupName))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("群账号:")]),a("span",[t._v(t._s(e.groupId))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("创建者:")]),a("span",[t._v(t._s(e.ownerId))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("群介绍:")]),a("span",[t._v(t._s(e.instraction))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("span",[t._v("群成员:")]),a("span",[t._v(t._s(e.userIds.join(",")))])]),t._v(" "),a("div",{staticClass:"exhibitionDivDiv"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(a){t.open(e.groupId,e.groupName)}}},[t._v("加群")])],1)])})),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[1,3,6,9,18],"page-size":6,layout:"total, sizes, prev, pager, next, jumper",total:t.data.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"填写验证信息",visible:t.dialogVisibleRemark,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleRemark=e}}},[a("el-input",{attrs:{type:"textarea",placeholder:"验证信息"},model:{value:t.extraMsg,callback:function(e){t.extraMsg=e},expression:"extraMsg"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleRemark=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm()}}},[t._v("发送申请")])],1)],1)],1)},staticRenderFns:[]};var vs=a("VU/8")(hs,fs,!1,function(t){a("Uika")},"data-v-4ff7cd76",null).exports,gs=a("OUlR"),_s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"friendList"},[t._l(t.data,function(e,s){return a("div",{key:s,staticClass:"friendListDiv"},[a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("姓名:")]),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("账号:")]),a("span",[t._v(t._s(e.account))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("账号类型:")]),a("span",[t._v(t._s(e.role))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("工作地点:")]),a("span",[t._v(t._s(e.workingAddress))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("联系电话:")]),a("span",[t._v(t._s(e.telephone))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("span",[t._v("邮箱:")]),a("span",[t._v(t._s(e.email))])]),t._v(" "),a("div",{staticClass:"friendListDivDiv"},[a("el-badge",{attrs:{value:"new"}},[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.open(e.account,e.name)}}},[t._v("发送信息")])],1),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.myDelete(e.account,e.name)}}},[t._v("删除好友")])],1)])}),t._v(" "),a("el-dialog",{attrs:{title:t.toName,visible:t.dialogVisibleChat,width:"60%"},on:{"update:visible":function(e){t.dialogVisibleChat=e}}},[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(e){t.limit+=10,t.getChatMsg()}}},[t._v("显示更多")]),t._v(" "),a("div",{staticClass:"chatContent"},t._l(t.ChatMsg,function(e,s){return a("div",{key:s,staticStyle:{"margin-top":"2rem"}},[a("div",{staticStyle:{color:"#409EFF"}},[e.fromUserId===t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e(),t._v(" "),e.fromUserId!==t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e()]),t._v(" "),a("div",{class:[e.fromUserId===t.$cookie.get("user")?"divFrom":"divTo","divFromOrTo"]},[a("div",[t._v(t._s(e.fromUserName))]),a("div",[t._v(":")]),a("p",{staticStyle:{"space-white":"pre-wrap","max-width":"60%","text-align":"left"}},[t._v(t._s(e.message.content))])])])})),t._v(" "),a("el-input",{attrs:{autofocus:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.send()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleChat=!1}}},[t._v("关闭聊天")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.send()}}},[t._v("发送信息")])],1)],1)],2)},staticRenderFns:[]};var ys=function(t){a("JjXB")},bs=a("VU/8")(gs.a,_s,!1,ys,"data-v-489822cb",null).exports,ws=a("MRrd"),$s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"groupList"},[t._l(t.data,function(e,s){return a("div",{key:s,staticClass:"groupListDiv"},[a("div",{staticClass:"groupListDivDiv"},[a("span",[t._v("群名称:")]),a("span",[t._v(t._s(e.groupName))])]),t._v(" "),a("div",{staticClass:"groupListDivDiv"},[a("span",[t._v("群账号:")]),a("span",[t._v(t._s(e.groupId))])]),t._v(" "),a("div",{staticClass:"groupListDivDiv"},[a("span",[t._v("创建者:")]),a("span",[t._v(t._s(e.ownerId))])]),t._v(" "),a("div",{staticClass:"groupListDivDiv"},[a("span",[t._v("群介绍:")]),a("span",[t._v(t._s(e.instraction))])]),t._v(" "),a("div",{staticClass:"groupListDivDiv"},[a("span",[t._v("群成员:")]),a("span",[t._v(t._s(e.userIds.join(",")))])]),t._v(" "),a("div",{staticClass:"groupListDivDiv"},[a("el-badge",{attrs:{value:"new"}},[a("el-button",{attrs:{type:"success"},on:{click:function(a){t.open(e.groupId,e.groupName)}}},[t._v("发送信息")])],1),t._v(" "),e.ownerId!==t.$cookie.get("user")?a("el-button",{attrs:{type:"warning"},on:{click:function(a){t.myQuit(e.groupId,e.groupName)}}},[t._v("退出该群")]):t._e(),t._v(" "),e.ownerId===t.$cookie.get("user")?a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.myDismiss(e.groupId,e.groupName)}}},[t._v("解散该群")]):t._e()],1)])}),t._v(" "),a("el-dialog",{attrs:{title:t.toName,visible:t.dialogVisibleChat,width:"60%"},on:{"update:visible":function(e){t.dialogVisibleChat=e}}},[a("span",{staticStyle:{color:"#409EFF"},on:{click:function(e){t.limit+=10,t.getChatMsg()}}},[t._v("显示更多")]),t._v(" "),a("div",{staticClass:"chatContent"},t._l(t.ChatMsg,function(e,s){return a("div",{key:s,staticStyle:{"margin-top":"2rem"}},[a("div",{staticStyle:{color:"#409EFF"}},[e.fromUserId===t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e(),t._v(" "),e.fromUserId!==t.$cookie.get("user")?a("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.msgTime.year+1900)+"/"+t._s(e.msgTime.month+1)+"/"+t._s(e.msgTime.date)+"/"+t._s(e.msgTime.hours)+":"+t._s(e.msgTime.minutes)+":"+t._s(e.msgTime.seconds))]):t._e()]),t._v(" "),a("div",{class:[e.fromUserId===t.$cookie.get("user")?"divFrom":"divTo","divFromOrTo"]},[a("div",[t._v(t._s(e.fromUserName))]),a("div",[t._v(":")]),a("p",{staticStyle:{"space-white":"pre-wrap","max-width":"60%","text-align":"left"}},[t._v(t._s(e.message.content))])])])})),t._v(" "),a("el-input",{attrs:{autofocus:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.send()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleChat=!1}}},[t._v("关闭聊天")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.send()}}},[t._v("发送信息")])],1)],1)],2)},staticRenderFns:[]};var Cs=function(t){a("d8pp")},ks=a("VU/8")(ws.a,$s,!1,Cs,"data-v-25a1afca",null).exports;s.default.use(n.a);e.a=new n.a({mode:"hash",routes:[{path:"",redirect:"/login"},{path:"/per",name:"Index",component:z,children:[{path:"person-perAchi",component:zt},{path:"uploadAchieve",component:nt},{path:"person-register",component:Yt},{path:"PM-new",component:oe,children:[{path:"",component:le},{path:"2",component:de},{path:"3",component:he},{path:"2-1",component:ge},{path:"5",component:be},{path:"6",component:Ce}]},{path:"PM-sumary/:value",component:Be},{path:"PM-combo/:value",component:na},{path:"statistics-time",component:la},{path:"statistics-discuss",component:da},{path:"statistics-credit",component:ha},{path:"*",component:yt}]},{path:"/com",component:M,children:[{path:"company-comAchi",component:Ot},{path:"uploadAchieve",component:nt},{path:"company-register",component:Qt},{path:"PM-new",component:oe,children:[{path:"",component:le},{path:"2",component:de},{path:"3",component:he},{path:"2-1",component:ge},{path:"5",component:be},{path:"6",component:Ce}]},{path:"CM-sumary/:value",component:Be},{path:"CM-combo/:value",component:na},{path:"Cstatistics-time",component:la},{path:"Cstatistics-discuss",component:da},{path:"Cstatistics-credit",component:ha},{path:"*",component:yt}]},{path:"/per-project/:code",component:J,children:[{path:"pandect",component:ga},{path:"alter",component:ba},{path:"detail",component:Ca},{path:"file",component:Na},{path:"time",component:Ra},{path:"event",component:Ya},{path:"member",component:Qa},{path:"permiss",component:ts}]},{path:"/archive",component:ut},{path:"/facilitator",component:ht},{path:"/perregister",component:Y},{path:"/comregister",component:Q},{path:"/login",component:et},{path:"/protocol",component:it},{path:"/chat",component:d,children:[{path:"apply",component:ss},{path:"contact",component:rs},{path:"add",component:us},{path:"friendList",component:bs},{path:"createGroup",component:ps},{path:"addGroup",component:vs},{path:"groupList",component:ks}]},{path:"/changeTable/:value",component:D},{path:"/1",redirect:"/404",component:yt}]})},Ym5n:function(t,e,a){"use strict";var s={data:function(){return{msg:""}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("div",{staticClass:"top-left"},[s("el-tooltip",{attrs:{content:"返回上一级",placement:"bottom",effect:"light"}},[s("i",{staticClass:"icon iconfont icon-zuo",staticStyle:{color:"white","font-size":"1.5rem"},on:{click:function(e){t.$router.go(-1)}}})]),t._v(" "),s("el-tooltip",{attrs:{content:"点我进行导航",placement:"bottom",effect:"light"}},[s("i",{staticClass:"icon iconfont icon-iconfontquestion",staticStyle:{color:"white","font-size":"1.5rem",curser:"pointer"},attrs:{onclick:"introJs().setOption('showProgress', true).start();"}})]),t._v(" "),s("img",{attrs:{src:a("QU04"),alt:""}}),s("span",{on:{click:function(e){t.window.location.href="http://39.106.34.156:8080/zs/home/"}}},[t._v(t._s(t.msg))]),s("span",[t._v("|")]),s("span",[t._v("项目信息")])],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-right"},[e("span",[this._v("设计服务")]),e("span",[this._v("设计师")]),e("span",[this._v("客户端下载")]),e("span",[this._v("App")])])}]};var o=a("VU/8")(s,n,!1,function(t){a("b48T")},"data-v-360f77e6",null);e.a=o.exports},Z803:function(t,e){},Zy8N:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("XnMs"),i=a("NYxO"),r={store:o.a,data:function(){return{search:"",jsonAllPuser:{},jsonAllCuser:{}}},computed:Object(i.c)(["tablePuser","tableCuser"]),methods:n()({mySearch:function(){var t=this;this.$parent.loadingContent=!0,this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfPuser").then(function(e){t.jsonAllPuser=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"pusers",otherName:"puserHeade"}).then(function(e){t.$store.state.jsonPuser={};for(var a in e.data)t.$store.state.jsonPuser[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={table:"pusers",value:t.search};t.$http.post(t.$domain.domain1+"electric-design/searchTableByValue",a).then(function(e){console.log(e.data),t.$store.state.tablePuser=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAllPuser)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):s[n]="role"===n?"puser"===e[n]?"个人用户":"企业用户":e[n];t.$store.state.tablePuser.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfCuser").then(function(e){t.jsonAllCuser=e.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"cusers",otherName:"cuserHeade"}).then(function(e){t.$store.state.jsonCuser={};for(var a in e.data)t.$store.state.jsonCuser[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)});var a={table:"cusers",value:t.search};t.$http.post(t.$domain.domain1+"electric-design/searchTableByValue",a).then(function(e){console.log(e.data),t.$store.state.tableCuser=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAllCuser)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):s[n]=e[n];t.$store.state.tableCuser.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}},Object(i.b)(["add"]))},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"搜索你感兴趣的用户"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.mySearch()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:function(e){t.mySearch()}},slot:"suffix"})])],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("/R6c")},"data-v-3329323f",null);e.a=c.exports},Zyuz:function(t,e){},aQ6O:function(t,e,a){"use strict";(function(t){var s=a("Dd8w"),n=a.n(s),o=a("ljcC"),i=a("NYxO");e.a={store:o.a,computed:n()({},Object(i.c)(["id"])),data:function(){return{weekday:[],monthday:[],yearday:[],test:[1,2,3,4,5,6,7,8,9,10,11,12],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate(),week:Math.ceil(((new Date).getDate()+6-(new Date).getDay())/7)}},created:function(){},mounted:function(){this.initData()},methods:{initData:function(){this.initWeek(),this.initMonth(),this.initYear()},initWeek:function(){var t=this;this.weekday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsAndDatesByweek",{projectCode:this.id,year:this.year,month:this.month,week:this.week}).then(function(e){e.data.forEach(function(e,a){var s={};s.dayOfMonth=e.dayOfMonth;for(var n=0;n<=5;n++)e.hours[n].events&&(s.time1=e.hours[n].events[0].name);for(var o=6;o<=11;o++)e.hours[o].events&&(s.time2=e.hours[o].events[0].name);for(var i=12;i<=17;i++)e.hours[i].events&&(s.time3=e.hours[i].events[0].name);for(var r=18;r<=23;r++)e.hours[r].events&&(s.time4=e.hours[r].events[0].name);t.weekday.push(s)})}).catch(function(t){console.log(t)})},initMonth:function(){var t=this;this.monthday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsAndDatesByMonth",{projectCode:this.id,year:this.year,month:this.month}).then(function(e){for(var a=1;a<e.data[0].dayOfWeek;a++){var s={};s.dayCode="",s.content=[],t.monthday.push(s)}e.data.forEach(function(e,a){var s={};s.dayCode=e.dayCode,s.content=[];for(var n=0;n<=23;n++)e.hours[n].events&&e.hours[n].events.forEach(function(t){s.content.push(t.name)});t.monthday.push(s)})}).catch(function(t){console.log(t)})},initYear:function(){var t=this;this.yearday=[],this.$http.post(this.$domain.domain1+"electric-design/getEventsByUserAccountAndYear",{projectCode:this.id,year:this.year}).then(function(e){e.data.forEach(function(e,a){var s={};s.mon=e.monthCode,s.days=e.days,s.days.forEach(function(t,e){t.events&&t.events.forEach(function(e,a){e.eventCode<=10&&e.eventCode>=5&&(t.eventCode=1),e.eventCode<=13&&e.eventCode>=11&&(t.eventCode=2),e.eventCode<=4&&e.eventCode>=1&&(t.eventCode=3)})}),t.yearday.push(s)})}).catch(function(t){console.log(t)})},maxDate:function(t,e){if(t%400==0||t%4==0&&t%100!=0)switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return 29;default:return 30}else switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return 28;default:return 30}},funn:function(e){t(e.target).addClass("active").parent().siblings().find(".div1").removeClass("active"),this.day=e.target.innerText},lastWeek:function(){this.subWeek(),this.initWeek()},nextWeek:function(){this.addWeek(),this.initWeek()},lastMonth:function(){this.subMonth(),this.initMonth()},nextMonth:function(){this.addMonth(),this.initMonth()},lastYear:function(){this.subYear(),this.initYear()},nextYear:function(){this.addYear(),this.initYear()},subWeek:function(){1===this.week?(this.subMonth(),this.week=Math.ceil((this.maxDate(this.year,this.month)+6-new Date(this.year,this.month,this.maxDate(this.year,this.month)).getDay())/7)):this.week--},addWeek:function(){this.week===Math.ceil((this.maxDate(this.year,this.month)+6-new Date(this.year,this.month,this.maxDate(this.year,this.month)).getDay())/7)?(this.addMonth(),this.week=1):this.week++},subMonth:function(){1===this.month?(this.month=12,this.year--):this.month--},addMonth:function(){12===this.month?(this.month=1,this.year++):this.month++},subYear:function(){this.year--},addYear:function(){this.year++}}}}).call(e,a("4kSj"))},"aZA+":function(t,e){},abrA:function(t,e,a){t.exports=a.p+"static/img/erweima.8ac6082.png"},"apQ/":function(t,e){},b48T:function(t,e){},d8pp:function(t,e){},fRJU:function(t,e){},ffjD:function(t,e){},fv3F:function(t,e){},gFcn:function(t,e){},gUCq:function(t,e){},hP9N:function(t,e){},hReB:function(t,e){},iyNx:function(t,e){},jRak:function(t,e){},jfsH:function(t,e,a){"use strict";var s=a("mvHQ"),n=a.n(s),o=a("Dd8w"),i=a.n(o),r=a("p1rd"),l=a("NYxO"),c={store:r.a,data:function(){return{dialogVisible:!1,currentPage:1,pagesize:3,details:{loadingPeople:!0,loadingProject:!0},bidInstruction:{},bidType:"personal",limit:5,fileList:[],uploadDis:!1}},computed:i()({},Object(l.c)(["data","table","json"])),methods:{submitUpload:function(){this.$refs.upload.submit(),"unit"===this.bidType?(this.fileList=[],this.uploadDis=!1,"puser"===this.$cookie.get("role")&&(this.$router.push("/per/PM-combo/2"),this.$nextTick(function(){this.$one.$emit("test",this.details.code)})),"cuser"===this.$cookie.get("role")&&(this.$router.push("/com/CM-combo/2"),this.$nextTick(function(){this.$one.$emit("test",this.details.code)}))):(this.$cookie.get("role"),this.fileList=[],this.uploadDis=!1,this.$router.push("/per/PM-sumary/2B"))},handleClose:function(){this.fileList=[],this.dialogVisible=!1,this.uploadDis=!1},getBidInstruction:function(){return n()(this.bidInstruction)},getBidType:function(){return this.bidType},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},detail:function(t,e){var a=this;this.dialogVisible=!0,this.$set(this.details,"code",t),this.$http.post(this.$domain.domain1+"electric-design/getProjectByCode",{code:t}).then(function(t){console.log(t.data),a.$set(a.details,"personalBidAccounts",Array.isArray(t.data.personalBidAccounts)?t.data.personalBidAccounts:[]),a.details.personalBidAccounts.splice(0,0,a.$cookie.get("user")),a.$set(a.details,"companyBidAccounts",Array.isArray(t.data.companyBidAccounts)?t.data.companyBidAccounts:[]),a.details.companyBidAccounts.splice(0,0,a.$cookie.get("user")),a.$set(a.details,"name",t.data.name),a.$set(a.details,"state",t.data.state),a.$set(a.details,"isAcceptJointBid",t.data.isAcceptJointBid),a.$set(a.details,"type",t.data.type.join(",")),a.$set(a.details,"category",t.data.category),a.$set(a.details,"major",t.data.major.join(",")),a.$set(a.details,"loadingProject",!1)}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:e,key:"account"}).then(function(t){console.log(t.data[0]),a.$set(a.details,"role",t.data[0].role),a.$set(a.details,"sourceName",t.data[0].name),a.$set(a.details,"email",t.data[0].email),a.$set(a.details,"account",t.data[0].account),a.$set(a.details,"loadingPeople",!1)}).catch(function(t){console.log(t)})},perBid:function(t,e,a){var s=this;this.dialogVisible=!1,"投标中"!==e?this.$message({type:"warning",message:"只有投标中的项目才可以投标哦,该项目的状态为"+e}):this.$http.post(this.$domain.domain1+"electric-design/personalBid",{belongToProjectCode:t,belongToProjectName:a,sourceUserId:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name"),sourceUserType:"puser",bidType:"personal"}).then(function(t){console.log(t.data),!0===t.data.result?(s.$message({type:"success",message:"个人投标成功,请在项目汇总里查看"}),s.fileList=[],s.uploadDis=!1,s.$router.push("/per/PM-sumary/2B")):(s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1)}).catch(function(t){s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1,console.log(t)})},comBid:function(t,e,a){var s=this;this.dialogVisible=!1,"投标中"!==e?this.$message({type:"warning",message:"只有投标中的项目才可以投标哦,该项目的状态为"+e}):this.$http.post(this.$domain.domain1+"electric-design/personalBid",{belongToProjectCode:t,belongToProjectName:a,sourceUserId:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name"),sourceUserType:"cuser",bidType:"personal"}).then(function(t){t.data.result?(s.$message({type:"success",message:"企业投标成功,请在项目汇总里查看"}),s.fileList=[],s.uploadDis=!1,s.$router.push("/com/CM-sumary/2B")):(s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1)}).catch(function(t){s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1,console.log(t)})},allyBid:function(t,e,a){var s=this;this.dialogVisible=!1,"投标中"!==e?this.$message({type:"warning",message:"只有投标中的项目才可以投标哦,该项目的状态为"+e}):this.$http.post(this.$domain.domain1+"electric-design/unionBid",{belongToProjectCode:t,belongToProjectName:a,sourceUserId:this.$cookie.get("user"),sourceUserName:this.$cookie.get("name"),sourceUserType:this.$cookie.get("role"),bidType:"unit"}).then(function(t){t.data.result?(s.$message({type:"success",message:"联合体投标成功,请在联合体里查看"}),s.fileList=[],s.uploadDis=!1,"puser"===s.$cookie.get("role")&&(s.$router.push("/per/PM-combo/2"),s.$nextTick(function(){this.$one.$emit("test",this.details.code)})),"cuser"===s.$cookie.get("role")&&(s.$router.push("/com/CM-combo/2"),s.$nextTick(function(){this.$one.$emit("test",this.details.code)}))):(s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1)}).catch(function(t){s.$message({type:"warning",message:"您已经对此项目投标了"}),s.uploadDis=!1,console.log(t)})},beforeUpload:function(t){console.log("before"),console.log(t)},success:function(t,e,a){console.log(t),t.result||this.$message({type:"warning",message:"投标失败原因"+t.reason})},failure:function(t,e,a){this.$message.warning(e.name+"上传失败"),console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},progress:function(t,e,a){this.fileList=a},change:function(t,e){this.fileList=e},remove:function(t,e){console.log(e),this.fileList=e}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/project")}}},[t._v("表头编辑")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize)}},[t._l(t.json,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.detail(e.row.code,e.row.sourceAccount)}}},[t._v("投标")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.skip({account:e.row.srcUserAccount,name:e.row.sourceName})}}},[t._v("聊天")])]}}])})],2),t._v(" "),a("el-dialog",{attrs:{title:"确定要投标?",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.details.loadingProject,expression:"details.loadingProject"}],staticStyle:{"text-align":"left","border-top":"1px solid gray",padding:"1rem"}},[a("p",{staticStyle:{color:"#4d83e7","font-size":"1.5rem"}},[t._v("项目信息")]),t._v(" "),a("p",[t._v("项目名称:"+t._s(t.details.name))]),t._v(" "),a("p",[t._v("状态:"+t._s(t.details.state))]),t._v(" "),a("p",[t._v("类别:"+t._s(t.details.type))]),t._v(" "),a("p",[t._v("类型:"+t._s(t.details.category))]),t._v(" "),a("p",[t._v("涉及专业:"+t._s(t.details.major))]),t._v(" "),a("p",[t._v("是否接受联合投标:"+t._s("true"===t.details.isAcceptJointBid?"是":"否"))])]),t._v(" "),a("div",["puser"===t.$cookie.get("role")?a("el-radio",{attrs:{label:"personal"},model:{value:t.bidType,callback:function(e){t.bidType=e},expression:"bidType"}},[t._v("个人投标")]):t._e(),t._v(" "),"cuser"===t.$cookie.get("role")?a("el-radio",{attrs:{label:"personal"},model:{value:t.bidType,callback:function(e){t.bidType=e},expression:"bidType"}},[t._v("企业投标")]):t._e(),t._v(" "),"true"===t.details.isAcceptJointBid?a("el-radio",{attrs:{label:"unit"},model:{value:t.bidType,callback:function(e){t.bidType=e},expression:"bidType"}},[t._v("联合投标")]):t._e()],1),t._v(" "),a("el-input",{attrs:{placeholder:"请填写您的投标报价"},model:{value:t.bidInstruction.price,callback:function(e){t.$set(t.bidInstruction,"price",e)},expression:"bidInstruction.price"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请填写您的工期"},model:{value:t.bidInstruction.time,callback:function(e){t.$set(t.bidInstruction,"time",e)},expression:"bidInstruction.time"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请填写您的业绩"},model:{value:t.bidInstruction.performance,callback:function(e){t.$set(t.bidInstruction,"performance",e)},expression:"bidInstruction.performance"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请填写您的资质"},model:{value:t.bidInstruction.aptitude,callback:function(e){t.$set(t.bidInstruction,"aptitude",e)},expression:"bidInstruction.aptitude"}}),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{multiple:"",id:"upload",data:{belongToProjectCode:t.details.code,belongToProjectName:t.details.name,sourceUserId:t.$cookie.get("user"),sourceUserName:t.$cookie.get("name"),sourceUserType:t.$cookie.get("role"),bidfjxx:t.getBidInstruction(),bidType:t.getBidType()},name:"data",action:this.$domain.domain1+"electric-design/bidAndUpLoad","file-list":t.fileList,"before-upload":t.beforeUpload,"on-progress":t.progress,"on-remove":t.remove,"on-change":t.change,"on-success":t.success,"on-error":t.failure,"on-exceed":t.handleExceed,limit:this.limit,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary",disabled:t.uploadDis},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("点击投标时可以上传已有业绩证明文件，不超过"+t._s(t.limit)+"个")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("投标")])],1)],1),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":t.currentPage,"page-sizes":[3,6,9,18],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.table.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var d=a("VU/8")(c,u,!1,function(t){a("6gAE")},"data-v-7c11bb98",null);e.a=d.exports},lT86:function(t,e){},lTKy:function(t,e){},ljcC:function(t,e,a){"use strict";var s=a("j1ja"),n=(a.n(s),a("7+uW")),o=a("NYxO");n.default.use(o.a);e.a=new o.a.Store({state:{id:""},mutations:{}})},mqYZ:function(t,e){},mvXH:function(t,e){},mx0H:function(t,e){},mxGx:function(t,e){},"n0/c":function(t,e){},oJWT:function(t,e,a){"use strict";(function(t){e.a={data:function(){var t=this;return{dialogVisible:!1,msg:"",checked:!0,Form:{returnCheck:"",user:"",pass:"",MSG:""},rules:{user:[{validator:function(e,a,s){return a?/0?(13|14|15|17|18|19)[0-9]{9}|\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(a)?void(t.$preSQL.pre(a)?s():s(new Error("非法字符串"))):s(new Error("账号只能为手机号或者邮箱")):s(new Error("账号不能为空"))},trigger:"blur"}],pass:[{validator:function(e,a,s){a?t.$preSQL.pre(a)?s():s(new Error("非法字符串")):s(new Error("请输入密码"))},trigger:"blur"}],check:[{validator:function(e,a,s){""===a?s(new Error("验证码不能为空")):a!==t.Form.returnCheck?s(new Error("请输入与收到短信同样的的验证码")):t.$preSQL.pre(a)?s():s(new Error("非法字符串"))},trigger:"blur"}]}}},mounted:function(){this.initData()},methods:{initData:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/getHomepagedata").then(function(e){t.msg=e.data.platformName}).catch(function(t){console.log(t)}),this.$cookie.get("user")&&(this.$message({type:"success",message:"检测到您的账号"+this.$cookie.get("user")+",自动为您登陆"}),"puser"===this.$cookie.get("role")?this.$router.push("/per/person-perAchi"):this.$router.push("/com/company-comAchi"),this.$nextTick(function(){t.$startInit(t.$cookie.get("user"),{token:t.$cookie.get("token")})}))},next:function(){t("#pass").focus()},login:function(){var t=this;this.$refs.login.validate(function(e){e?t.$http.post(t.$domain.domain1+"electric-design/AllUserLogin",{account:t.Form.user,password:t.Form.pass}).then(function(e){e.data.result&&"false"!==e.data.result?(t.$message({message:"登录成功",type:"success"}),t.checked?(t.cookie.set("user",t.Form.user,30),t.cookie.set("pass",t.Form.pass,30),t.cookie.set("role",e.data.role,30),t.cookie.set("name",e.data.name,30),t.cookie.set("token",e.data.token,30)):(t.cookie.set("user",t.Form.user),t.cookie.set("pass",t.Form.pass),t.cookie.set("role",e.data.role),t.cookie.set("name",e.data.name),t.cookie.set("token",e.data.token)),t.$nextTick(function(){t.$startInit(t.$cookie.get("user"),{token:e.data.token})}),"puser"===e.data.role?t.$router.push("/per/person-perAchi"):t.$router.push("/com/company-comAchi")):t.$message({message:"登录失败:"+e.data.reason,type:"warning"})}).catch(function(t){console.log(t)}):t.$message({message:"请确保所填信息符合要求",type:"warning"})})},check:function(){var t=this;this.$http.post(this.$domain.domain1+"electric-design/sendFindPasswordMsg",{number:this.Form.user}).then(function(e){console.log(e.data),e.data.result?t.$message({type:"success",message:"验证码发送成功"}):t.$message({type:"warning",message:"验证码发送失败,原因"+e.data.reason}),t.Form.returnCheck=e.data.checkMsg,console.log(t.Form.returnCheck)}).catch(function(t){console.log(t)})},change:function(){var t=this;this.$refs.change.validate(function(e){if(!e)return t.$message({message:"请确保所填信息符合要求",type:"warning"}),!1;t.$http.post(t.$domain.domain1+"electric-design/ChangePass",{account:t.Form.user,password:t.Form.pass,checkMsg:t.Form.MSG}).then(function(e){e.data.result?t.$message({type:"success",message:"修改密码成功"}):t.$message({type:"warning",message:"失败原因"+e.data.reason})}).catch(function(t){console.log(t)})})}}}}).call(e,a("4kSj"))},p1rd:function(t,e,a){"use strict";var s=a("j1ja"),n=(a.n(s),a("7+uW")),o=a("NYxO"),i=a("mtWM"),r=a.n(i),l=a("Stau");n.default.use(o.a);var c={init:function(t){t.data=[]},add:function(t,e){var a={};a.sourceAccount=e.sourceAccount,a.code=e.code,e.mainImgPath?a.mainImgPath=l.a.domain1.substring(0,l.a.domain1.length-1)+e.mainImgPath:a.mainImgPath="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1517035882434&di=0676cefad1139b4081b7b6d960261b14&imgtype=0&src=http%3A%2F%2Fres10.xzlres.com%2FTravel%2F6352ce6f-c897-4b0a-bcfa-0fd3d6f17f27_450x298_1.jpg",a.name=e.name,e.endTime?a.endTime=[].concat(e.endTime.year+1900,e.endTime.month+1,e.endTime.date).join("/"):a.endTime="未填写",r.a.post(l.a.domain1+"electric-design/searchAllUsersByKeyAndValue",{value:e.sourceAccount,key:"account"}).then(function(t){n.default.set(a,"company",t.data.name)}).catch(function(t){console.log(t)}),t.data.push(a)}};e.a=new o.a.Store({state:{tags:[],tag1:[],tag2:[],tag3:[],tag4:[],tag5:[],data:[],length:1,json:{},table:[]},mutations:c})},p9iW:function(t,e){},pjZg:function(t,e){},q9tn:function(t,e,a){"use strict";var s=a("7+uW"),n=a("NYxO");s.default.use(n.a);e.a=new n.a.Store({state:{peopel:[1,3]},mutations:{}})},"sQ+l":function(t,e){},tOkx:function(t,e){},tc70:function(t,e){},tvR6:function(t,e){},uBCB:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("XnMs"),i=a("NYxO"),r={store:o.a,data:function(){return{max:"",jobs:[],major:[],domain:[],tags:[],jsonAllPuser:{},jsonAllCuser:{}}},computed:Object(i.c)(["table","json"]),mounted:function(){this.initData()},methods:n()({initData:function(){var t=this;this.$parent.loadingClassify=!0,this.$http.post(this.$domain.domain1+"electric-design/getDataOfClassKey").then(function(e){t.jobs=e.data.duties,t.$parent.loadingClassify=!1}).catch(function(t){console.log(t)}),this.$http.get(this.$domain.domain1+"electric-design/getTypeMajors").then(function(e){t.major=e.data.majors}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"网络连接错误",type:"error"})}),this.tags=this.$store.state.tags,this.tag1=this.$store.state.tag1,this.tag2=this.$store.state.tag2,this.tag3=this.$store.state.tag3,this.tag4=this.$store.state.tag4,this.tag5=this.$store.state.tag5}},Object(i.b)(["add"]),{add1:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag1.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add2:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag2.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add3:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag3.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add4:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag4.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})},add5:function(t){this.tags.length<5?(this.tags.push(t.target.innerText),this.tag5.push(t.target.innerText)):this.$message({message:"最多只能选"+this.max+"项目",type:"warning"})}}),watch:{tags:function(){var t=this;this.$parent.loadingContent=!0;var e={conditions:{jobs:{searchMethod:"values",values:this.tag1},major:{searchMethod:"values",values:this.tag2}}};this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfPuser").then(function(a){t.jsonAllPuser=a.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"pusers",otherName:"puserHeade"}).then(function(e){t.$store.state.jsonPuser={};for(var a in e.data)t.$store.state.jsonPuser[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)}),t.$http.post(t.$domain.domain1+"electric-design/getPusersByMultiConditions",e).then(function(e){t.$store.state.tablePuser=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAllPuser)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):s[n]="role"===n?"puser"===e[n]?"个人用户":"企业用户":e[n];t.$store.state.tablePuser.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}),this.$http.post(this.$domain.domain1+"electric-design/getDataFormatOfCuser").then(function(a){t.jsonAllCuser=a.data,t.$http.post(t.$domain.domain1+"electric-design/getShowKeyAndExplain",{belongToUser:t.$cookie.get("user"),table:"cusers",otherName:"cuserHeade"}).then(function(e){t.$store.state.jsonCuser={};for(var a in e.data)t.$store.state.jsonCuser[a]={key:a,title:e.data[a]}}).catch(function(t){console.log(t)}),t.$http.post(t.$domain.domain1+"electric-design/getCusersByMultiConditions",e).then(function(e){t.$store.state.tableCuser=[],0!==e.data&&e.data.forEach(function(e,a){var s={};for(var n in t.jsonAllCuser)Array.isArray(e[n])&&"processRequirements"!==n?s[n]=e[n].concat().join(","):s[n]="role"===n?"puser"===e[n]?"个人用户":"企业用户":e[n];t.$store.state.tableCuser.push(s)}),t.$parent.loadingContent=!1}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"classify"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("角色:")]),t._l(t.jobs,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add1(e)}}},[t._v(t._s(e))])]})],2),t._v(" "),a("div",{staticClass:"div1"},[a("span",{staticClass:"font1"},[t._v("专业:")]),t._l(t.major,function(e){return[a("span",{staticClass:"font2",on:{click:function(e){t.add2(e)}}},[t._v(t._s(e))])]})],2)])},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("6h1V")},"data-v-7d94c208",null);e.a=c.exports},urIH:function(t,e){},vYlG:function(t,e,a){"use strict";(function(t){var s=a("SUIp"),n=a("Ym5n"),o=a("Zy8N"),i=a("uBCB"),r=a("LnGT"),l=a("ww3g"),c=a("DdWF"),u=a("LrlY");e.a={components:{Info:s.a,top:n.a,search:o.a,classify:i.a,tag:r.a,mycontent:l.a,bottom:c.a,Drag:u.a},data:function(){return{loadingClassify:!0,loadingContent:!0}},mounted:function(){t("#facilitator").css("color","#409EFF")}}}).call(e,a("4kSj"))},ww3g:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("XnMs"),i=a("NYxO"),r={store:o.a,data:function(){return{dialogVisible:!1,currentPagePuser:1,currentPageCuser:1,pagesizePuser:3,pagesizeCuser:3}},computed:n()({},Object(i.c)(["data","tablePuser","tableCuser","jsonPuser","jsonCuser"])),methods:{skip:function(t){var e=this;this.$router.push("/chat/contact"),this.$nextTick(function(){e.$one.$emit("skipChat",t)})},handleSizeChangePuser:function(t){this.pagesizePuser=t},handleSizeChangeCuser:function(t){this.pagesizeCuser=t},handleCurrentChangePuser:function(t){this.currentPagePuser=t},handleCurrentChangeCuser:function(t){this.currentPageCuser=t}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-tabs",[a("el-tab-pane",{attrs:{label:"个人用户"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/puser")}}},[t._v("个人用户表头编辑")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tablePuser.slice((t.currentPagePuser-1)*t.pagesizePuser,t.currentPagePuser*t.pagesizePuser)}},[t._l(t.jsonPuser,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.account,name:e.row.name})}}},[t._v("和他聊天")])]}}])})],2),t._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":t.currentPagePuser,"page-sizes":[3,6,9,18],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.tablePuser.length},on:{"size-change":t.handleSizeChangePuser,"current-change":t.handleCurrentChangePuser}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"企业用户"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small",type:"warning",icon:"document"},on:{click:function(e){t.$router.push("/changeTable/cuser")}}},[t._v("企业用户表头编辑")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableCuser.slice((t.currentPageCuser-1)*t.pagesizeCuser,t.currentPageCuser*t.pagesizeCuser)}},[t._l(t.jsonCuser,function(t,e){return a("el-table-column",{key:e,attrs:{prop:e,label:t.title,"show-overflow-tooltip":"",fixed:"name"===e&&"left"}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.skip({account:e.row.account,name:e.row.name})}}},[t._v("和他聊天")])]}}])})],2),t._v(" "),a("el-pagination",{staticClass:"paging",attrs:{"current-page":t.currentPageCuser,"page-sizes":[3,6,9,18],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.tableCuser.length},on:{"size-change":t.handleSizeChangeCuser,"current-change":t.handleCurrentChangeCuser}})],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("JJfk")},"data-v-55b2fc97",null);e.a=c.exports},x48o:function(t,e){},x9JH:function(t,e){},yHnh:function(t,e){},zAji:function(t,e,a){t.exports=a.p+"static/img/404.a57b6f3.png"},zap7:function(t,e){},zrXt:function(t,e){}},[0]);
//# sourceMappingURL=app.f648ebbd7fa2c970df09.js.map